function xR(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function GT(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var yp={exports:{}},bl={},Sp={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry;function VT(){if(Ry)return Qe;Ry=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function m(k){return k===null||typeof k!="object"?null:(k=p&&k[p]||k["@@iterator"],typeof k=="function"?k:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,b={};function R(k,_,re){this.props=k,this.context=_,this.refs=b,this.updater=re||C}R.prototype.isReactComponent={},R.prototype.setState=function(k,_){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,_,"setState")},R.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function x(){}x.prototype=R.prototype;function E(k,_,re){this.props=k,this.context=_,this.refs=b,this.updater=re||C}var P=E.prototype=new x;P.constructor=E,y(P,R.prototype),P.isPureReactComponent=!0;var D=Array.isArray,A=Object.prototype.hasOwnProperty,O={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function G(k,_,re){var se,me={},ye=null,Se=null;if(_!=null)for(se in _.ref!==void 0&&(Se=_.ref),_.key!==void 0&&(ye=""+_.key),_)A.call(_,se)&&!T.hasOwnProperty(se)&&(me[se]=_[se]);var ke=arguments.length-2;if(ke===1)me.children=re;else if(1<ke){for(var Ve=Array(ke),Ze=0;Ze<ke;Ze++)Ve[Ze]=arguments[Ze+2];me.children=Ve}if(k&&k.defaultProps)for(se in ke=k.defaultProps,ke)me[se]===void 0&&(me[se]=ke[se]);return{$$typeof:e,type:k,key:ye,ref:Se,props:me,_owner:O.current}}function $(k,_){return{$$typeof:e,type:k.type,key:_,ref:k.ref,props:k.props,_owner:k._owner}}function U(k){return typeof k=="object"&&k!==null&&k.$$typeof===e}function J(k){var _={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(re){return _[re]})}var K=/\/+/g;function Y(k,_){return typeof k=="object"&&k!==null&&k.key!=null?J(""+k.key):_.toString(36)}function le(k,_,re,se,me){var ye=typeof k;(ye==="undefined"||ye==="boolean")&&(k=null);var Se=!1;if(k===null)Se=!0;else switch(ye){case"string":case"number":Se=!0;break;case"object":switch(k.$$typeof){case e:case t:Se=!0}}if(Se)return Se=k,me=me(Se),k=se===""?"."+Y(Se,0):se,D(me)?(re="",k!=null&&(re=k.replace(K,"$&/")+"/"),le(me,_,re,"",function(Ze){return Ze})):me!=null&&(U(me)&&(me=$(me,re+(!me.key||Se&&Se.key===me.key?"":(""+me.key).replace(K,"$&/")+"/")+k)),_.push(me)),1;if(Se=0,se=se===""?".":se+":",D(k))for(var ke=0;ke<k.length;ke++){ye=k[ke];var Ve=se+Y(ye,ke);Se+=le(ye,_,re,Ve,me)}else if(Ve=m(k),typeof Ve=="function")for(k=Ve.call(k),ke=0;!(ye=k.next()).done;)ye=ye.value,Ve=se+Y(ye,ke++),Se+=le(ye,_,re,Ve,me);else if(ye==="object")throw _=String(k),Error("Objects are not valid as a React child (found: "+(_==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":_)+"). If you meant to render a collection of children, use an array instead.");return Se}function fe(k,_,re){if(k==null)return k;var se=[],me=0;return le(k,se,"","",function(ye){return _.call(re,ye,me++)}),se}function ue(k){if(k._status===-1){var _=k._result;_=_(),_.then(function(re){(k._status===0||k._status===-1)&&(k._status=1,k._result=re)},function(re){(k._status===0||k._status===-1)&&(k._status=2,k._result=re)}),k._status===-1&&(k._status=0,k._result=_)}if(k._status===1)return k._result.default;throw k._result}var ie={current:null},B={transition:null},ne={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:B,ReactCurrentOwner:O};function Z(){throw Error("act(...) is not supported in production builds of React.")}return Qe.Children={map:fe,forEach:function(k,_,re){fe(k,function(){_.apply(this,arguments)},re)},count:function(k){var _=0;return fe(k,function(){_++}),_},toArray:function(k){return fe(k,function(_){return _})||[]},only:function(k){if(!U(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Qe.Component=R,Qe.Fragment=n,Qe.Profiler=i,Qe.PureComponent=E,Qe.StrictMode=r,Qe.Suspense=c,Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,Qe.act=Z,Qe.cloneElement=function(k,_,re){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var se=y({},k.props),me=k.key,ye=k.ref,Se=k._owner;if(_!=null){if(_.ref!==void 0&&(ye=_.ref,Se=O.current),_.key!==void 0&&(me=""+_.key),k.type&&k.type.defaultProps)var ke=k.type.defaultProps;for(Ve in _)A.call(_,Ve)&&!T.hasOwnProperty(Ve)&&(se[Ve]=_[Ve]===void 0&&ke!==void 0?ke[Ve]:_[Ve])}var Ve=arguments.length-2;if(Ve===1)se.children=re;else if(1<Ve){ke=Array(Ve);for(var Ze=0;Ze<Ve;Ze++)ke[Ze]=arguments[Ze+2];se.children=ke}return{$$typeof:e,type:k.type,key:me,ref:ye,props:se,_owner:Se}},Qe.createContext=function(k){return k={$$typeof:o,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:s,_context:k},k.Consumer=k},Qe.createElement=G,Qe.createFactory=function(k){var _=G.bind(null,k);return _.type=k,_},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(k){return{$$typeof:l,render:k}},Qe.isValidElement=U,Qe.lazy=function(k){return{$$typeof:f,_payload:{_status:-1,_result:k},_init:ue}},Qe.memo=function(k,_){return{$$typeof:d,type:k,compare:_===void 0?null:_}},Qe.startTransition=function(k){var _=B.transition;B.transition={};try{k()}finally{B.transition=_}},Qe.unstable_act=Z,Qe.useCallback=function(k,_){return ie.current.useCallback(k,_)},Qe.useContext=function(k){return ie.current.useContext(k)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(k){return ie.current.useDeferredValue(k)},Qe.useEffect=function(k,_){return ie.current.useEffect(k,_)},Qe.useId=function(){return ie.current.useId()},Qe.useImperativeHandle=function(k,_,re){return ie.current.useImperativeHandle(k,_,re)},Qe.useInsertionEffect=function(k,_){return ie.current.useInsertionEffect(k,_)},Qe.useLayoutEffect=function(k,_){return ie.current.useLayoutEffect(k,_)},Qe.useMemo=function(k,_){return ie.current.useMemo(k,_)},Qe.useReducer=function(k,_,re){return ie.current.useReducer(k,_,re)},Qe.useRef=function(k){return ie.current.useRef(k)},Qe.useState=function(k){return ie.current.useState(k)},Qe.useSyncExternalStore=function(k,_,re){return ie.current.useSyncExternalStore(k,_,re)},Qe.useTransition=function(){return ie.current.useTransition()},Qe.version="18.3.1",Qe}var xy;function hu(){return xy||(xy=1,Sp.exports=VT()),Sp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function WT(){if(Ey)return bl;Ey=1;var e=hu(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,d){var f,p={},m=null,C=null;d!==void 0&&(m=""+d),c.key!==void 0&&(m=""+c.key),c.ref!==void 0&&(C=c.ref);for(f in c)r.call(c,f)&&!s.hasOwnProperty(f)&&(p[f]=c[f]);if(l&&l.defaultProps)for(f in c=l.defaultProps,c)p[f]===void 0&&(p[f]=c[f]);return{$$typeof:t,type:l,key:m,ref:C,props:p,_owner:i.current}}return bl.Fragment=n,bl.jsx=o,bl.jsxs=o,bl}var Fy;function _T(){return Fy||(Fy=1,yp.exports=WT()),yp.exports}var I=_T(),w=hu();const W=Pi(w),km=xR({__proto__:null,default:W},[w]);var Gc={},bp={exports:{}},bn={},Rp={exports:{}},xp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Py;function zT(){return Py||(Py=1,function(e){function t(B,ne){var Z=B.length;B.push(ne);e:for(;0<Z;){var k=Z-1>>>1,_=B[k];if(0<i(_,ne))B[k]=ne,B[Z]=_,Z=k;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var ne=B[0],Z=B.pop();if(Z!==ne){B[0]=Z;e:for(var k=0,_=B.length,re=_>>>1;k<re;){var se=2*(k+1)-1,me=B[se],ye=se+1,Se=B[ye];if(0>i(me,Z))ye<_&&0>i(Se,me)?(B[k]=Se,B[ye]=Z,k=ye):(B[k]=me,B[se]=Z,k=se);else if(ye<_&&0>i(Se,Z))B[k]=Se,B[ye]=Z,k=ye;else break e}}return ne}function i(B,ne){var Z=B.sortIndex-ne.sortIndex;return Z!==0?Z:B.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],f=1,p=null,m=3,C=!1,y=!1,b=!1,R=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(B){for(var ne=n(d);ne!==null;){if(ne.callback===null)r(d);else if(ne.startTime<=B)r(d),ne.sortIndex=ne.expirationTime,t(c,ne);else break;ne=n(d)}}function D(B){if(b=!1,P(B),!y)if(n(c)!==null)y=!0,ue(A);else{var ne=n(d);ne!==null&&ie(D,ne.startTime-B)}}function A(B,ne){y=!1,b&&(b=!1,x(G),G=-1),C=!0;var Z=m;try{for(P(ne),p=n(c);p!==null&&(!(p.expirationTime>ne)||B&&!J());){var k=p.callback;if(typeof k=="function"){p.callback=null,m=p.priorityLevel;var _=k(p.expirationTime<=ne);ne=e.unstable_now(),typeof _=="function"?p.callback=_:p===n(c)&&r(c),P(ne)}else r(c);p=n(c)}if(p!==null)var re=!0;else{var se=n(d);se!==null&&ie(D,se.startTime-ne),re=!1}return re}finally{p=null,m=Z,C=!1}}var O=!1,T=null,G=-1,$=5,U=-1;function J(){return!(e.unstable_now()-U<$)}function K(){if(T!==null){var B=e.unstable_now();U=B;var ne=!0;try{ne=T(!0,B)}finally{ne?Y():(O=!1,T=null)}}else O=!1}var Y;if(typeof E=="function")Y=function(){E(K)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,fe=le.port2;le.port1.onmessage=K,Y=function(){fe.postMessage(null)}}else Y=function(){R(K,0)};function ue(B){T=B,O||(O=!0,Y())}function ie(B,ne){G=R(function(){B(e.unstable_now())},ne)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){y||C||(y=!0,ue(A))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(B){switch(m){case 1:case 2:case 3:var ne=3;break;default:ne=m}var Z=m;m=ne;try{return B()}finally{m=Z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,ne){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Z=m;m=B;try{return ne()}finally{m=Z}},e.unstable_scheduleCallback=function(B,ne,Z){var k=e.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?k+Z:k):Z=k,B){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=Z+_,B={id:f++,callback:ne,priorityLevel:B,startTime:Z,expirationTime:_,sortIndex:-1},Z>k?(B.sortIndex=Z,t(d,B),n(c)===null&&B===n(d)&&(b?(x(G),G=-1):b=!0,ie(D,Z-k))):(B.sortIndex=_,t(c,B),y||C||(y=!0,ue(A))),B},e.unstable_shouldYield=J,e.unstable_wrapCallback=function(B){var ne=m;return function(){var Z=m;m=ne;try{return B.apply(this,arguments)}finally{m=Z}}}}(xp)),xp}var Dy;function jT(){return Dy||(Dy=1,Rp.exports=zT()),Rp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty;function UT(){if(Ty)return bn;Ty=1;var e=hu(),t=jT();function n(a){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+a,h=1;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(a,u){o(a,u),o(a+"Capture",u)}function o(a,u){for(i[a]=u,a=0;a<u.length;a++)r.add(u[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(a){return c.call(p,a)?!0:c.call(f,a)?!1:d.test(a)?p[a]=!0:(f[a]=!0,!1)}function C(a,u,h,g){if(h!==null&&h.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return g?!1:h!==null?!h.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function y(a,u,h,g){if(u===null||typeof u>"u"||C(a,u,h,g))return!0;if(g)return!1;if(h!==null)switch(h.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function b(a,u,h,g,v,S,F){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=g,this.attributeNamespace=v,this.mustUseProperty=h,this.propertyName=a,this.type=u,this.sanitizeURL=S,this.removeEmptyString=F}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){R[a]=new b(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var u=a[0];R[u]=new b(u,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){R[a]=new b(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){R[a]=new b(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){R[a]=new b(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){R[a]=new b(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){R[a]=new b(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){R[a]=new b(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){R[a]=new b(a,5,!1,a.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function E(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var u=a.replace(x,E);R[u]=new b(u,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var u=a.replace(x,E);R[u]=new b(u,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var u=a.replace(x,E);R[u]=new b(u,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){R[a]=new b(a,1,!1,a.toLowerCase(),null,!1,!1)}),R.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){R[a]=new b(a,1,!1,a.toLowerCase(),null,!0,!0)});function P(a,u,h,g){var v=R.hasOwnProperty(u)?R[u]:null;(v!==null?v.type!==0:g||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(y(u,h,v,g)&&(h=null),g||v===null?m(u)&&(h===null?a.removeAttribute(u):a.setAttribute(u,""+h)):v.mustUseProperty?a[v.propertyName]=h===null?v.type===3?!1:"":h:(u=v.attributeName,g=v.attributeNamespace,h===null?a.removeAttribute(u):(v=v.type,h=v===3||v===4&&h===!0?"":""+h,g?a.setAttributeNS(g,u,h):a.setAttribute(u,h))))}var D=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),O=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),J=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),fe=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),B=Symbol.iterator;function ne(a){return a===null||typeof a!="object"?null:(a=B&&a[B]||a["@@iterator"],typeof a=="function"?a:null)}var Z=Object.assign,k;function _(a){if(k===void 0)try{throw Error()}catch(h){var u=h.stack.trim().match(/\n( *(at )?)/);k=u&&u[1]||""}return`
`+k+a}var re=!1;function se(a,u){if(!a||re)return"";re=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(q){var g=q}Reflect.construct(a,[],u)}else{try{u.call()}catch(q){g=q}a.call(u.prototype)}else{try{throw Error()}catch(q){g=q}a()}}catch(q){if(q&&g&&typeof q.stack=="string"){for(var v=q.stack.split(`
`),S=g.stack.split(`
`),F=v.length-1,M=S.length-1;1<=F&&0<=M&&v[F]!==S[M];)M--;for(;1<=F&&0<=M;F--,M--)if(v[F]!==S[M]){if(F!==1||M!==1)do if(F--,M--,0>M||v[F]!==S[M]){var N=`
`+v[F].replace(" at new "," at ");return a.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",a.displayName)),N}while(1<=F&&0<=M);break}}}finally{re=!1,Error.prepareStackTrace=h}return(a=a?a.displayName||a.name:"")?_(a):""}function me(a){switch(a.tag){case 5:return _(a.type);case 16:return _("Lazy");case 13:return _("Suspense");case 19:return _("SuspenseList");case 0:case 2:case 15:return a=se(a.type,!1),a;case 11:return a=se(a.type.render,!1),a;case 1:return a=se(a.type,!0),a;default:return""}}function ye(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case T:return"Fragment";case O:return"Portal";case $:return"Profiler";case G:return"StrictMode";case Y:return"Suspense";case le:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case J:return(a.displayName||"Context")+".Consumer";case U:return(a._context.displayName||"Context")+".Provider";case K:var u=a.render;return a=a.displayName,a||(a=u.displayName||u.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case fe:return u=a.displayName||null,u!==null?u:ye(a.type)||"Memo";case ue:u=a._payload,a=a._init;try{return ye(a(u))}catch{}}return null}function Se(a){var u=a.type;switch(a.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=u.render,a=a.displayName||a.name||"",u.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ye(u);case 8:return u===G?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function ke(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ve(a){var u=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Ze(a){var u=Ve(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,u),g=""+a[u];if(!a.hasOwnProperty(u)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var v=h.get,S=h.set;return Object.defineProperty(a,u,{configurable:!0,get:function(){return v.call(this)},set:function(F){g=""+F,S.call(this,F)}}),Object.defineProperty(a,u,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function(F){g=""+F},stopTracking:function(){a._valueTracker=null,delete a[u]}}}}function Yt(a){a._valueTracker||(a._valueTracker=Ze(a))}function at(a){if(!a)return!1;var u=a._valueTracker;if(!u)return!0;var h=u.getValue(),g="";return a&&(g=Ve(a)?a.checked?"true":"false":a.value),a=g,a!==h?(u.setValue(a),!0):!1}function je(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Ye(a,u){var h=u.checked;return Z({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??a._wrapperState.initialChecked})}function ze(a,u){var h=u.defaultValue==null?"":u.defaultValue,g=u.checked!=null?u.checked:u.defaultChecked;h=ke(u.value!=null?u.value:h),a._wrapperState={initialChecked:g,initialValue:h,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function ct(a,u){u=u.checked,u!=null&&P(a,"checked",u,!1)}function qe(a,u){ct(a,u);var h=ke(u.value),g=u.type;if(h!=null)g==="number"?(h===0&&a.value===""||a.value!=h)&&(a.value=""+h):a.value!==""+h&&(a.value=""+h);else if(g==="submit"||g==="reset"){a.removeAttribute("value");return}u.hasOwnProperty("value")?Bt(a,u.type,h):u.hasOwnProperty("defaultValue")&&Bt(a,u.type,ke(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(a.defaultChecked=!!u.defaultChecked)}function Tt(a,u,h){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var g=u.type;if(!(g!=="submit"&&g!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+a._wrapperState.initialValue,h||u===a.value||(a.value=u),a.defaultValue=u}h=a.name,h!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,h!==""&&(a.name=h)}function Bt(a,u,h){(u!=="number"||je(a.ownerDocument)!==a)&&(h==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+h&&(a.defaultValue=""+h))}var mt=Array.isArray;function pt(a,u,h,g){if(a=a.options,u){u={};for(var v=0;v<h.length;v++)u["$"+h[v]]=!0;for(h=0;h<a.length;h++)v=u.hasOwnProperty("$"+a[h].value),a[h].selected!==v&&(a[h].selected=v),v&&g&&(a[h].defaultSelected=!0)}else{for(h=""+ke(h),u=null,v=0;v<a.length;v++){if(a[v].value===h){a[v].selected=!0,g&&(a[v].defaultSelected=!0);return}u!==null||a[v].disabled||(u=a[v])}u!==null&&(u.selected=!0)}}function $n(a,u){if(u.dangerouslySetInnerHTML!=null)throw Error(n(91));return Z({},u,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Ii(a,u){var h=u.value;if(h==null){if(h=u.children,u=u.defaultValue,h!=null){if(u!=null)throw Error(n(92));if(mt(h)){if(1<h.length)throw Error(n(93));h=h[0]}u=h}u==null&&(u=""),h=u}a._wrapperState={initialValue:ke(h)}}function rn(a,u){var h=ke(u.value),g=ke(u.defaultValue);h!=null&&(h=""+h,h!==a.value&&(a.value=h),u.defaultValue==null&&a.defaultValue!==h&&(a.defaultValue=h)),g!=null&&(a.defaultValue=""+g)}function ur(a){var u=a.textContent;u===a._wrapperState.initialValue&&u!==""&&u!==null&&(a.value=u)}function xs(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ir(a,u){return a==null||a==="http://www.w3.org/1999/xhtml"?xs(u):a==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Je,Ct=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,h,g,v){MSApp.execUnsafeLocalFunction(function(){return a(u,h,g,v)})}:a}(function(a,u){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=u;else{for(Je=Je||document.createElement("div"),Je.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Je.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;u.firstChild;)a.appendChild(u.firstChild)}});function Or(a,u){if(u){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=u;return}}a.textContent=u}var Lr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hh=["Webkit","ms","Moz","O"];Object.keys(Lr).forEach(function(a){Hh.forEach(function(u){u=u+a.charAt(0).toUpperCase()+a.substring(1),Lr[u]=Lr[a]})});function cr(a,u,h){return u==null||typeof u=="boolean"||u===""?"":h||typeof u!="number"||u===0||Lr.hasOwnProperty(a)&&Lr[a]?(""+u).trim():u+"px"}function Ha(a,u){a=a.style;for(var h in u)if(u.hasOwnProperty(h)){var g=h.indexOf("--")===0,v=cr(h,u[h],g);h==="float"&&(h="cssFloat"),g?a.setProperty(h,v):a[h]=v}}var Au=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yo(a,u){if(u){if(Au[a]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(n(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(n(61))}if(u.style!=null&&typeof u.style!="object")throw Error(n(62))}}function Ga(a,u){if(a.indexOf("-")===-1)return typeof u.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var So=null;function Oi(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var bo=null,Nr=null,Br=null;function Mu(a){if(a=al(a)){if(typeof bo!="function")throw Error(n(280));var u=a.stateNode;u&&(u=Zu(u),bo(a.stateNode,a.type,u))}}function Va(a){Nr?Br?Br.push(a):Br=[a]:Nr=a}function ku(){if(Nr){var a=Nr,u=Br;if(Br=Nr=null,Mu(a),u)for(a=0;a<u.length;a++)Mu(u[a])}}function Wa(a,u){return a(u)}function Es(){}var Li=!1;function Iu(a,u,h){if(Li)return a(u,h);Li=!0;try{return Wa(a,u,h)}finally{Li=!1,(Nr!==null||Br!==null)&&(Es(),ku())}}function Fs(a,u){var h=a.stateNode;if(h===null)return null;var g=Zu(h);if(g===null)return null;h=g[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(n(231,u,typeof h));return h}var L=!1;if(l)try{var V={};Object.defineProperty(V,"passive",{get:function(){L=!0}}),window.addEventListener("test",V,V),window.removeEventListener("test",V,V)}catch{L=!1}function Q(a,u,h,g,v,S,F,M,N){var q=Array.prototype.slice.call(arguments,3);try{u.apply(h,q)}catch(ce){this.onError(ce)}}var oe=!1,we=null,Me=!1,Ge=null,Fe={onError:function(a){oe=!0,we=a}};function De(a,u,h,g,v,S,F,M,N){oe=!1,we=null,Q.apply(Fe,arguments)}function Re(a,u,h,g,v,S,F,M,N){if(De.apply(this,arguments),oe){if(oe){var q=we;oe=!1,we=null}else throw Error(n(198));Me||(Me=!0,Ge=q)}}function Ee(a){var u=a,h=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do u=a,(u.flags&4098)!==0&&(h=u.return),a=u.return;while(a)}return u.tag===3?h:null}function Ue(a){if(a.tag===13){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function Xe(a){if(Ee(a)!==a)throw Error(n(188))}function zt(a){var u=a.alternate;if(!u){if(u=Ee(a),u===null)throw Error(n(188));return u!==a?null:a}for(var h=a,g=u;;){var v=h.return;if(v===null)break;var S=v.alternate;if(S===null){if(g=v.return,g!==null){h=g;continue}break}if(v.child===S.child){for(S=v.child;S;){if(S===h)return Xe(v),a;if(S===g)return Xe(v),u;S=S.sibling}throw Error(n(188))}if(h.return!==g.return)h=v,g=S;else{for(var F=!1,M=v.child;M;){if(M===h){F=!0,h=v,g=S;break}if(M===g){F=!0,g=v,h=S;break}M=M.sibling}if(!F){for(M=S.child;M;){if(M===h){F=!0,h=S,g=v;break}if(M===g){F=!0,g=S,h=v;break}M=M.sibling}if(!F)throw Error(n(189))}}if(h.alternate!==g)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?a:u}function dt(a){return a=zt(a),a!==null?tt(a):null}function tt(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var u=tt(a);if(u!==null)return u;a=a.sibling}return null}var bt=t.unstable_scheduleCallback,ii=t.unstable_cancelCallback,Ps=t.unstable_shouldYield,dr=t.unstable_requestPaint,rt=t.unstable_now,_a=t.unstable_getCurrentPriorityLevel,si=t.unstable_ImmediatePriority,Hr=t.unstable_UserBlockingPriority,oi=t.unstable_NormalPriority,Ro=t.unstable_LowPriority,et=t.unstable_IdlePriority,gt=null,Qt=null;function Ds(a){if(Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(gt,a,void 0,(a.current.flags&128)===128)}catch{}}var it=Math.clz32?Math.clz32:Gh,Ni=Math.log,Ou=Math.LN2;function Gh(a){return a>>>=0,a===0?32:31-(Ni(a)/Ou|0)|0}var Lu=64,Nu=4194304;function za(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Bu(a,u){var h=a.pendingLanes;if(h===0)return 0;var g=0,v=a.suspendedLanes,S=a.pingedLanes,F=h&268435455;if(F!==0){var M=F&~v;M!==0?g=za(M):(S&=F,S!==0&&(g=za(S)))}else F=h&~v,F!==0?g=za(F):S!==0&&(g=za(S));if(g===0)return 0;if(u!==0&&u!==g&&(u&v)===0&&(v=g&-g,S=u&-u,v>=S||v===16&&(S&4194240)!==0))return u;if((g&4)!==0&&(g|=h&16),u=a.entangledLanes,u!==0)for(a=a.entanglements,u&=g;0<u;)h=31-it(u),v=1<<h,g|=a[h],u&=~v;return g}function iD(a,u){switch(a){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sD(a,u){for(var h=a.suspendedLanes,g=a.pingedLanes,v=a.expirationTimes,S=a.pendingLanes;0<S;){var F=31-it(S),M=1<<F,N=v[F];N===-1?((M&h)===0||(M&g)!==0)&&(v[F]=iD(M,u)):N<=u&&(a.expiredLanes|=M),S&=~M}}function Vh(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function ev(){var a=Lu;return Lu<<=1,(Lu&4194240)===0&&(Lu=64),a}function Wh(a){for(var u=[],h=0;31>h;h++)u.push(a);return u}function ja(a,u,h){a.pendingLanes|=u,u!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,u=31-it(u),a[u]=h}function oD(a,u){var h=a.pendingLanes&~u;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=u,a.mutableReadLanes&=u,a.entangledLanes&=u,u=a.entanglements;var g=a.eventTimes;for(a=a.expirationTimes;0<h;){var v=31-it(h),S=1<<v;u[v]=0,g[v]=-1,a[v]=-1,h&=~S}}function _h(a,u){var h=a.entangledLanes|=u;for(a=a.entanglements;h;){var g=31-it(h),v=1<<g;v&u|a[g]&u&&(a[g]|=u),h&=~v}}var ht=0;function tv(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var nv,zh,rv,iv,sv,jh=!1,Hu=[],Bi=null,Hi=null,Gi=null,Ua=new Map,$a=new Map,Vi=[],aD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ov(a,u){switch(a){case"focusin":case"focusout":Bi=null;break;case"dragenter":case"dragleave":Hi=null;break;case"mouseover":case"mouseout":Gi=null;break;case"pointerover":case"pointerout":Ua.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":$a.delete(u.pointerId)}}function Ka(a,u,h,g,v,S){return a===null||a.nativeEvent!==S?(a={blockedOn:u,domEventName:h,eventSystemFlags:g,nativeEvent:S,targetContainers:[v]},u!==null&&(u=al(u),u!==null&&zh(u)),a):(a.eventSystemFlags|=g,u=a.targetContainers,v!==null&&u.indexOf(v)===-1&&u.push(v),a)}function lD(a,u,h,g,v){switch(u){case"focusin":return Bi=Ka(Bi,a,u,h,g,v),!0;case"dragenter":return Hi=Ka(Hi,a,u,h,g,v),!0;case"mouseover":return Gi=Ka(Gi,a,u,h,g,v),!0;case"pointerover":var S=v.pointerId;return Ua.set(S,Ka(Ua.get(S)||null,a,u,h,g,v)),!0;case"gotpointercapture":return S=v.pointerId,$a.set(S,Ka($a.get(S)||null,a,u,h,g,v)),!0}return!1}function av(a){var u=Ts(a.target);if(u!==null){var h=Ee(u);if(h!==null){if(u=h.tag,u===13){if(u=Ue(h),u!==null){a.blockedOn=u,sv(a.priority,function(){rv(h)});return}}else if(u===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Gu(a){if(a.blockedOn!==null)return!1;for(var u=a.targetContainers;0<u.length;){var h=$h(a.domEventName,a.eventSystemFlags,u[0],a.nativeEvent);if(h===null){h=a.nativeEvent;var g=new h.constructor(h.type,h);So=g,h.target.dispatchEvent(g),So=null}else return u=al(h),u!==null&&zh(u),a.blockedOn=h,!1;u.shift()}return!0}function lv(a,u,h){Gu(a)&&h.delete(u)}function uD(){jh=!1,Bi!==null&&Gu(Bi)&&(Bi=null),Hi!==null&&Gu(Hi)&&(Hi=null),Gi!==null&&Gu(Gi)&&(Gi=null),Ua.forEach(lv),$a.forEach(lv)}function qa(a,u){a.blockedOn===u&&(a.blockedOn=null,jh||(jh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,uD)))}function Ya(a){function u(v){return qa(v,a)}if(0<Hu.length){qa(Hu[0],a);for(var h=1;h<Hu.length;h++){var g=Hu[h];g.blockedOn===a&&(g.blockedOn=null)}}for(Bi!==null&&qa(Bi,a),Hi!==null&&qa(Hi,a),Gi!==null&&qa(Gi,a),Ua.forEach(u),$a.forEach(u),h=0;h<Vi.length;h++)g=Vi[h],g.blockedOn===a&&(g.blockedOn=null);for(;0<Vi.length&&(h=Vi[0],h.blockedOn===null);)av(h),h.blockedOn===null&&Vi.shift()}var xo=D.ReactCurrentBatchConfig,Vu=!0;function cD(a,u,h,g){var v=ht,S=xo.transition;xo.transition=null;try{ht=1,Uh(a,u,h,g)}finally{ht=v,xo.transition=S}}function dD(a,u,h,g){var v=ht,S=xo.transition;xo.transition=null;try{ht=4,Uh(a,u,h,g)}finally{ht=v,xo.transition=S}}function Uh(a,u,h,g){if(Vu){var v=$h(a,u,h,g);if(v===null)cf(a,u,g,Wu,h),ov(a,g);else if(lD(v,a,u,h,g))g.stopPropagation();else if(ov(a,g),u&4&&-1<aD.indexOf(a)){for(;v!==null;){var S=al(v);if(S!==null&&nv(S),S=$h(a,u,h,g),S===null&&cf(a,u,g,Wu,h),S===v)break;v=S}v!==null&&g.stopPropagation()}else cf(a,u,g,null,h)}}var Wu=null;function $h(a,u,h,g){if(Wu=null,a=Oi(g),a=Ts(a),a!==null)if(u=Ee(a),u===null)a=null;else if(h=u.tag,h===13){if(a=Ue(u),a!==null)return a;a=null}else if(h===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;a=null}else u!==a&&(a=null);return Wu=a,null}function uv(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_a()){case si:return 1;case Hr:return 4;case oi:case Ro:return 16;case et:return 536870912;default:return 16}default:return 16}}var Wi=null,Kh=null,_u=null;function cv(){if(_u)return _u;var a,u=Kh,h=u.length,g,v="value"in Wi?Wi.value:Wi.textContent,S=v.length;for(a=0;a<h&&u[a]===v[a];a++);var F=h-a;for(g=1;g<=F&&u[h-g]===v[S-g];g++);return _u=v.slice(a,1<g?1-g:void 0)}function zu(a){var u=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&u===13&&(a=13)):a=u,a===10&&(a=13),32<=a||a===13?a:0}function ju(){return!0}function dv(){return!1}function On(a){function u(h,g,v,S,F){this._reactName=h,this._targetInst=v,this.type=g,this.nativeEvent=S,this.target=F,this.currentTarget=null;for(var M in a)a.hasOwnProperty(M)&&(h=a[M],this[M]=h?h(S):S[M]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?ju:dv,this.isPropagationStopped=dv,this}return Z(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=ju)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=ju)},persist:function(){},isPersistent:ju}),u}var Eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qh=On(Eo),Qa=Z({},Eo,{view:0,detail:0}),hD=On(Qa),Yh,Qh,Ja,Uu=Z({},Qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xh,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ja&&(Ja&&a.type==="mousemove"?(Yh=a.screenX-Ja.screenX,Qh=a.screenY-Ja.screenY):Qh=Yh=0,Ja=a),Yh)},movementY:function(a){return"movementY"in a?a.movementY:Qh}}),hv=On(Uu),fD=Z({},Uu,{dataTransfer:0}),pD=On(fD),gD=Z({},Qa,{relatedTarget:0}),Jh=On(gD),mD=Z({},Eo,{animationName:0,elapsedTime:0,pseudoElement:0}),CD=On(mD),vD=Z({},Eo,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),wD=On(vD),yD=Z({},Eo,{data:0}),fv=On(yD),SD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xD(a){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(a):(a=RD[a])?!!u[a]:!1}function Xh(){return xD}var ED=Z({},Qa,{key:function(a){if(a.key){var u=SD[a.key]||a.key;if(u!=="Unidentified")return u}return a.type==="keypress"?(a=zu(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?bD[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xh,charCode:function(a){return a.type==="keypress"?zu(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?zu(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),FD=On(ED),PD=Z({},Uu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pv=On(PD),DD=Z({},Qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xh}),TD=On(DD),AD=Z({},Eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),MD=On(AD),kD=Z({},Uu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ID=On(kD),OD=[9,13,27,32],Zh=l&&"CompositionEvent"in window,Xa=null;l&&"documentMode"in document&&(Xa=document.documentMode);var LD=l&&"TextEvent"in window&&!Xa,gv=l&&(!Zh||Xa&&8<Xa&&11>=Xa),mv=" ",Cv=!1;function vv(a,u){switch(a){case"keyup":return OD.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wv(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Fo=!1;function ND(a,u){switch(a){case"compositionend":return wv(u);case"keypress":return u.which!==32?null:(Cv=!0,mv);case"textInput":return a=u.data,a===mv&&Cv?null:a;default:return null}}function BD(a,u){if(Fo)return a==="compositionend"||!Zh&&vv(a,u)?(a=cv(),_u=Kh=Wi=null,Fo=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return gv&&u.locale!=="ko"?null:u.data;default:return null}}var HD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yv(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u==="input"?!!HD[a.type]:u==="textarea"}function Sv(a,u,h,g){Va(g),u=Qu(u,"onChange"),0<u.length&&(h=new qh("onChange","change",null,h,g),a.push({event:h,listeners:u}))}var Za=null,el=null;function GD(a){Gv(a,0)}function $u(a){var u=Mo(a);if(at(u))return a}function VD(a,u){if(a==="change")return u}var bv=!1;if(l){var ef;if(l){var tf="oninput"in document;if(!tf){var Rv=document.createElement("div");Rv.setAttribute("oninput","return;"),tf=typeof Rv.oninput=="function"}ef=tf}else ef=!1;bv=ef&&(!document.documentMode||9<document.documentMode)}function xv(){Za&&(Za.detachEvent("onpropertychange",Ev),el=Za=null)}function Ev(a){if(a.propertyName==="value"&&$u(el)){var u=[];Sv(u,el,a,Oi(a)),Iu(GD,u)}}function WD(a,u,h){a==="focusin"?(xv(),Za=u,el=h,Za.attachEvent("onpropertychange",Ev)):a==="focusout"&&xv()}function _D(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return $u(el)}function zD(a,u){if(a==="click")return $u(u)}function jD(a,u){if(a==="input"||a==="change")return $u(u)}function UD(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var hr=typeof Object.is=="function"?Object.is:UD;function tl(a,u){if(hr(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var h=Object.keys(a),g=Object.keys(u);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var v=h[g];if(!c.call(u,v)||!hr(a[v],u[v]))return!1}return!0}function Fv(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Pv(a,u){var h=Fv(a);a=0;for(var g;h;){if(h.nodeType===3){if(g=a+h.textContent.length,a<=u&&g>=u)return{node:h,offset:u-a};a=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Fv(h)}}function Dv(a,u){return a&&u?a===u?!0:a&&a.nodeType===3?!1:u&&u.nodeType===3?Dv(a,u.parentNode):"contains"in a?a.contains(u):a.compareDocumentPosition?!!(a.compareDocumentPosition(u)&16):!1:!1}function Tv(){for(var a=window,u=je();u instanceof a.HTMLIFrameElement;){try{var h=typeof u.contentWindow.location.href=="string"}catch{h=!1}if(h)a=u.contentWindow;else break;u=je(a.document)}return u}function nf(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u&&(u==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||u==="textarea"||a.contentEditable==="true")}function $D(a){var u=Tv(),h=a.focusedElem,g=a.selectionRange;if(u!==h&&h&&h.ownerDocument&&Dv(h.ownerDocument.documentElement,h)){if(g!==null&&nf(h)){if(u=g.start,a=g.end,a===void 0&&(a=u),"selectionStart"in h)h.selectionStart=u,h.selectionEnd=Math.min(a,h.value.length);else if(a=(u=h.ownerDocument||document)&&u.defaultView||window,a.getSelection){a=a.getSelection();var v=h.textContent.length,S=Math.min(g.start,v);g=g.end===void 0?S:Math.min(g.end,v),!a.extend&&S>g&&(v=g,g=S,S=v),v=Pv(h,S);var F=Pv(h,g);v&&F&&(a.rangeCount!==1||a.anchorNode!==v.node||a.anchorOffset!==v.offset||a.focusNode!==F.node||a.focusOffset!==F.offset)&&(u=u.createRange(),u.setStart(v.node,v.offset),a.removeAllRanges(),S>g?(a.addRange(u),a.extend(F.node,F.offset)):(u.setEnd(F.node,F.offset),a.addRange(u)))}}for(u=[],a=h;a=a.parentNode;)a.nodeType===1&&u.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<u.length;h++)a=u[h],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var KD=l&&"documentMode"in document&&11>=document.documentMode,Po=null,rf=null,nl=null,sf=!1;function Av(a,u,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;sf||Po==null||Po!==je(g)||(g=Po,"selectionStart"in g&&nf(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),nl&&tl(nl,g)||(nl=g,g=Qu(rf,"onSelect"),0<g.length&&(u=new qh("onSelect","select",null,u,h),a.push({event:u,listeners:g}),u.target=Po)))}function Ku(a,u){var h={};return h[a.toLowerCase()]=u.toLowerCase(),h["Webkit"+a]="webkit"+u,h["Moz"+a]="moz"+u,h}var Do={animationend:Ku("Animation","AnimationEnd"),animationiteration:Ku("Animation","AnimationIteration"),animationstart:Ku("Animation","AnimationStart"),transitionend:Ku("Transition","TransitionEnd")},of={},Mv={};l&&(Mv=document.createElement("div").style,"AnimationEvent"in window||(delete Do.animationend.animation,delete Do.animationiteration.animation,delete Do.animationstart.animation),"TransitionEvent"in window||delete Do.transitionend.transition);function qu(a){if(of[a])return of[a];if(!Do[a])return a;var u=Do[a],h;for(h in u)if(u.hasOwnProperty(h)&&h in Mv)return of[a]=u[h];return a}var kv=qu("animationend"),Iv=qu("animationiteration"),Ov=qu("animationstart"),Lv=qu("transitionend"),Nv=new Map,Bv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _i(a,u){Nv.set(a,u),s(u,[a])}for(var af=0;af<Bv.length;af++){var lf=Bv[af],qD=lf.toLowerCase(),YD=lf[0].toUpperCase()+lf.slice(1);_i(qD,"on"+YD)}_i(kv,"onAnimationEnd"),_i(Iv,"onAnimationIteration"),_i(Ov,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(Lv,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QD=new Set("cancel close invalid load scroll toggle".split(" ").concat(rl));function Hv(a,u,h){var g=a.type||"unknown-event";a.currentTarget=h,Re(g,u,void 0,a),a.currentTarget=null}function Gv(a,u){u=(u&4)!==0;for(var h=0;h<a.length;h++){var g=a[h],v=g.event;g=g.listeners;e:{var S=void 0;if(u)for(var F=g.length-1;0<=F;F--){var M=g[F],N=M.instance,q=M.currentTarget;if(M=M.listener,N!==S&&v.isPropagationStopped())break e;Hv(v,M,q),S=N}else for(F=0;F<g.length;F++){if(M=g[F],N=M.instance,q=M.currentTarget,M=M.listener,N!==S&&v.isPropagationStopped())break e;Hv(v,M,q),S=N}}}if(Me)throw a=Ge,Me=!1,Ge=null,a}function Rt(a,u){var h=u[mf];h===void 0&&(h=u[mf]=new Set);var g=a+"__bubble";h.has(g)||(Vv(u,a,2,!1),h.add(g))}function uf(a,u,h){var g=0;u&&(g|=4),Vv(h,a,g,u)}var Yu="_reactListening"+Math.random().toString(36).slice(2);function il(a){if(!a[Yu]){a[Yu]=!0,r.forEach(function(h){h!=="selectionchange"&&(QD.has(h)||uf(h,!1,a),uf(h,!0,a))});var u=a.nodeType===9?a:a.ownerDocument;u===null||u[Yu]||(u[Yu]=!0,uf("selectionchange",!1,u))}}function Vv(a,u,h,g){switch(uv(u)){case 1:var v=cD;break;case 4:v=dD;break;default:v=Uh}h=v.bind(null,u,h,a),v=void 0,!L||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(v=!0),g?v!==void 0?a.addEventListener(u,h,{capture:!0,passive:v}):a.addEventListener(u,h,!0):v!==void 0?a.addEventListener(u,h,{passive:v}):a.addEventListener(u,h,!1)}function cf(a,u,h,g,v){var S=g;if((u&1)===0&&(u&2)===0&&g!==null)e:for(;;){if(g===null)return;var F=g.tag;if(F===3||F===4){var M=g.stateNode.containerInfo;if(M===v||M.nodeType===8&&M.parentNode===v)break;if(F===4)for(F=g.return;F!==null;){var N=F.tag;if((N===3||N===4)&&(N=F.stateNode.containerInfo,N===v||N.nodeType===8&&N.parentNode===v))return;F=F.return}for(;M!==null;){if(F=Ts(M),F===null)return;if(N=F.tag,N===5||N===6){g=S=F;continue e}M=M.parentNode}}g=g.return}Iu(function(){var q=S,ce=Oi(h),de=[];e:{var ae=Nv.get(a);if(ae!==void 0){var be=qh,Pe=a;switch(a){case"keypress":if(zu(h)===0)break e;case"keydown":case"keyup":be=FD;break;case"focusin":Pe="focus",be=Jh;break;case"focusout":Pe="blur",be=Jh;break;case"beforeblur":case"afterblur":be=Jh;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=hv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=pD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=TD;break;case kv:case Iv:case Ov:be=CD;break;case Lv:be=MD;break;case"scroll":be=hD;break;case"wheel":be=ID;break;case"copy":case"cut":case"paste":be=wD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=pv}var Te=(u&4)!==0,Vt=!Te&&a==="scroll",z=Te?ae!==null?ae+"Capture":null:ae;Te=[];for(var H=q,j;H!==null;){j=H;var pe=j.stateNode;if(j.tag===5&&pe!==null&&(j=pe,z!==null&&(pe=Fs(H,z),pe!=null&&Te.push(sl(H,pe,j)))),Vt)break;H=H.return}0<Te.length&&(ae=new be(ae,Pe,null,h,ce),de.push({event:ae,listeners:Te}))}}if((u&7)===0){e:{if(ae=a==="mouseover"||a==="pointerover",be=a==="mouseout"||a==="pointerout",ae&&h!==So&&(Pe=h.relatedTarget||h.fromElement)&&(Ts(Pe)||Pe[ai]))break e;if((be||ae)&&(ae=ce.window===ce?ce:(ae=ce.ownerDocument)?ae.defaultView||ae.parentWindow:window,be?(Pe=h.relatedTarget||h.toElement,be=q,Pe=Pe?Ts(Pe):null,Pe!==null&&(Vt=Ee(Pe),Pe!==Vt||Pe.tag!==5&&Pe.tag!==6)&&(Pe=null)):(be=null,Pe=q),be!==Pe)){if(Te=hv,pe="onMouseLeave",z="onMouseEnter",H="mouse",(a==="pointerout"||a==="pointerover")&&(Te=pv,pe="onPointerLeave",z="onPointerEnter",H="pointer"),Vt=be==null?ae:Mo(be),j=Pe==null?ae:Mo(Pe),ae=new Te(pe,H+"leave",be,h,ce),ae.target=Vt,ae.relatedTarget=j,pe=null,Ts(ce)===q&&(Te=new Te(z,H+"enter",Pe,h,ce),Te.target=j,Te.relatedTarget=Vt,pe=Te),Vt=pe,be&&Pe)t:{for(Te=be,z=Pe,H=0,j=Te;j;j=To(j))H++;for(j=0,pe=z;pe;pe=To(pe))j++;for(;0<H-j;)Te=To(Te),H--;for(;0<j-H;)z=To(z),j--;for(;H--;){if(Te===z||z!==null&&Te===z.alternate)break t;Te=To(Te),z=To(z)}Te=null}else Te=null;be!==null&&Wv(de,ae,be,Te,!1),Pe!==null&&Vt!==null&&Wv(de,Vt,Pe,Te,!0)}}e:{if(ae=q?Mo(q):window,be=ae.nodeName&&ae.nodeName.toLowerCase(),be==="select"||be==="input"&&ae.type==="file")var Ae=VD;else if(yv(ae))if(bv)Ae=jD;else{Ae=_D;var Ne=WD}else(be=ae.nodeName)&&be.toLowerCase()==="input"&&(ae.type==="checkbox"||ae.type==="radio")&&(Ae=zD);if(Ae&&(Ae=Ae(a,q))){Sv(de,Ae,h,ce);break e}Ne&&Ne(a,ae,q),a==="focusout"&&(Ne=ae._wrapperState)&&Ne.controlled&&ae.type==="number"&&Bt(ae,"number",ae.value)}switch(Ne=q?Mo(q):window,a){case"focusin":(yv(Ne)||Ne.contentEditable==="true")&&(Po=Ne,rf=q,nl=null);break;case"focusout":nl=rf=Po=null;break;case"mousedown":sf=!0;break;case"contextmenu":case"mouseup":case"dragend":sf=!1,Av(de,h,ce);break;case"selectionchange":if(KD)break;case"keydown":case"keyup":Av(de,h,ce)}var Be;if(Zh)e:{switch(a){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else Fo?vv(a,h)&&(We="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(We="onCompositionStart");We&&(gv&&h.locale!=="ko"&&(Fo||We!=="onCompositionStart"?We==="onCompositionEnd"&&Fo&&(Be=cv()):(Wi=ce,Kh="value"in Wi?Wi.value:Wi.textContent,Fo=!0)),Ne=Qu(q,We),0<Ne.length&&(We=new fv(We,a,null,h,ce),de.push({event:We,listeners:Ne}),Be?We.data=Be:(Be=wv(h),Be!==null&&(We.data=Be)))),(Be=LD?ND(a,h):BD(a,h))&&(q=Qu(q,"onBeforeInput"),0<q.length&&(ce=new fv("onBeforeInput","beforeinput",null,h,ce),de.push({event:ce,listeners:q}),ce.data=Be))}Gv(de,u)})}function sl(a,u,h){return{instance:a,listener:u,currentTarget:h}}function Qu(a,u){for(var h=u+"Capture",g=[];a!==null;){var v=a,S=v.stateNode;v.tag===5&&S!==null&&(v=S,S=Fs(a,h),S!=null&&g.unshift(sl(a,S,v)),S=Fs(a,u),S!=null&&g.push(sl(a,S,v))),a=a.return}return g}function To(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function Wv(a,u,h,g,v){for(var S=u._reactName,F=[];h!==null&&h!==g;){var M=h,N=M.alternate,q=M.stateNode;if(N!==null&&N===g)break;M.tag===5&&q!==null&&(M=q,v?(N=Fs(h,S),N!=null&&F.unshift(sl(h,N,M))):v||(N=Fs(h,S),N!=null&&F.push(sl(h,N,M)))),h=h.return}F.length!==0&&a.push({event:u,listeners:F})}var JD=/\r\n?/g,XD=/\u0000|\uFFFD/g;function _v(a){return(typeof a=="string"?a:""+a).replace(JD,`
`).replace(XD,"")}function Ju(a,u,h){if(u=_v(u),_v(a)!==u&&h)throw Error(n(425))}function Xu(){}var df=null,hf=null;function ff(a,u){return a==="textarea"||a==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var pf=typeof setTimeout=="function"?setTimeout:void 0,ZD=typeof clearTimeout=="function"?clearTimeout:void 0,zv=typeof Promise=="function"?Promise:void 0,eT=typeof queueMicrotask=="function"?queueMicrotask:typeof zv<"u"?function(a){return zv.resolve(null).then(a).catch(tT)}:pf;function tT(a){setTimeout(function(){throw a})}function gf(a,u){var h=u,g=0;do{var v=h.nextSibling;if(a.removeChild(h),v&&v.nodeType===8)if(h=v.data,h==="/$"){if(g===0){a.removeChild(v),Ya(u);return}g--}else h!=="$"&&h!=="$?"&&h!=="$!"||g++;h=v}while(h);Ya(u)}function zi(a){for(;a!=null;a=a.nextSibling){var u=a.nodeType;if(u===1||u===3)break;if(u===8){if(u=a.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return a}function jv(a){a=a.previousSibling;for(var u=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(u===0)return a;u--}else h==="/$"&&u++}a=a.previousSibling}return null}var Ao=Math.random().toString(36).slice(2),Gr="__reactFiber$"+Ao,ol="__reactProps$"+Ao,ai="__reactContainer$"+Ao,mf="__reactEvents$"+Ao,nT="__reactListeners$"+Ao,rT="__reactHandles$"+Ao;function Ts(a){var u=a[Gr];if(u)return u;for(var h=a.parentNode;h;){if(u=h[ai]||h[Gr]){if(h=u.alternate,u.child!==null||h!==null&&h.child!==null)for(a=jv(a);a!==null;){if(h=a[Gr])return h;a=jv(a)}return u}a=h,h=a.parentNode}return null}function al(a){return a=a[Gr]||a[ai],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Mo(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function Zu(a){return a[ol]||null}var Cf=[],ko=-1;function ji(a){return{current:a}}function xt(a){0>ko||(a.current=Cf[ko],Cf[ko]=null,ko--)}function vt(a,u){ko++,Cf[ko]=a.current,a.current=u}var Ui={},sn=ji(Ui),Cn=ji(!1),As=Ui;function Io(a,u){var h=a.type.contextTypes;if(!h)return Ui;var g=a.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===u)return g.__reactInternalMemoizedMaskedChildContext;var v={},S;for(S in h)v[S]=u[S];return g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=u,a.__reactInternalMemoizedMaskedChildContext=v),v}function vn(a){return a=a.childContextTypes,a!=null}function ec(){xt(Cn),xt(sn)}function Uv(a,u,h){if(sn.current!==Ui)throw Error(n(168));vt(sn,u),vt(Cn,h)}function $v(a,u,h){var g=a.stateNode;if(u=u.childContextTypes,typeof g.getChildContext!="function")return h;g=g.getChildContext();for(var v in g)if(!(v in u))throw Error(n(108,Se(a)||"Unknown",v));return Z({},h,g)}function tc(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Ui,As=sn.current,vt(sn,a),vt(Cn,Cn.current),!0}function Kv(a,u,h){var g=a.stateNode;if(!g)throw Error(n(169));h?(a=$v(a,u,As),g.__reactInternalMemoizedMergedChildContext=a,xt(Cn),xt(sn),vt(sn,a)):xt(Cn),vt(Cn,h)}var li=null,nc=!1,vf=!1;function qv(a){li===null?li=[a]:li.push(a)}function iT(a){nc=!0,qv(a)}function $i(){if(!vf&&li!==null){vf=!0;var a=0,u=ht;try{var h=li;for(ht=1;a<h.length;a++){var g=h[a];do g=g(!0);while(g!==null)}li=null,nc=!1}catch(v){throw li!==null&&(li=li.slice(a+1)),bt(si,$i),v}finally{ht=u,vf=!1}}return null}var Oo=[],Lo=0,rc=null,ic=0,Kn=[],qn=0,Ms=null,ui=1,ci="";function ks(a,u){Oo[Lo++]=ic,Oo[Lo++]=rc,rc=a,ic=u}function Yv(a,u,h){Kn[qn++]=ui,Kn[qn++]=ci,Kn[qn++]=Ms,Ms=a;var g=ui;a=ci;var v=32-it(g)-1;g&=~(1<<v),h+=1;var S=32-it(u)+v;if(30<S){var F=v-v%5;S=(g&(1<<F)-1).toString(32),g>>=F,v-=F,ui=1<<32-it(u)+v|h<<v|g,ci=S+a}else ui=1<<S|h<<v|g,ci=a}function wf(a){a.return!==null&&(ks(a,1),Yv(a,1,0))}function yf(a){for(;a===rc;)rc=Oo[--Lo],Oo[Lo]=null,ic=Oo[--Lo],Oo[Lo]=null;for(;a===Ms;)Ms=Kn[--qn],Kn[qn]=null,ci=Kn[--qn],Kn[qn]=null,ui=Kn[--qn],Kn[qn]=null}var Ln=null,Nn=null,At=!1,fr=null;function Qv(a,u){var h=Xn(5,null,null,0);h.elementType="DELETED",h.stateNode=u,h.return=a,u=a.deletions,u===null?(a.deletions=[h],a.flags|=16):u.push(h)}function Jv(a,u){switch(a.tag){case 5:var h=a.type;return u=u.nodeType!==1||h.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(a.stateNode=u,Ln=a,Nn=zi(u.firstChild),!0):!1;case 6:return u=a.pendingProps===""||u.nodeType!==3?null:u,u!==null?(a.stateNode=u,Ln=a,Nn=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(h=Ms!==null?{id:ui,overflow:ci}:null,a.memoizedState={dehydrated:u,treeContext:h,retryLane:1073741824},h=Xn(18,null,null,0),h.stateNode=u,h.return=a,a.child=h,Ln=a,Nn=null,!0):!1;default:return!1}}function Sf(a){return(a.mode&1)!==0&&(a.flags&128)===0}function bf(a){if(At){var u=Nn;if(u){var h=u;if(!Jv(a,u)){if(Sf(a))throw Error(n(418));u=zi(h.nextSibling);var g=Ln;u&&Jv(a,u)?Qv(g,h):(a.flags=a.flags&-4097|2,At=!1,Ln=a)}}else{if(Sf(a))throw Error(n(418));a.flags=a.flags&-4097|2,At=!1,Ln=a}}}function Xv(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Ln=a}function sc(a){if(a!==Ln)return!1;if(!At)return Xv(a),At=!0,!1;var u;if((u=a.tag!==3)&&!(u=a.tag!==5)&&(u=a.type,u=u!=="head"&&u!=="body"&&!ff(a.type,a.memoizedProps)),u&&(u=Nn)){if(Sf(a))throw Zv(),Error(n(418));for(;u;)Qv(a,u),u=zi(u.nextSibling)}if(Xv(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,u=0;a;){if(a.nodeType===8){var h=a.data;if(h==="/$"){if(u===0){Nn=zi(a.nextSibling);break e}u--}else h!=="$"&&h!=="$!"&&h!=="$?"||u++}a=a.nextSibling}Nn=null}}else Nn=Ln?zi(a.stateNode.nextSibling):null;return!0}function Zv(){for(var a=Nn;a;)a=zi(a.nextSibling)}function No(){Nn=Ln=null,At=!1}function Rf(a){fr===null?fr=[a]:fr.push(a)}var sT=D.ReactCurrentBatchConfig;function ll(a,u,h){if(a=h.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(n(309));var g=h.stateNode}if(!g)throw Error(n(147,a));var v=g,S=""+a;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===S?u.ref:(u=function(F){var M=v.refs;F===null?delete M[S]:M[S]=F},u._stringRef=S,u)}if(typeof a!="string")throw Error(n(284));if(!h._owner)throw Error(n(290,a))}return a}function oc(a,u){throw a=Object.prototype.toString.call(u),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a))}function ew(a){var u=a._init;return u(a._payload)}function tw(a){function u(z,H){if(a){var j=z.deletions;j===null?(z.deletions=[H],z.flags|=16):j.push(H)}}function h(z,H){if(!a)return null;for(;H!==null;)u(z,H),H=H.sibling;return null}function g(z,H){for(z=new Map;H!==null;)H.key!==null?z.set(H.key,H):z.set(H.index,H),H=H.sibling;return z}function v(z,H){return z=es(z,H),z.index=0,z.sibling=null,z}function S(z,H,j){return z.index=j,a?(j=z.alternate,j!==null?(j=j.index,j<H?(z.flags|=2,H):j):(z.flags|=2,H)):(z.flags|=1048576,H)}function F(z){return a&&z.alternate===null&&(z.flags|=2),z}function M(z,H,j,pe){return H===null||H.tag!==6?(H=pp(j,z.mode,pe),H.return=z,H):(H=v(H,j),H.return=z,H)}function N(z,H,j,pe){var Ae=j.type;return Ae===T?ce(z,H,j.props.children,pe,j.key):H!==null&&(H.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===ue&&ew(Ae)===H.type)?(pe=v(H,j.props),pe.ref=ll(z,H,j),pe.return=z,pe):(pe=Ac(j.type,j.key,j.props,null,z.mode,pe),pe.ref=ll(z,H,j),pe.return=z,pe)}function q(z,H,j,pe){return H===null||H.tag!==4||H.stateNode.containerInfo!==j.containerInfo||H.stateNode.implementation!==j.implementation?(H=gp(j,z.mode,pe),H.return=z,H):(H=v(H,j.children||[]),H.return=z,H)}function ce(z,H,j,pe,Ae){return H===null||H.tag!==7?(H=Vs(j,z.mode,pe,Ae),H.return=z,H):(H=v(H,j),H.return=z,H)}function de(z,H,j){if(typeof H=="string"&&H!==""||typeof H=="number")return H=pp(""+H,z.mode,j),H.return=z,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case A:return j=Ac(H.type,H.key,H.props,null,z.mode,j),j.ref=ll(z,null,H),j.return=z,j;case O:return H=gp(H,z.mode,j),H.return=z,H;case ue:var pe=H._init;return de(z,pe(H._payload),j)}if(mt(H)||ne(H))return H=Vs(H,z.mode,j,null),H.return=z,H;oc(z,H)}return null}function ae(z,H,j,pe){var Ae=H!==null?H.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return Ae!==null?null:M(z,H,""+j,pe);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case A:return j.key===Ae?N(z,H,j,pe):null;case O:return j.key===Ae?q(z,H,j,pe):null;case ue:return Ae=j._init,ae(z,H,Ae(j._payload),pe)}if(mt(j)||ne(j))return Ae!==null?null:ce(z,H,j,pe,null);oc(z,j)}return null}function be(z,H,j,pe,Ae){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return z=z.get(j)||null,M(H,z,""+pe,Ae);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case A:return z=z.get(pe.key===null?j:pe.key)||null,N(H,z,pe,Ae);case O:return z=z.get(pe.key===null?j:pe.key)||null,q(H,z,pe,Ae);case ue:var Ne=pe._init;return be(z,H,j,Ne(pe._payload),Ae)}if(mt(pe)||ne(pe))return z=z.get(j)||null,ce(H,z,pe,Ae,null);oc(H,pe)}return null}function Pe(z,H,j,pe){for(var Ae=null,Ne=null,Be=H,We=H=0,qt=null;Be!==null&&We<j.length;We++){Be.index>We?(qt=Be,Be=null):qt=Be.sibling;var st=ae(z,Be,j[We],pe);if(st===null){Be===null&&(Be=qt);break}a&&Be&&st.alternate===null&&u(z,Be),H=S(st,H,We),Ne===null?Ae=st:Ne.sibling=st,Ne=st,Be=qt}if(We===j.length)return h(z,Be),At&&ks(z,We),Ae;if(Be===null){for(;We<j.length;We++)Be=de(z,j[We],pe),Be!==null&&(H=S(Be,H,We),Ne===null?Ae=Be:Ne.sibling=Be,Ne=Be);return At&&ks(z,We),Ae}for(Be=g(z,Be);We<j.length;We++)qt=be(Be,z,We,j[We],pe),qt!==null&&(a&&qt.alternate!==null&&Be.delete(qt.key===null?We:qt.key),H=S(qt,H,We),Ne===null?Ae=qt:Ne.sibling=qt,Ne=qt);return a&&Be.forEach(function(ts){return u(z,ts)}),At&&ks(z,We),Ae}function Te(z,H,j,pe){var Ae=ne(j);if(typeof Ae!="function")throw Error(n(150));if(j=Ae.call(j),j==null)throw Error(n(151));for(var Ne=Ae=null,Be=H,We=H=0,qt=null,st=j.next();Be!==null&&!st.done;We++,st=j.next()){Be.index>We?(qt=Be,Be=null):qt=Be.sibling;var ts=ae(z,Be,st.value,pe);if(ts===null){Be===null&&(Be=qt);break}a&&Be&&ts.alternate===null&&u(z,Be),H=S(ts,H,We),Ne===null?Ae=ts:Ne.sibling=ts,Ne=ts,Be=qt}if(st.done)return h(z,Be),At&&ks(z,We),Ae;if(Be===null){for(;!st.done;We++,st=j.next())st=de(z,st.value,pe),st!==null&&(H=S(st,H,We),Ne===null?Ae=st:Ne.sibling=st,Ne=st);return At&&ks(z,We),Ae}for(Be=g(z,Be);!st.done;We++,st=j.next())st=be(Be,z,We,st.value,pe),st!==null&&(a&&st.alternate!==null&&Be.delete(st.key===null?We:st.key),H=S(st,H,We),Ne===null?Ae=st:Ne.sibling=st,Ne=st);return a&&Be.forEach(function(HT){return u(z,HT)}),At&&ks(z,We),Ae}function Vt(z,H,j,pe){if(typeof j=="object"&&j!==null&&j.type===T&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case A:e:{for(var Ae=j.key,Ne=H;Ne!==null;){if(Ne.key===Ae){if(Ae=j.type,Ae===T){if(Ne.tag===7){h(z,Ne.sibling),H=v(Ne,j.props.children),H.return=z,z=H;break e}}else if(Ne.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===ue&&ew(Ae)===Ne.type){h(z,Ne.sibling),H=v(Ne,j.props),H.ref=ll(z,Ne,j),H.return=z,z=H;break e}h(z,Ne);break}else u(z,Ne);Ne=Ne.sibling}j.type===T?(H=Vs(j.props.children,z.mode,pe,j.key),H.return=z,z=H):(pe=Ac(j.type,j.key,j.props,null,z.mode,pe),pe.ref=ll(z,H,j),pe.return=z,z=pe)}return F(z);case O:e:{for(Ne=j.key;H!==null;){if(H.key===Ne)if(H.tag===4&&H.stateNode.containerInfo===j.containerInfo&&H.stateNode.implementation===j.implementation){h(z,H.sibling),H=v(H,j.children||[]),H.return=z,z=H;break e}else{h(z,H);break}else u(z,H);H=H.sibling}H=gp(j,z.mode,pe),H.return=z,z=H}return F(z);case ue:return Ne=j._init,Vt(z,H,Ne(j._payload),pe)}if(mt(j))return Pe(z,H,j,pe);if(ne(j))return Te(z,H,j,pe);oc(z,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,H!==null&&H.tag===6?(h(z,H.sibling),H=v(H,j),H.return=z,z=H):(h(z,H),H=pp(j,z.mode,pe),H.return=z,z=H),F(z)):h(z,H)}return Vt}var Bo=tw(!0),nw=tw(!1),ac=ji(null),lc=null,Ho=null,xf=null;function Ef(){xf=Ho=lc=null}function Ff(a){var u=ac.current;xt(ac),a._currentValue=u}function Pf(a,u,h){for(;a!==null;){var g=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,g!==null&&(g.childLanes|=u)):g!==null&&(g.childLanes&u)!==u&&(g.childLanes|=u),a===h)break;a=a.return}}function Go(a,u){lc=a,xf=Ho=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&u)!==0&&(wn=!0),a.firstContext=null)}function Yn(a){var u=a._currentValue;if(xf!==a)if(a={context:a,memoizedValue:u,next:null},Ho===null){if(lc===null)throw Error(n(308));Ho=a,lc.dependencies={lanes:0,firstContext:a}}else Ho=Ho.next=a;return u}var Is=null;function Df(a){Is===null?Is=[a]:Is.push(a)}function rw(a,u,h,g){var v=u.interleaved;return v===null?(h.next=h,Df(u)):(h.next=v.next,v.next=h),u.interleaved=h,di(a,g)}function di(a,u){a.lanes|=u;var h=a.alternate;for(h!==null&&(h.lanes|=u),h=a,a=a.return;a!==null;)a.childLanes|=u,h=a.alternate,h!==null&&(h.childLanes|=u),h=a,a=a.return;return h.tag===3?h.stateNode:null}var Ki=!1;function Tf(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iw(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function hi(a,u){return{eventTime:a,lane:u,tag:0,payload:null,callback:null,next:null}}function qi(a,u,h){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(nt&2)!==0){var v=g.pending;return v===null?u.next=u:(u.next=v.next,v.next=u),g.pending=u,di(a,h)}return v=g.interleaved,v===null?(u.next=u,Df(g)):(u.next=v.next,v.next=u),g.interleaved=u,di(a,h)}function uc(a,u,h){if(u=u.updateQueue,u!==null&&(u=u.shared,(h&4194240)!==0)){var g=u.lanes;g&=a.pendingLanes,h|=g,u.lanes=h,_h(a,h)}}function sw(a,u){var h=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var v=null,S=null;if(h=h.firstBaseUpdate,h!==null){do{var F={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};S===null?v=S=F:S=S.next=F,h=h.next}while(h!==null);S===null?v=S=u:S=S.next=u}else v=S=u;h={baseState:g.baseState,firstBaseUpdate:v,lastBaseUpdate:S,shared:g.shared,effects:g.effects},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=u}function cc(a,u,h,g){var v=a.updateQueue;Ki=!1;var S=v.firstBaseUpdate,F=v.lastBaseUpdate,M=v.shared.pending;if(M!==null){v.shared.pending=null;var N=M,q=N.next;N.next=null,F===null?S=q:F.next=q,F=N;var ce=a.alternate;ce!==null&&(ce=ce.updateQueue,M=ce.lastBaseUpdate,M!==F&&(M===null?ce.firstBaseUpdate=q:M.next=q,ce.lastBaseUpdate=N))}if(S!==null){var de=v.baseState;F=0,ce=q=N=null,M=S;do{var ae=M.lane,be=M.eventTime;if((g&ae)===ae){ce!==null&&(ce=ce.next={eventTime:be,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var Pe=a,Te=M;switch(ae=u,be=h,Te.tag){case 1:if(Pe=Te.payload,typeof Pe=="function"){de=Pe.call(be,de,ae);break e}de=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Te.payload,ae=typeof Pe=="function"?Pe.call(be,de,ae):Pe,ae==null)break e;de=Z({},de,ae);break e;case 2:Ki=!0}}M.callback!==null&&M.lane!==0&&(a.flags|=64,ae=v.effects,ae===null?v.effects=[M]:ae.push(M))}else be={eventTime:be,lane:ae,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ce===null?(q=ce=be,N=de):ce=ce.next=be,F|=ae;if(M=M.next,M===null){if(M=v.shared.pending,M===null)break;ae=M,M=ae.next,ae.next=null,v.lastBaseUpdate=ae,v.shared.pending=null}}while(!0);if(ce===null&&(N=de),v.baseState=N,v.firstBaseUpdate=q,v.lastBaseUpdate=ce,u=v.shared.interleaved,u!==null){v=u;do F|=v.lane,v=v.next;while(v!==u)}else S===null&&(v.shared.lanes=0);Ns|=F,a.lanes=F,a.memoizedState=de}}function ow(a,u,h){if(a=u.effects,u.effects=null,a!==null)for(u=0;u<a.length;u++){var g=a[u],v=g.callback;if(v!==null){if(g.callback=null,g=h,typeof v!="function")throw Error(n(191,v));v.call(g)}}}var ul={},Vr=ji(ul),cl=ji(ul),dl=ji(ul);function Os(a){if(a===ul)throw Error(n(174));return a}function Af(a,u){switch(vt(dl,u),vt(cl,a),vt(Vr,ul),a=u.nodeType,a){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Ir(null,"");break;default:a=a===8?u.parentNode:u,u=a.namespaceURI||null,a=a.tagName,u=Ir(u,a)}xt(Vr),vt(Vr,u)}function Vo(){xt(Vr),xt(cl),xt(dl)}function aw(a){Os(dl.current);var u=Os(Vr.current),h=Ir(u,a.type);u!==h&&(vt(cl,a),vt(Vr,h))}function Mf(a){cl.current===a&&(xt(Vr),xt(cl))}var Mt=ji(0);function dc(a){for(var u=a;u!==null;){if(u.tag===13){var h=u.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var kf=[];function If(){for(var a=0;a<kf.length;a++)kf[a]._workInProgressVersionPrimary=null;kf.length=0}var hc=D.ReactCurrentDispatcher,Of=D.ReactCurrentBatchConfig,Ls=0,kt=null,jt=null,$t=null,fc=!1,hl=!1,fl=0,oT=0;function on(){throw Error(n(321))}function Lf(a,u){if(u===null)return!1;for(var h=0;h<u.length&&h<a.length;h++)if(!hr(a[h],u[h]))return!1;return!0}function Nf(a,u,h,g,v,S){if(Ls=S,kt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,hc.current=a===null||a.memoizedState===null?cT:dT,a=h(g,v),hl){S=0;do{if(hl=!1,fl=0,25<=S)throw Error(n(301));S+=1,$t=jt=null,u.updateQueue=null,hc.current=hT,a=h(g,v)}while(hl)}if(hc.current=mc,u=jt!==null&&jt.next!==null,Ls=0,$t=jt=kt=null,fc=!1,u)throw Error(n(300));return a}function Bf(){var a=fl!==0;return fl=0,a}function Wr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?kt.memoizedState=$t=a:$t=$t.next=a,$t}function Qn(){if(jt===null){var a=kt.alternate;a=a!==null?a.memoizedState:null}else a=jt.next;var u=$t===null?kt.memoizedState:$t.next;if(u!==null)$t=u,jt=a;else{if(a===null)throw Error(n(310));jt=a,a={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},$t===null?kt.memoizedState=$t=a:$t=$t.next=a}return $t}function pl(a,u){return typeof u=="function"?u(a):u}function Hf(a){var u=Qn(),h=u.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var g=jt,v=g.baseQueue,S=h.pending;if(S!==null){if(v!==null){var F=v.next;v.next=S.next,S.next=F}g.baseQueue=v=S,h.pending=null}if(v!==null){S=v.next,g=g.baseState;var M=F=null,N=null,q=S;do{var ce=q.lane;if((Ls&ce)===ce)N!==null&&(N=N.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),g=q.hasEagerState?q.eagerState:a(g,q.action);else{var de={lane:ce,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};N===null?(M=N=de,F=g):N=N.next=de,kt.lanes|=ce,Ns|=ce}q=q.next}while(q!==null&&q!==S);N===null?F=g:N.next=M,hr(g,u.memoizedState)||(wn=!0),u.memoizedState=g,u.baseState=F,u.baseQueue=N,h.lastRenderedState=g}if(a=h.interleaved,a!==null){v=a;do S=v.lane,kt.lanes|=S,Ns|=S,v=v.next;while(v!==a)}else v===null&&(h.lanes=0);return[u.memoizedState,h.dispatch]}function Gf(a){var u=Qn(),h=u.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var g=h.dispatch,v=h.pending,S=u.memoizedState;if(v!==null){h.pending=null;var F=v=v.next;do S=a(S,F.action),F=F.next;while(F!==v);hr(S,u.memoizedState)||(wn=!0),u.memoizedState=S,u.baseQueue===null&&(u.baseState=S),h.lastRenderedState=S}return[S,g]}function lw(){}function uw(a,u){var h=kt,g=Qn(),v=u(),S=!hr(g.memoizedState,v);if(S&&(g.memoizedState=v,wn=!0),g=g.queue,Vf(hw.bind(null,h,g,a),[a]),g.getSnapshot!==u||S||$t!==null&&$t.memoizedState.tag&1){if(h.flags|=2048,gl(9,dw.bind(null,h,g,v,u),void 0,null),Kt===null)throw Error(n(349));(Ls&30)!==0||cw(h,u,v)}return v}function cw(a,u,h){a.flags|=16384,a={getSnapshot:u,value:h},u=kt.updateQueue,u===null?(u={lastEffect:null,stores:null},kt.updateQueue=u,u.stores=[a]):(h=u.stores,h===null?u.stores=[a]:h.push(a))}function dw(a,u,h,g){u.value=h,u.getSnapshot=g,fw(u)&&pw(a)}function hw(a,u,h){return h(function(){fw(u)&&pw(a)})}function fw(a){var u=a.getSnapshot;a=a.value;try{var h=u();return!hr(a,h)}catch{return!0}}function pw(a){var u=di(a,1);u!==null&&Cr(u,a,1,-1)}function gw(a){var u=Wr();return typeof a=="function"&&(a=a()),u.memoizedState=u.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pl,lastRenderedState:a},u.queue=a,a=a.dispatch=uT.bind(null,kt,a),[u.memoizedState,a]}function gl(a,u,h,g){return a={tag:a,create:u,destroy:h,deps:g,next:null},u=kt.updateQueue,u===null?(u={lastEffect:null,stores:null},kt.updateQueue=u,u.lastEffect=a.next=a):(h=u.lastEffect,h===null?u.lastEffect=a.next=a:(g=h.next,h.next=a,a.next=g,u.lastEffect=a)),a}function mw(){return Qn().memoizedState}function pc(a,u,h,g){var v=Wr();kt.flags|=a,v.memoizedState=gl(1|u,h,void 0,g===void 0?null:g)}function gc(a,u,h,g){var v=Qn();g=g===void 0?null:g;var S=void 0;if(jt!==null){var F=jt.memoizedState;if(S=F.destroy,g!==null&&Lf(g,F.deps)){v.memoizedState=gl(u,h,S,g);return}}kt.flags|=a,v.memoizedState=gl(1|u,h,S,g)}function Cw(a,u){return pc(8390656,8,a,u)}function Vf(a,u){return gc(2048,8,a,u)}function vw(a,u){return gc(4,2,a,u)}function ww(a,u){return gc(4,4,a,u)}function yw(a,u){if(typeof u=="function")return a=a(),u(a),function(){u(null)};if(u!=null)return a=a(),u.current=a,function(){u.current=null}}function Sw(a,u,h){return h=h!=null?h.concat([a]):null,gc(4,4,yw.bind(null,u,a),h)}function Wf(){}function bw(a,u){var h=Qn();u=u===void 0?null:u;var g=h.memoizedState;return g!==null&&u!==null&&Lf(u,g[1])?g[0]:(h.memoizedState=[a,u],a)}function Rw(a,u){var h=Qn();u=u===void 0?null:u;var g=h.memoizedState;return g!==null&&u!==null&&Lf(u,g[1])?g[0]:(a=a(),h.memoizedState=[a,u],a)}function xw(a,u,h){return(Ls&21)===0?(a.baseState&&(a.baseState=!1,wn=!0),a.memoizedState=h):(hr(h,u)||(h=ev(),kt.lanes|=h,Ns|=h,a.baseState=!0),u)}function aT(a,u){var h=ht;ht=h!==0&&4>h?h:4,a(!0);var g=Of.transition;Of.transition={};try{a(!1),u()}finally{ht=h,Of.transition=g}}function Ew(){return Qn().memoizedState}function lT(a,u,h){var g=Xi(a);if(h={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null},Fw(a))Pw(u,h);else if(h=rw(a,u,h,g),h!==null){var v=fn();Cr(h,a,g,v),Dw(h,u,g)}}function uT(a,u,h){var g=Xi(a),v={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null};if(Fw(a))Pw(u,v);else{var S=a.alternate;if(a.lanes===0&&(S===null||S.lanes===0)&&(S=u.lastRenderedReducer,S!==null))try{var F=u.lastRenderedState,M=S(F,h);if(v.hasEagerState=!0,v.eagerState=M,hr(M,F)){var N=u.interleaved;N===null?(v.next=v,Df(u)):(v.next=N.next,N.next=v),u.interleaved=v;return}}catch{}finally{}h=rw(a,u,v,g),h!==null&&(v=fn(),Cr(h,a,g,v),Dw(h,u,g))}}function Fw(a){var u=a.alternate;return a===kt||u!==null&&u===kt}function Pw(a,u){hl=fc=!0;var h=a.pending;h===null?u.next=u:(u.next=h.next,h.next=u),a.pending=u}function Dw(a,u,h){if((h&4194240)!==0){var g=u.lanes;g&=a.pendingLanes,h|=g,u.lanes=h,_h(a,h)}}var mc={readContext:Yn,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},cT={readContext:Yn,useCallback:function(a,u){return Wr().memoizedState=[a,u===void 0?null:u],a},useContext:Yn,useEffect:Cw,useImperativeHandle:function(a,u,h){return h=h!=null?h.concat([a]):null,pc(4194308,4,yw.bind(null,u,a),h)},useLayoutEffect:function(a,u){return pc(4194308,4,a,u)},useInsertionEffect:function(a,u){return pc(4,2,a,u)},useMemo:function(a,u){var h=Wr();return u=u===void 0?null:u,a=a(),h.memoizedState=[a,u],a},useReducer:function(a,u,h){var g=Wr();return u=h!==void 0?h(u):u,g.memoizedState=g.baseState=u,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:u},g.queue=a,a=a.dispatch=lT.bind(null,kt,a),[g.memoizedState,a]},useRef:function(a){var u=Wr();return a={current:a},u.memoizedState=a},useState:gw,useDebugValue:Wf,useDeferredValue:function(a){return Wr().memoizedState=a},useTransition:function(){var a=gw(!1),u=a[0];return a=aT.bind(null,a[1]),Wr().memoizedState=a,[u,a]},useMutableSource:function(){},useSyncExternalStore:function(a,u,h){var g=kt,v=Wr();if(At){if(h===void 0)throw Error(n(407));h=h()}else{if(h=u(),Kt===null)throw Error(n(349));(Ls&30)!==0||cw(g,u,h)}v.memoizedState=h;var S={value:h,getSnapshot:u};return v.queue=S,Cw(hw.bind(null,g,S,a),[a]),g.flags|=2048,gl(9,dw.bind(null,g,S,h,u),void 0,null),h},useId:function(){var a=Wr(),u=Kt.identifierPrefix;if(At){var h=ci,g=ui;h=(g&~(1<<32-it(g)-1)).toString(32)+h,u=":"+u+"R"+h,h=fl++,0<h&&(u+="H"+h.toString(32)),u+=":"}else h=oT++,u=":"+u+"r"+h.toString(32)+":";return a.memoizedState=u},unstable_isNewReconciler:!1},dT={readContext:Yn,useCallback:bw,useContext:Yn,useEffect:Vf,useImperativeHandle:Sw,useInsertionEffect:vw,useLayoutEffect:ww,useMemo:Rw,useReducer:Hf,useRef:mw,useState:function(){return Hf(pl)},useDebugValue:Wf,useDeferredValue:function(a){var u=Qn();return xw(u,jt.memoizedState,a)},useTransition:function(){var a=Hf(pl)[0],u=Qn().memoizedState;return[a,u]},useMutableSource:lw,useSyncExternalStore:uw,useId:Ew,unstable_isNewReconciler:!1},hT={readContext:Yn,useCallback:bw,useContext:Yn,useEffect:Vf,useImperativeHandle:Sw,useInsertionEffect:vw,useLayoutEffect:ww,useMemo:Rw,useReducer:Gf,useRef:mw,useState:function(){return Gf(pl)},useDebugValue:Wf,useDeferredValue:function(a){var u=Qn();return jt===null?u.memoizedState=a:xw(u,jt.memoizedState,a)},useTransition:function(){var a=Gf(pl)[0],u=Qn().memoizedState;return[a,u]},useMutableSource:lw,useSyncExternalStore:uw,useId:Ew,unstable_isNewReconciler:!1};function pr(a,u){if(a&&a.defaultProps){u=Z({},u),a=a.defaultProps;for(var h in a)u[h]===void 0&&(u[h]=a[h]);return u}return u}function _f(a,u,h,g){u=a.memoizedState,h=h(g,u),h=h==null?u:Z({},u,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var Cc={isMounted:function(a){return(a=a._reactInternals)?Ee(a)===a:!1},enqueueSetState:function(a,u,h){a=a._reactInternals;var g=fn(),v=Xi(a),S=hi(g,v);S.payload=u,h!=null&&(S.callback=h),u=qi(a,S,v),u!==null&&(Cr(u,a,v,g),uc(u,a,v))},enqueueReplaceState:function(a,u,h){a=a._reactInternals;var g=fn(),v=Xi(a),S=hi(g,v);S.tag=1,S.payload=u,h!=null&&(S.callback=h),u=qi(a,S,v),u!==null&&(Cr(u,a,v,g),uc(u,a,v))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var h=fn(),g=Xi(a),v=hi(h,g);v.tag=2,u!=null&&(v.callback=u),u=qi(a,v,g),u!==null&&(Cr(u,a,g,h),uc(u,a,g))}};function Tw(a,u,h,g,v,S,F){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,S,F):u.prototype&&u.prototype.isPureReactComponent?!tl(h,g)||!tl(v,S):!0}function Aw(a,u,h){var g=!1,v=Ui,S=u.contextType;return typeof S=="object"&&S!==null?S=Yn(S):(v=vn(u)?As:sn.current,g=u.contextTypes,S=(g=g!=null)?Io(a,v):Ui),u=new u(h,S),a.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Cc,a.stateNode=u,u._reactInternals=a,g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=v,a.__reactInternalMemoizedMaskedChildContext=S),u}function Mw(a,u,h,g){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(h,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(h,g),u.state!==a&&Cc.enqueueReplaceState(u,u.state,null)}function zf(a,u,h,g){var v=a.stateNode;v.props=h,v.state=a.memoizedState,v.refs={},Tf(a);var S=u.contextType;typeof S=="object"&&S!==null?v.context=Yn(S):(S=vn(u)?As:sn.current,v.context=Io(a,S)),v.state=a.memoizedState,S=u.getDerivedStateFromProps,typeof S=="function"&&(_f(a,u,S,h),v.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(u=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),u!==v.state&&Cc.enqueueReplaceState(v,v.state,null),cc(a,h,v,g),v.state=a.memoizedState),typeof v.componentDidMount=="function"&&(a.flags|=4194308)}function Wo(a,u){try{var h="",g=u;do h+=me(g),g=g.return;while(g);var v=h}catch(S){v=`
Error generating stack: `+S.message+`
`+S.stack}return{value:a,source:u,stack:v,digest:null}}function jf(a,u,h){return{value:a,source:null,stack:h??null,digest:u??null}}function Uf(a,u){try{console.error(u.value)}catch(h){setTimeout(function(){throw h})}}var fT=typeof WeakMap=="function"?WeakMap:Map;function kw(a,u,h){h=hi(-1,h),h.tag=3,h.payload={element:null};var g=u.value;return h.callback=function(){xc||(xc=!0,op=g),Uf(a,u)},h}function Iw(a,u,h){h=hi(-1,h),h.tag=3;var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var v=u.value;h.payload=function(){return g(v)},h.callback=function(){Uf(a,u)}}var S=a.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(h.callback=function(){Uf(a,u),typeof g!="function"&&(Qi===null?Qi=new Set([this]):Qi.add(this));var F=u.stack;this.componentDidCatch(u.value,{componentStack:F!==null?F:""})}),h}function Ow(a,u,h){var g=a.pingCache;if(g===null){g=a.pingCache=new fT;var v=new Set;g.set(u,v)}else v=g.get(u),v===void 0&&(v=new Set,g.set(u,v));v.has(h)||(v.add(h),a=PT.bind(null,a,u,h),u.then(a,a))}function Lw(a){do{var u;if((u=a.tag===13)&&(u=a.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return a;a=a.return}while(a!==null);return null}function Nw(a,u,h,g,v){return(a.mode&1)===0?(a===u?a.flags|=65536:(a.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(u=hi(-1,1),u.tag=2,qi(h,u,1))),h.lanes|=1),a):(a.flags|=65536,a.lanes=v,a)}var pT=D.ReactCurrentOwner,wn=!1;function hn(a,u,h,g){u.child=a===null?nw(u,null,h,g):Bo(u,a.child,h,g)}function Bw(a,u,h,g,v){h=h.render;var S=u.ref;return Go(u,v),g=Nf(a,u,h,g,S,v),h=Bf(),a!==null&&!wn?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~v,fi(a,u,v)):(At&&h&&wf(u),u.flags|=1,hn(a,u,g,v),u.child)}function Hw(a,u,h,g,v){if(a===null){var S=h.type;return typeof S=="function"&&!fp(S)&&S.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(u.tag=15,u.type=S,Gw(a,u,S,g,v)):(a=Ac(h.type,null,g,u,u.mode,v),a.ref=u.ref,a.return=u,u.child=a)}if(S=a.child,(a.lanes&v)===0){var F=S.memoizedProps;if(h=h.compare,h=h!==null?h:tl,h(F,g)&&a.ref===u.ref)return fi(a,u,v)}return u.flags|=1,a=es(S,g),a.ref=u.ref,a.return=u,u.child=a}function Gw(a,u,h,g,v){if(a!==null){var S=a.memoizedProps;if(tl(S,g)&&a.ref===u.ref)if(wn=!1,u.pendingProps=g=S,(a.lanes&v)!==0)(a.flags&131072)!==0&&(wn=!0);else return u.lanes=a.lanes,fi(a,u,v)}return $f(a,u,h,g,v)}function Vw(a,u,h){var g=u.pendingProps,v=g.children,S=a!==null?a.memoizedState:null;if(g.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},vt(zo,Bn),Bn|=h;else{if((h&1073741824)===0)return a=S!==null?S.baseLanes|h:h,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:a,cachePool:null,transitions:null},u.updateQueue=null,vt(zo,Bn),Bn|=a,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=S!==null?S.baseLanes:h,vt(zo,Bn),Bn|=g}else S!==null?(g=S.baseLanes|h,u.memoizedState=null):g=h,vt(zo,Bn),Bn|=g;return hn(a,u,v,h),u.child}function Ww(a,u){var h=u.ref;(a===null&&h!==null||a!==null&&a.ref!==h)&&(u.flags|=512,u.flags|=2097152)}function $f(a,u,h,g,v){var S=vn(h)?As:sn.current;return S=Io(u,S),Go(u,v),h=Nf(a,u,h,g,S,v),g=Bf(),a!==null&&!wn?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~v,fi(a,u,v)):(At&&g&&wf(u),u.flags|=1,hn(a,u,h,v),u.child)}function _w(a,u,h,g,v){if(vn(h)){var S=!0;tc(u)}else S=!1;if(Go(u,v),u.stateNode===null)wc(a,u),Aw(u,h,g),zf(u,h,g,v),g=!0;else if(a===null){var F=u.stateNode,M=u.memoizedProps;F.props=M;var N=F.context,q=h.contextType;typeof q=="object"&&q!==null?q=Yn(q):(q=vn(h)?As:sn.current,q=Io(u,q));var ce=h.getDerivedStateFromProps,de=typeof ce=="function"||typeof F.getSnapshotBeforeUpdate=="function";de||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(M!==g||N!==q)&&Mw(u,F,g,q),Ki=!1;var ae=u.memoizedState;F.state=ae,cc(u,g,F,v),N=u.memoizedState,M!==g||ae!==N||Cn.current||Ki?(typeof ce=="function"&&(_f(u,h,ce,g),N=u.memoizedState),(M=Ki||Tw(u,h,M,g,ae,N,q))?(de||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(u.flags|=4194308)):(typeof F.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=g,u.memoizedState=N),F.props=g,F.state=N,F.context=q,g=M):(typeof F.componentDidMount=="function"&&(u.flags|=4194308),g=!1)}else{F=u.stateNode,iw(a,u),M=u.memoizedProps,q=u.type===u.elementType?M:pr(u.type,M),F.props=q,de=u.pendingProps,ae=F.context,N=h.contextType,typeof N=="object"&&N!==null?N=Yn(N):(N=vn(h)?As:sn.current,N=Io(u,N));var be=h.getDerivedStateFromProps;(ce=typeof be=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(M!==de||ae!==N)&&Mw(u,F,g,N),Ki=!1,ae=u.memoizedState,F.state=ae,cc(u,g,F,v);var Pe=u.memoizedState;M!==de||ae!==Pe||Cn.current||Ki?(typeof be=="function"&&(_f(u,h,be,g),Pe=u.memoizedState),(q=Ki||Tw(u,h,q,g,ae,Pe,N)||!1)?(ce||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(g,Pe,N),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(g,Pe,N)),typeof F.componentDidUpdate=="function"&&(u.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof F.componentDidUpdate!="function"||M===a.memoizedProps&&ae===a.memoizedState||(u.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||M===a.memoizedProps&&ae===a.memoizedState||(u.flags|=1024),u.memoizedProps=g,u.memoizedState=Pe),F.props=g,F.state=Pe,F.context=N,g=q):(typeof F.componentDidUpdate!="function"||M===a.memoizedProps&&ae===a.memoizedState||(u.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||M===a.memoizedProps&&ae===a.memoizedState||(u.flags|=1024),g=!1)}return Kf(a,u,h,g,S,v)}function Kf(a,u,h,g,v,S){Ww(a,u);var F=(u.flags&128)!==0;if(!g&&!F)return v&&Kv(u,h,!1),fi(a,u,S);g=u.stateNode,pT.current=u;var M=F&&typeof h.getDerivedStateFromError!="function"?null:g.render();return u.flags|=1,a!==null&&F?(u.child=Bo(u,a.child,null,S),u.child=Bo(u,null,M,S)):hn(a,u,M,S),u.memoizedState=g.state,v&&Kv(u,h,!0),u.child}function zw(a){var u=a.stateNode;u.pendingContext?Uv(a,u.pendingContext,u.pendingContext!==u.context):u.context&&Uv(a,u.context,!1),Af(a,u.containerInfo)}function jw(a,u,h,g,v){return No(),Rf(v),u.flags|=256,hn(a,u,h,g),u.child}var qf={dehydrated:null,treeContext:null,retryLane:0};function Yf(a){return{baseLanes:a,cachePool:null,transitions:null}}function Uw(a,u,h){var g=u.pendingProps,v=Mt.current,S=!1,F=(u.flags&128)!==0,M;if((M=F)||(M=a!==null&&a.memoizedState===null?!1:(v&2)!==0),M?(S=!0,u.flags&=-129):(a===null||a.memoizedState!==null)&&(v|=1),vt(Mt,v&1),a===null)return bf(u),a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((u.mode&1)===0?u.lanes=1:a.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(F=g.children,a=g.fallback,S?(g=u.mode,S=u.child,F={mode:"hidden",children:F},(g&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=F):S=Mc(F,g,0,null),a=Vs(a,g,h,null),S.return=u,a.return=u,S.sibling=a,u.child=S,u.child.memoizedState=Yf(h),u.memoizedState=qf,a):Qf(u,F));if(v=a.memoizedState,v!==null&&(M=v.dehydrated,M!==null))return gT(a,u,F,g,M,v,h);if(S){S=g.fallback,F=u.mode,v=a.child,M=v.sibling;var N={mode:"hidden",children:g.children};return(F&1)===0&&u.child!==v?(g=u.child,g.childLanes=0,g.pendingProps=N,u.deletions=null):(g=es(v,N),g.subtreeFlags=v.subtreeFlags&14680064),M!==null?S=es(M,S):(S=Vs(S,F,h,null),S.flags|=2),S.return=u,g.return=u,g.sibling=S,u.child=g,g=S,S=u.child,F=a.child.memoizedState,F=F===null?Yf(h):{baseLanes:F.baseLanes|h,cachePool:null,transitions:F.transitions},S.memoizedState=F,S.childLanes=a.childLanes&~h,u.memoizedState=qf,g}return S=a.child,a=S.sibling,g=es(S,{mode:"visible",children:g.children}),(u.mode&1)===0&&(g.lanes=h),g.return=u,g.sibling=null,a!==null&&(h=u.deletions,h===null?(u.deletions=[a],u.flags|=16):h.push(a)),u.child=g,u.memoizedState=null,g}function Qf(a,u){return u=Mc({mode:"visible",children:u},a.mode,0,null),u.return=a,a.child=u}function vc(a,u,h,g){return g!==null&&Rf(g),Bo(u,a.child,null,h),a=Qf(u,u.pendingProps.children),a.flags|=2,u.memoizedState=null,a}function gT(a,u,h,g,v,S,F){if(h)return u.flags&256?(u.flags&=-257,g=jf(Error(n(422))),vc(a,u,F,g)):u.memoizedState!==null?(u.child=a.child,u.flags|=128,null):(S=g.fallback,v=u.mode,g=Mc({mode:"visible",children:g.children},v,0,null),S=Vs(S,v,F,null),S.flags|=2,g.return=u,S.return=u,g.sibling=S,u.child=g,(u.mode&1)!==0&&Bo(u,a.child,null,F),u.child.memoizedState=Yf(F),u.memoizedState=qf,S);if((u.mode&1)===0)return vc(a,u,F,null);if(v.data==="$!"){if(g=v.nextSibling&&v.nextSibling.dataset,g)var M=g.dgst;return g=M,S=Error(n(419)),g=jf(S,g,void 0),vc(a,u,F,g)}if(M=(F&a.childLanes)!==0,wn||M){if(g=Kt,g!==null){switch(F&-F){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(g.suspendedLanes|F))!==0?0:v,v!==0&&v!==S.retryLane&&(S.retryLane=v,di(a,v),Cr(g,a,v,-1))}return hp(),g=jf(Error(n(421))),vc(a,u,F,g)}return v.data==="$?"?(u.flags|=128,u.child=a.child,u=DT.bind(null,a),v._reactRetry=u,null):(a=S.treeContext,Nn=zi(v.nextSibling),Ln=u,At=!0,fr=null,a!==null&&(Kn[qn++]=ui,Kn[qn++]=ci,Kn[qn++]=Ms,ui=a.id,ci=a.overflow,Ms=u),u=Qf(u,g.children),u.flags|=4096,u)}function $w(a,u,h){a.lanes|=u;var g=a.alternate;g!==null&&(g.lanes|=u),Pf(a.return,u,h)}function Jf(a,u,h,g,v){var S=a.memoizedState;S===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:v}:(S.isBackwards=u,S.rendering=null,S.renderingStartTime=0,S.last=g,S.tail=h,S.tailMode=v)}function Kw(a,u,h){var g=u.pendingProps,v=g.revealOrder,S=g.tail;if(hn(a,u,g.children,h),g=Mt.current,(g&2)!==0)g=g&1|2,u.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&$w(a,h,u);else if(a.tag===19)$w(a,h,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}if(vt(Mt,g),(u.mode&1)===0)u.memoizedState=null;else switch(v){case"forwards":for(h=u.child,v=null;h!==null;)a=h.alternate,a!==null&&dc(a)===null&&(v=h),h=h.sibling;h=v,h===null?(v=u.child,u.child=null):(v=h.sibling,h.sibling=null),Jf(u,!1,v,h,S);break;case"backwards":for(h=null,v=u.child,u.child=null;v!==null;){if(a=v.alternate,a!==null&&dc(a)===null){u.child=v;break}a=v.sibling,v.sibling=h,h=v,v=a}Jf(u,!0,h,null,S);break;case"together":Jf(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function wc(a,u){(u.mode&1)===0&&a!==null&&(a.alternate=null,u.alternate=null,u.flags|=2)}function fi(a,u,h){if(a!==null&&(u.dependencies=a.dependencies),Ns|=u.lanes,(h&u.childLanes)===0)return null;if(a!==null&&u.child!==a.child)throw Error(n(153));if(u.child!==null){for(a=u.child,h=es(a,a.pendingProps),u.child=h,h.return=u;a.sibling!==null;)a=a.sibling,h=h.sibling=es(a,a.pendingProps),h.return=u;h.sibling=null}return u.child}function mT(a,u,h){switch(u.tag){case 3:zw(u),No();break;case 5:aw(u);break;case 1:vn(u.type)&&tc(u);break;case 4:Af(u,u.stateNode.containerInfo);break;case 10:var g=u.type._context,v=u.memoizedProps.value;vt(ac,g._currentValue),g._currentValue=v;break;case 13:if(g=u.memoizedState,g!==null)return g.dehydrated!==null?(vt(Mt,Mt.current&1),u.flags|=128,null):(h&u.child.childLanes)!==0?Uw(a,u,h):(vt(Mt,Mt.current&1),a=fi(a,u,h),a!==null?a.sibling:null);vt(Mt,Mt.current&1);break;case 19:if(g=(h&u.childLanes)!==0,(a.flags&128)!==0){if(g)return Kw(a,u,h);u.flags|=128}if(v=u.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),vt(Mt,Mt.current),g)break;return null;case 22:case 23:return u.lanes=0,Vw(a,u,h)}return fi(a,u,h)}var qw,Xf,Yw,Qw;qw=function(a,u){for(var h=u.child;h!==null;){if(h.tag===5||h.tag===6)a.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},Xf=function(){},Yw=function(a,u,h,g){var v=a.memoizedProps;if(v!==g){a=u.stateNode,Os(Vr.current);var S=null;switch(h){case"input":v=Ye(a,v),g=Ye(a,g),S=[];break;case"select":v=Z({},v,{value:void 0}),g=Z({},g,{value:void 0}),S=[];break;case"textarea":v=$n(a,v),g=$n(a,g),S=[];break;default:typeof v.onClick!="function"&&typeof g.onClick=="function"&&(a.onclick=Xu)}yo(h,g);var F;h=null;for(q in v)if(!g.hasOwnProperty(q)&&v.hasOwnProperty(q)&&v[q]!=null)if(q==="style"){var M=v[q];for(F in M)M.hasOwnProperty(F)&&(h||(h={}),h[F]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(i.hasOwnProperty(q)?S||(S=[]):(S=S||[]).push(q,null));for(q in g){var N=g[q];if(M=v!=null?v[q]:void 0,g.hasOwnProperty(q)&&N!==M&&(N!=null||M!=null))if(q==="style")if(M){for(F in M)!M.hasOwnProperty(F)||N&&N.hasOwnProperty(F)||(h||(h={}),h[F]="");for(F in N)N.hasOwnProperty(F)&&M[F]!==N[F]&&(h||(h={}),h[F]=N[F])}else h||(S||(S=[]),S.push(q,h)),h=N;else q==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,M=M?M.__html:void 0,N!=null&&M!==N&&(S=S||[]).push(q,N)):q==="children"?typeof N!="string"&&typeof N!="number"||(S=S||[]).push(q,""+N):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(i.hasOwnProperty(q)?(N!=null&&q==="onScroll"&&Rt("scroll",a),S||M===N||(S=[])):(S=S||[]).push(q,N))}h&&(S=S||[]).push("style",h);var q=S;(u.updateQueue=q)&&(u.flags|=4)}},Qw=function(a,u,h,g){h!==g&&(u.flags|=4)};function ml(a,u){if(!At)switch(a.tailMode){case"hidden":u=a.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function an(a){var u=a.alternate!==null&&a.alternate.child===a.child,h=0,g=0;if(u)for(var v=a.child;v!==null;)h|=v.lanes|v.childLanes,g|=v.subtreeFlags&14680064,g|=v.flags&14680064,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)h|=v.lanes|v.childLanes,g|=v.subtreeFlags,g|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=g,a.childLanes=h,u}function CT(a,u,h){var g=u.pendingProps;switch(yf(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(u),null;case 1:return vn(u.type)&&ec(),an(u),null;case 3:return g=u.stateNode,Vo(),xt(Cn),xt(sn),If(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(a===null||a.child===null)&&(sc(u)?u.flags|=4:a===null||a.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,fr!==null&&(up(fr),fr=null))),Xf(a,u),an(u),null;case 5:Mf(u);var v=Os(dl.current);if(h=u.type,a!==null&&u.stateNode!=null)Yw(a,u,h,g,v),a.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!g){if(u.stateNode===null)throw Error(n(166));return an(u),null}if(a=Os(Vr.current),sc(u)){g=u.stateNode,h=u.type;var S=u.memoizedProps;switch(g[Gr]=u,g[ol]=S,a=(u.mode&1)!==0,h){case"dialog":Rt("cancel",g),Rt("close",g);break;case"iframe":case"object":case"embed":Rt("load",g);break;case"video":case"audio":for(v=0;v<rl.length;v++)Rt(rl[v],g);break;case"source":Rt("error",g);break;case"img":case"image":case"link":Rt("error",g),Rt("load",g);break;case"details":Rt("toggle",g);break;case"input":ze(g,S),Rt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!S.multiple},Rt("invalid",g);break;case"textarea":Ii(g,S),Rt("invalid",g)}yo(h,S),v=null;for(var F in S)if(S.hasOwnProperty(F)){var M=S[F];F==="children"?typeof M=="string"?g.textContent!==M&&(S.suppressHydrationWarning!==!0&&Ju(g.textContent,M,a),v=["children",M]):typeof M=="number"&&g.textContent!==""+M&&(S.suppressHydrationWarning!==!0&&Ju(g.textContent,M,a),v=["children",""+M]):i.hasOwnProperty(F)&&M!=null&&F==="onScroll"&&Rt("scroll",g)}switch(h){case"input":Yt(g),Tt(g,S,!0);break;case"textarea":Yt(g),ur(g);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(g.onclick=Xu)}g=v,u.updateQueue=g,g!==null&&(u.flags|=4)}else{F=v.nodeType===9?v:v.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=xs(h)),a==="http://www.w3.org/1999/xhtml"?h==="script"?(a=F.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof g.is=="string"?a=F.createElement(h,{is:g.is}):(a=F.createElement(h),h==="select"&&(F=a,g.multiple?F.multiple=!0:g.size&&(F.size=g.size))):a=F.createElementNS(a,h),a[Gr]=u,a[ol]=g,qw(a,u,!1,!1),u.stateNode=a;e:{switch(F=Ga(h,g),h){case"dialog":Rt("cancel",a),Rt("close",a),v=g;break;case"iframe":case"object":case"embed":Rt("load",a),v=g;break;case"video":case"audio":for(v=0;v<rl.length;v++)Rt(rl[v],a);v=g;break;case"source":Rt("error",a),v=g;break;case"img":case"image":case"link":Rt("error",a),Rt("load",a),v=g;break;case"details":Rt("toggle",a),v=g;break;case"input":ze(a,g),v=Ye(a,g),Rt("invalid",a);break;case"option":v=g;break;case"select":a._wrapperState={wasMultiple:!!g.multiple},v=Z({},g,{value:void 0}),Rt("invalid",a);break;case"textarea":Ii(a,g),v=$n(a,g),Rt("invalid",a);break;default:v=g}yo(h,v),M=v;for(S in M)if(M.hasOwnProperty(S)){var N=M[S];S==="style"?Ha(a,N):S==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&Ct(a,N)):S==="children"?typeof N=="string"?(h!=="textarea"||N!=="")&&Or(a,N):typeof N=="number"&&Or(a,""+N):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(i.hasOwnProperty(S)?N!=null&&S==="onScroll"&&Rt("scroll",a):N!=null&&P(a,S,N,F))}switch(h){case"input":Yt(a),Tt(a,g,!1);break;case"textarea":Yt(a),ur(a);break;case"option":g.value!=null&&a.setAttribute("value",""+ke(g.value));break;case"select":a.multiple=!!g.multiple,S=g.value,S!=null?pt(a,!!g.multiple,S,!1):g.defaultValue!=null&&pt(a,!!g.multiple,g.defaultValue,!0);break;default:typeof v.onClick=="function"&&(a.onclick=Xu)}switch(h){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return an(u),null;case 6:if(a&&u.stateNode!=null)Qw(a,u,a.memoizedProps,g);else{if(typeof g!="string"&&u.stateNode===null)throw Error(n(166));if(h=Os(dl.current),Os(Vr.current),sc(u)){if(g=u.stateNode,h=u.memoizedProps,g[Gr]=u,(S=g.nodeValue!==h)&&(a=Ln,a!==null))switch(a.tag){case 3:Ju(g.nodeValue,h,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Ju(g.nodeValue,h,(a.mode&1)!==0)}S&&(u.flags|=4)}else g=(h.nodeType===9?h:h.ownerDocument).createTextNode(g),g[Gr]=u,u.stateNode=g}return an(u),null;case 13:if(xt(Mt),g=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(At&&Nn!==null&&(u.mode&1)!==0&&(u.flags&128)===0)Zv(),No(),u.flags|=98560,S=!1;else if(S=sc(u),g!==null&&g.dehydrated!==null){if(a===null){if(!S)throw Error(n(318));if(S=u.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(n(317));S[Gr]=u}else No(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;an(u),S=!1}else fr!==null&&(up(fr),fr=null),S=!0;if(!S)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=h,u):(g=g!==null,g!==(a!==null&&a.memoizedState!==null)&&g&&(u.child.flags|=8192,(u.mode&1)!==0&&(a===null||(Mt.current&1)!==0?Ut===0&&(Ut=3):hp())),u.updateQueue!==null&&(u.flags|=4),an(u),null);case 4:return Vo(),Xf(a,u),a===null&&il(u.stateNode.containerInfo),an(u),null;case 10:return Ff(u.type._context),an(u),null;case 17:return vn(u.type)&&ec(),an(u),null;case 19:if(xt(Mt),S=u.memoizedState,S===null)return an(u),null;if(g=(u.flags&128)!==0,F=S.rendering,F===null)if(g)ml(S,!1);else{if(Ut!==0||a!==null&&(a.flags&128)!==0)for(a=u.child;a!==null;){if(F=dc(a),F!==null){for(u.flags|=128,ml(S,!1),g=F.updateQueue,g!==null&&(u.updateQueue=g,u.flags|=4),u.subtreeFlags=0,g=h,h=u.child;h!==null;)S=h,a=g,S.flags&=14680066,F=S.alternate,F===null?(S.childLanes=0,S.lanes=a,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=F.childLanes,S.lanes=F.lanes,S.child=F.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=F.memoizedProps,S.memoizedState=F.memoizedState,S.updateQueue=F.updateQueue,S.type=F.type,a=F.dependencies,S.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),h=h.sibling;return vt(Mt,Mt.current&1|2),u.child}a=a.sibling}S.tail!==null&&rt()>jo&&(u.flags|=128,g=!0,ml(S,!1),u.lanes=4194304)}else{if(!g)if(a=dc(F),a!==null){if(u.flags|=128,g=!0,h=a.updateQueue,h!==null&&(u.updateQueue=h,u.flags|=4),ml(S,!0),S.tail===null&&S.tailMode==="hidden"&&!F.alternate&&!At)return an(u),null}else 2*rt()-S.renderingStartTime>jo&&h!==1073741824&&(u.flags|=128,g=!0,ml(S,!1),u.lanes=4194304);S.isBackwards?(F.sibling=u.child,u.child=F):(h=S.last,h!==null?h.sibling=F:u.child=F,S.last=F)}return S.tail!==null?(u=S.tail,S.rendering=u,S.tail=u.sibling,S.renderingStartTime=rt(),u.sibling=null,h=Mt.current,vt(Mt,g?h&1|2:h&1),u):(an(u),null);case 22:case 23:return dp(),g=u.memoizedState!==null,a!==null&&a.memoizedState!==null!==g&&(u.flags|=8192),g&&(u.mode&1)!==0?(Bn&1073741824)!==0&&(an(u),u.subtreeFlags&6&&(u.flags|=8192)):an(u),null;case 24:return null;case 25:return null}throw Error(n(156,u.tag))}function vT(a,u){switch(yf(u),u.tag){case 1:return vn(u.type)&&ec(),a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 3:return Vo(),xt(Cn),xt(sn),If(),a=u.flags,(a&65536)!==0&&(a&128)===0?(u.flags=a&-65537|128,u):null;case 5:return Mf(u),null;case 13:if(xt(Mt),a=u.memoizedState,a!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(n(340));No()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 19:return xt(Mt),null;case 4:return Vo(),null;case 10:return Ff(u.type._context),null;case 22:case 23:return dp(),null;case 24:return null;default:return null}}var yc=!1,ln=!1,wT=typeof WeakSet=="function"?WeakSet:Set,xe=null;function _o(a,u){var h=a.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(g){Ht(a,u,g)}else h.current=null}function Zf(a,u,h){try{h()}catch(g){Ht(a,u,g)}}var Jw=!1;function yT(a,u){if(df=Vu,a=Tv(),nf(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var v=g.anchorOffset,S=g.focusNode;g=g.focusOffset;try{h.nodeType,S.nodeType}catch{h=null;break e}var F=0,M=-1,N=-1,q=0,ce=0,de=a,ae=null;t:for(;;){for(var be;de!==h||v!==0&&de.nodeType!==3||(M=F+v),de!==S||g!==0&&de.nodeType!==3||(N=F+g),de.nodeType===3&&(F+=de.nodeValue.length),(be=de.firstChild)!==null;)ae=de,de=be;for(;;){if(de===a)break t;if(ae===h&&++q===v&&(M=F),ae===S&&++ce===g&&(N=F),(be=de.nextSibling)!==null)break;de=ae,ae=de.parentNode}de=be}h=M===-1||N===-1?null:{start:M,end:N}}else h=null}h=h||{start:0,end:0}}else h=null;for(hf={focusedElem:a,selectionRange:h},Vu=!1,xe=u;xe!==null;)if(u=xe,a=u.child,(u.subtreeFlags&1028)!==0&&a!==null)a.return=u,xe=a;else for(;xe!==null;){u=xe;try{var Pe=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Pe!==null){var Te=Pe.memoizedProps,Vt=Pe.memoizedState,z=u.stateNode,H=z.getSnapshotBeforeUpdate(u.elementType===u.type?Te:pr(u.type,Te),Vt);z.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var j=u.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(pe){Ht(u,u.return,pe)}if(a=u.sibling,a!==null){a.return=u.return,xe=a;break}xe=u.return}return Pe=Jw,Jw=!1,Pe}function Cl(a,u,h){var g=u.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var v=g=g.next;do{if((v.tag&a)===a){var S=v.destroy;v.destroy=void 0,S!==void 0&&Zf(u,h,S)}v=v.next}while(v!==g)}}function Sc(a,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&a)===a){var g=h.create;h.destroy=g()}h=h.next}while(h!==u)}}function ep(a){var u=a.ref;if(u!==null){var h=a.stateNode;switch(a.tag){case 5:a=h;break;default:a=h}typeof u=="function"?u(a):u.current=a}}function Xw(a){var u=a.alternate;u!==null&&(a.alternate=null,Xw(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode,u!==null&&(delete u[Gr],delete u[ol],delete u[mf],delete u[nT],delete u[rT])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function Zw(a){return a.tag===5||a.tag===3||a.tag===4}function ey(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Zw(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function tp(a,u,h){var g=a.tag;if(g===5||g===6)a=a.stateNode,u?h.nodeType===8?h.parentNode.insertBefore(a,u):h.insertBefore(a,u):(h.nodeType===8?(u=h.parentNode,u.insertBefore(a,h)):(u=h,u.appendChild(a)),h=h._reactRootContainer,h!=null||u.onclick!==null||(u.onclick=Xu));else if(g!==4&&(a=a.child,a!==null))for(tp(a,u,h),a=a.sibling;a!==null;)tp(a,u,h),a=a.sibling}function np(a,u,h){var g=a.tag;if(g===5||g===6)a=a.stateNode,u?h.insertBefore(a,u):h.appendChild(a);else if(g!==4&&(a=a.child,a!==null))for(np(a,u,h),a=a.sibling;a!==null;)np(a,u,h),a=a.sibling}var Jt=null,gr=!1;function Yi(a,u,h){for(h=h.child;h!==null;)ty(a,u,h),h=h.sibling}function ty(a,u,h){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(gt,h)}catch{}switch(h.tag){case 5:ln||_o(h,u);case 6:var g=Jt,v=gr;Jt=null,Yi(a,u,h),Jt=g,gr=v,Jt!==null&&(gr?(a=Jt,h=h.stateNode,a.nodeType===8?a.parentNode.removeChild(h):a.removeChild(h)):Jt.removeChild(h.stateNode));break;case 18:Jt!==null&&(gr?(a=Jt,h=h.stateNode,a.nodeType===8?gf(a.parentNode,h):a.nodeType===1&&gf(a,h),Ya(a)):gf(Jt,h.stateNode));break;case 4:g=Jt,v=gr,Jt=h.stateNode.containerInfo,gr=!0,Yi(a,u,h),Jt=g,gr=v;break;case 0:case 11:case 14:case 15:if(!ln&&(g=h.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){v=g=g.next;do{var S=v,F=S.destroy;S=S.tag,F!==void 0&&((S&2)!==0||(S&4)!==0)&&Zf(h,u,F),v=v.next}while(v!==g)}Yi(a,u,h);break;case 1:if(!ln&&(_o(h,u),g=h.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=h.memoizedProps,g.state=h.memoizedState,g.componentWillUnmount()}catch(M){Ht(h,u,M)}Yi(a,u,h);break;case 21:Yi(a,u,h);break;case 22:h.mode&1?(ln=(g=ln)||h.memoizedState!==null,Yi(a,u,h),ln=g):Yi(a,u,h);break;default:Yi(a,u,h)}}function ny(a){var u=a.updateQueue;if(u!==null){a.updateQueue=null;var h=a.stateNode;h===null&&(h=a.stateNode=new wT),u.forEach(function(g){var v=TT.bind(null,a,g);h.has(g)||(h.add(g),g.then(v,v))})}}function mr(a,u){var h=u.deletions;if(h!==null)for(var g=0;g<h.length;g++){var v=h[g];try{var S=a,F=u,M=F;e:for(;M!==null;){switch(M.tag){case 5:Jt=M.stateNode,gr=!1;break e;case 3:Jt=M.stateNode.containerInfo,gr=!0;break e;case 4:Jt=M.stateNode.containerInfo,gr=!0;break e}M=M.return}if(Jt===null)throw Error(n(160));ty(S,F,v),Jt=null,gr=!1;var N=v.alternate;N!==null&&(N.return=null),v.return=null}catch(q){Ht(v,u,q)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)ry(u,a),u=u.sibling}function ry(a,u){var h=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(mr(u,a),_r(a),g&4){try{Cl(3,a,a.return),Sc(3,a)}catch(Te){Ht(a,a.return,Te)}try{Cl(5,a,a.return)}catch(Te){Ht(a,a.return,Te)}}break;case 1:mr(u,a),_r(a),g&512&&h!==null&&_o(h,h.return);break;case 5:if(mr(u,a),_r(a),g&512&&h!==null&&_o(h,h.return),a.flags&32){var v=a.stateNode;try{Or(v,"")}catch(Te){Ht(a,a.return,Te)}}if(g&4&&(v=a.stateNode,v!=null)){var S=a.memoizedProps,F=h!==null?h.memoizedProps:S,M=a.type,N=a.updateQueue;if(a.updateQueue=null,N!==null)try{M==="input"&&S.type==="radio"&&S.name!=null&&ct(v,S),Ga(M,F);var q=Ga(M,S);for(F=0;F<N.length;F+=2){var ce=N[F],de=N[F+1];ce==="style"?Ha(v,de):ce==="dangerouslySetInnerHTML"?Ct(v,de):ce==="children"?Or(v,de):P(v,ce,de,q)}switch(M){case"input":qe(v,S);break;case"textarea":rn(v,S);break;case"select":var ae=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!S.multiple;var be=S.value;be!=null?pt(v,!!S.multiple,be,!1):ae!==!!S.multiple&&(S.defaultValue!=null?pt(v,!!S.multiple,S.defaultValue,!0):pt(v,!!S.multiple,S.multiple?[]:"",!1))}v[ol]=S}catch(Te){Ht(a,a.return,Te)}}break;case 6:if(mr(u,a),_r(a),g&4){if(a.stateNode===null)throw Error(n(162));v=a.stateNode,S=a.memoizedProps;try{v.nodeValue=S}catch(Te){Ht(a,a.return,Te)}}break;case 3:if(mr(u,a),_r(a),g&4&&h!==null&&h.memoizedState.isDehydrated)try{Ya(u.containerInfo)}catch(Te){Ht(a,a.return,Te)}break;case 4:mr(u,a),_r(a);break;case 13:mr(u,a),_r(a),v=a.child,v.flags&8192&&(S=v.memoizedState!==null,v.stateNode.isHidden=S,!S||v.alternate!==null&&v.alternate.memoizedState!==null||(sp=rt())),g&4&&ny(a);break;case 22:if(ce=h!==null&&h.memoizedState!==null,a.mode&1?(ln=(q=ln)||ce,mr(u,a),ln=q):mr(u,a),_r(a),g&8192){if(q=a.memoizedState!==null,(a.stateNode.isHidden=q)&&!ce&&(a.mode&1)!==0)for(xe=a,ce=a.child;ce!==null;){for(de=xe=ce;xe!==null;){switch(ae=xe,be=ae.child,ae.tag){case 0:case 11:case 14:case 15:Cl(4,ae,ae.return);break;case 1:_o(ae,ae.return);var Pe=ae.stateNode;if(typeof Pe.componentWillUnmount=="function"){g=ae,h=ae.return;try{u=g,Pe.props=u.memoizedProps,Pe.state=u.memoizedState,Pe.componentWillUnmount()}catch(Te){Ht(g,h,Te)}}break;case 5:_o(ae,ae.return);break;case 22:if(ae.memoizedState!==null){oy(de);continue}}be!==null?(be.return=ae,xe=be):oy(de)}ce=ce.sibling}e:for(ce=null,de=a;;){if(de.tag===5){if(ce===null){ce=de;try{v=de.stateNode,q?(S=v.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(M=de.stateNode,N=de.memoizedProps.style,F=N!=null&&N.hasOwnProperty("display")?N.display:null,M.style.display=cr("display",F))}catch(Te){Ht(a,a.return,Te)}}}else if(de.tag===6){if(ce===null)try{de.stateNode.nodeValue=q?"":de.memoizedProps}catch(Te){Ht(a,a.return,Te)}}else if((de.tag!==22&&de.tag!==23||de.memoizedState===null||de===a)&&de.child!==null){de.child.return=de,de=de.child;continue}if(de===a)break e;for(;de.sibling===null;){if(de.return===null||de.return===a)break e;ce===de&&(ce=null),de=de.return}ce===de&&(ce=null),de.sibling.return=de.return,de=de.sibling}}break;case 19:mr(u,a),_r(a),g&4&&ny(a);break;case 21:break;default:mr(u,a),_r(a)}}function _r(a){var u=a.flags;if(u&2){try{e:{for(var h=a.return;h!==null;){if(Zw(h)){var g=h;break e}h=h.return}throw Error(n(160))}switch(g.tag){case 5:var v=g.stateNode;g.flags&32&&(Or(v,""),g.flags&=-33);var S=ey(a);np(a,S,v);break;case 3:case 4:var F=g.stateNode.containerInfo,M=ey(a);tp(a,M,F);break;default:throw Error(n(161))}}catch(N){Ht(a,a.return,N)}a.flags&=-3}u&4096&&(a.flags&=-4097)}function ST(a,u,h){xe=a,iy(a)}function iy(a,u,h){for(var g=(a.mode&1)!==0;xe!==null;){var v=xe,S=v.child;if(v.tag===22&&g){var F=v.memoizedState!==null||yc;if(!F){var M=v.alternate,N=M!==null&&M.memoizedState!==null||ln;M=yc;var q=ln;if(yc=F,(ln=N)&&!q)for(xe=v;xe!==null;)F=xe,N=F.child,F.tag===22&&F.memoizedState!==null?ay(v):N!==null?(N.return=F,xe=N):ay(v);for(;S!==null;)xe=S,iy(S),S=S.sibling;xe=v,yc=M,ln=q}sy(a)}else(v.subtreeFlags&8772)!==0&&S!==null?(S.return=v,xe=S):sy(a)}}function sy(a){for(;xe!==null;){var u=xe;if((u.flags&8772)!==0){var h=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:ln||Sc(5,u);break;case 1:var g=u.stateNode;if(u.flags&4&&!ln)if(h===null)g.componentDidMount();else{var v=u.elementType===u.type?h.memoizedProps:pr(u.type,h.memoizedProps);g.componentDidUpdate(v,h.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var S=u.updateQueue;S!==null&&ow(u,S,g);break;case 3:var F=u.updateQueue;if(F!==null){if(h=null,u.child!==null)switch(u.child.tag){case 5:h=u.child.stateNode;break;case 1:h=u.child.stateNode}ow(u,F,h)}break;case 5:var M=u.stateNode;if(h===null&&u.flags&4){h=M;var N=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&h.focus();break;case"img":N.src&&(h.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var q=u.alternate;if(q!==null){var ce=q.memoizedState;if(ce!==null){var de=ce.dehydrated;de!==null&&Ya(de)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ln||u.flags&512&&ep(u)}catch(ae){Ht(u,u.return,ae)}}if(u===a){xe=null;break}if(h=u.sibling,h!==null){h.return=u.return,xe=h;break}xe=u.return}}function oy(a){for(;xe!==null;){var u=xe;if(u===a){xe=null;break}var h=u.sibling;if(h!==null){h.return=u.return,xe=h;break}xe=u.return}}function ay(a){for(;xe!==null;){var u=xe;try{switch(u.tag){case 0:case 11:case 15:var h=u.return;try{Sc(4,u)}catch(N){Ht(u,h,N)}break;case 1:var g=u.stateNode;if(typeof g.componentDidMount=="function"){var v=u.return;try{g.componentDidMount()}catch(N){Ht(u,v,N)}}var S=u.return;try{ep(u)}catch(N){Ht(u,S,N)}break;case 5:var F=u.return;try{ep(u)}catch(N){Ht(u,F,N)}}}catch(N){Ht(u,u.return,N)}if(u===a){xe=null;break}var M=u.sibling;if(M!==null){M.return=u.return,xe=M;break}xe=u.return}}var bT=Math.ceil,bc=D.ReactCurrentDispatcher,rp=D.ReactCurrentOwner,Jn=D.ReactCurrentBatchConfig,nt=0,Kt=null,_t=null,Xt=0,Bn=0,zo=ji(0),Ut=0,vl=null,Ns=0,Rc=0,ip=0,wl=null,yn=null,sp=0,jo=1/0,pi=null,xc=!1,op=null,Qi=null,Ec=!1,Ji=null,Fc=0,yl=0,ap=null,Pc=-1,Dc=0;function fn(){return(nt&6)!==0?rt():Pc!==-1?Pc:Pc=rt()}function Xi(a){return(a.mode&1)===0?1:(nt&2)!==0&&Xt!==0?Xt&-Xt:sT.transition!==null?(Dc===0&&(Dc=ev()),Dc):(a=ht,a!==0||(a=window.event,a=a===void 0?16:uv(a.type)),a)}function Cr(a,u,h,g){if(50<yl)throw yl=0,ap=null,Error(n(185));ja(a,h,g),((nt&2)===0||a!==Kt)&&(a===Kt&&((nt&2)===0&&(Rc|=h),Ut===4&&Zi(a,Xt)),Sn(a,g),h===1&&nt===0&&(u.mode&1)===0&&(jo=rt()+500,nc&&$i()))}function Sn(a,u){var h=a.callbackNode;sD(a,u);var g=Bu(a,a===Kt?Xt:0);if(g===0)h!==null&&ii(h),a.callbackNode=null,a.callbackPriority=0;else if(u=g&-g,a.callbackPriority!==u){if(h!=null&&ii(h),u===1)a.tag===0?iT(uy.bind(null,a)):qv(uy.bind(null,a)),eT(function(){(nt&6)===0&&$i()}),h=null;else{switch(tv(g)){case 1:h=si;break;case 4:h=Hr;break;case 16:h=oi;break;case 536870912:h=et;break;default:h=oi}h=Cy(h,ly.bind(null,a))}a.callbackPriority=u,a.callbackNode=h}}function ly(a,u){if(Pc=-1,Dc=0,(nt&6)!==0)throw Error(n(327));var h=a.callbackNode;if(Uo()&&a.callbackNode!==h)return null;var g=Bu(a,a===Kt?Xt:0);if(g===0)return null;if((g&30)!==0||(g&a.expiredLanes)!==0||u)u=Tc(a,g);else{u=g;var v=nt;nt|=2;var S=dy();(Kt!==a||Xt!==u)&&(pi=null,jo=rt()+500,Hs(a,u));do try{ET();break}catch(M){cy(a,M)}while(!0);Ef(),bc.current=S,nt=v,_t!==null?u=0:(Kt=null,Xt=0,u=Ut)}if(u!==0){if(u===2&&(v=Vh(a),v!==0&&(g=v,u=lp(a,v))),u===1)throw h=vl,Hs(a,0),Zi(a,g),Sn(a,rt()),h;if(u===6)Zi(a,g);else{if(v=a.current.alternate,(g&30)===0&&!RT(v)&&(u=Tc(a,g),u===2&&(S=Vh(a),S!==0&&(g=S,u=lp(a,S))),u===1))throw h=vl,Hs(a,0),Zi(a,g),Sn(a,rt()),h;switch(a.finishedWork=v,a.finishedLanes=g,u){case 0:case 1:throw Error(n(345));case 2:Gs(a,yn,pi);break;case 3:if(Zi(a,g),(g&130023424)===g&&(u=sp+500-rt(),10<u)){if(Bu(a,0)!==0)break;if(v=a.suspendedLanes,(v&g)!==g){fn(),a.pingedLanes|=a.suspendedLanes&v;break}a.timeoutHandle=pf(Gs.bind(null,a,yn,pi),u);break}Gs(a,yn,pi);break;case 4:if(Zi(a,g),(g&4194240)===g)break;for(u=a.eventTimes,v=-1;0<g;){var F=31-it(g);S=1<<F,F=u[F],F>v&&(v=F),g&=~S}if(g=v,g=rt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*bT(g/1960))-g,10<g){a.timeoutHandle=pf(Gs.bind(null,a,yn,pi),g);break}Gs(a,yn,pi);break;case 5:Gs(a,yn,pi);break;default:throw Error(n(329))}}}return Sn(a,rt()),a.callbackNode===h?ly.bind(null,a):null}function lp(a,u){var h=wl;return a.current.memoizedState.isDehydrated&&(Hs(a,u).flags|=256),a=Tc(a,u),a!==2&&(u=yn,yn=h,u!==null&&up(u)),a}function up(a){yn===null?yn=a:yn.push.apply(yn,a)}function RT(a){for(var u=a;;){if(u.flags&16384){var h=u.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var g=0;g<h.length;g++){var v=h[g],S=v.getSnapshot;v=v.value;try{if(!hr(S(),v))return!1}catch{return!1}}}if(h=u.child,u.subtreeFlags&16384&&h!==null)h.return=u,u=h;else{if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Zi(a,u){for(u&=~ip,u&=~Rc,a.suspendedLanes|=u,a.pingedLanes&=~u,a=a.expirationTimes;0<u;){var h=31-it(u),g=1<<h;a[h]=-1,u&=~g}}function uy(a){if((nt&6)!==0)throw Error(n(327));Uo();var u=Bu(a,0);if((u&1)===0)return Sn(a,rt()),null;var h=Tc(a,u);if(a.tag!==0&&h===2){var g=Vh(a);g!==0&&(u=g,h=lp(a,g))}if(h===1)throw h=vl,Hs(a,0),Zi(a,u),Sn(a,rt()),h;if(h===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=u,Gs(a,yn,pi),Sn(a,rt()),null}function cp(a,u){var h=nt;nt|=1;try{return a(u)}finally{nt=h,nt===0&&(jo=rt()+500,nc&&$i())}}function Bs(a){Ji!==null&&Ji.tag===0&&(nt&6)===0&&Uo();var u=nt;nt|=1;var h=Jn.transition,g=ht;try{if(Jn.transition=null,ht=1,a)return a()}finally{ht=g,Jn.transition=h,nt=u,(nt&6)===0&&$i()}}function dp(){Bn=zo.current,xt(zo)}function Hs(a,u){a.finishedWork=null,a.finishedLanes=0;var h=a.timeoutHandle;if(h!==-1&&(a.timeoutHandle=-1,ZD(h)),_t!==null)for(h=_t.return;h!==null;){var g=h;switch(yf(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&ec();break;case 3:Vo(),xt(Cn),xt(sn),If();break;case 5:Mf(g);break;case 4:Vo();break;case 13:xt(Mt);break;case 19:xt(Mt);break;case 10:Ff(g.type._context);break;case 22:case 23:dp()}h=h.return}if(Kt=a,_t=a=es(a.current,null),Xt=Bn=u,Ut=0,vl=null,ip=Rc=Ns=0,yn=wl=null,Is!==null){for(u=0;u<Is.length;u++)if(h=Is[u],g=h.interleaved,g!==null){h.interleaved=null;var v=g.next,S=h.pending;if(S!==null){var F=S.next;S.next=v,g.next=F}h.pending=g}Is=null}return a}function cy(a,u){do{var h=_t;try{if(Ef(),hc.current=mc,fc){for(var g=kt.memoizedState;g!==null;){var v=g.queue;v!==null&&(v.pending=null),g=g.next}fc=!1}if(Ls=0,$t=jt=kt=null,hl=!1,fl=0,rp.current=null,h===null||h.return===null){Ut=1,vl=u,_t=null;break}e:{var S=a,F=h.return,M=h,N=u;if(u=Xt,M.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var q=N,ce=M,de=ce.tag;if((ce.mode&1)===0&&(de===0||de===11||de===15)){var ae=ce.alternate;ae?(ce.updateQueue=ae.updateQueue,ce.memoizedState=ae.memoizedState,ce.lanes=ae.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var be=Lw(F);if(be!==null){be.flags&=-257,Nw(be,F,M,S,u),be.mode&1&&Ow(S,q,u),u=be,N=q;var Pe=u.updateQueue;if(Pe===null){var Te=new Set;Te.add(N),u.updateQueue=Te}else Pe.add(N);break e}else{if((u&1)===0){Ow(S,q,u),hp();break e}N=Error(n(426))}}else if(At&&M.mode&1){var Vt=Lw(F);if(Vt!==null){(Vt.flags&65536)===0&&(Vt.flags|=256),Nw(Vt,F,M,S,u),Rf(Wo(N,M));break e}}S=N=Wo(N,M),Ut!==4&&(Ut=2),wl===null?wl=[S]:wl.push(S),S=F;do{switch(S.tag){case 3:S.flags|=65536,u&=-u,S.lanes|=u;var z=kw(S,N,u);sw(S,z);break e;case 1:M=N;var H=S.type,j=S.stateNode;if((S.flags&128)===0&&(typeof H.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Qi===null||!Qi.has(j)))){S.flags|=65536,u&=-u,S.lanes|=u;var pe=Iw(S,M,u);sw(S,pe);break e}}S=S.return}while(S!==null)}fy(h)}catch(Ae){u=Ae,_t===h&&h!==null&&(_t=h=h.return);continue}break}while(!0)}function dy(){var a=bc.current;return bc.current=mc,a===null?mc:a}function hp(){(Ut===0||Ut===3||Ut===2)&&(Ut=4),Kt===null||(Ns&268435455)===0&&(Rc&268435455)===0||Zi(Kt,Xt)}function Tc(a,u){var h=nt;nt|=2;var g=dy();(Kt!==a||Xt!==u)&&(pi=null,Hs(a,u));do try{xT();break}catch(v){cy(a,v)}while(!0);if(Ef(),nt=h,bc.current=g,_t!==null)throw Error(n(261));return Kt=null,Xt=0,Ut}function xT(){for(;_t!==null;)hy(_t)}function ET(){for(;_t!==null&&!Ps();)hy(_t)}function hy(a){var u=my(a.alternate,a,Bn);a.memoizedProps=a.pendingProps,u===null?fy(a):_t=u,rp.current=null}function fy(a){var u=a;do{var h=u.alternate;if(a=u.return,(u.flags&32768)===0){if(h=CT(h,u,Bn),h!==null){_t=h;return}}else{if(h=vT(h,u),h!==null){h.flags&=32767,_t=h;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Ut=6,_t=null;return}}if(u=u.sibling,u!==null){_t=u;return}_t=u=a}while(u!==null);Ut===0&&(Ut=5)}function Gs(a,u,h){var g=ht,v=Jn.transition;try{Jn.transition=null,ht=1,FT(a,u,h,g)}finally{Jn.transition=v,ht=g}return null}function FT(a,u,h,g){do Uo();while(Ji!==null);if((nt&6)!==0)throw Error(n(327));h=a.finishedWork;var v=a.finishedLanes;if(h===null)return null;if(a.finishedWork=null,a.finishedLanes=0,h===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var S=h.lanes|h.childLanes;if(oD(a,S),a===Kt&&(_t=Kt=null,Xt=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||Ec||(Ec=!0,Cy(oi,function(){return Uo(),null})),S=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||S){S=Jn.transition,Jn.transition=null;var F=ht;ht=1;var M=nt;nt|=4,rp.current=null,yT(a,h),ry(h,a),$D(hf),Vu=!!df,hf=df=null,a.current=h,ST(h),dr(),nt=M,ht=F,Jn.transition=S}else a.current=h;if(Ec&&(Ec=!1,Ji=a,Fc=v),S=a.pendingLanes,S===0&&(Qi=null),Ds(h.stateNode),Sn(a,rt()),u!==null)for(g=a.onRecoverableError,h=0;h<u.length;h++)v=u[h],g(v.value,{componentStack:v.stack,digest:v.digest});if(xc)throw xc=!1,a=op,op=null,a;return(Fc&1)!==0&&a.tag!==0&&Uo(),S=a.pendingLanes,(S&1)!==0?a===ap?yl++:(yl=0,ap=a):yl=0,$i(),null}function Uo(){if(Ji!==null){var a=tv(Fc),u=Jn.transition,h=ht;try{if(Jn.transition=null,ht=16>a?16:a,Ji===null)var g=!1;else{if(a=Ji,Ji=null,Fc=0,(nt&6)!==0)throw Error(n(331));var v=nt;for(nt|=4,xe=a.current;xe!==null;){var S=xe,F=S.child;if((xe.flags&16)!==0){var M=S.deletions;if(M!==null){for(var N=0;N<M.length;N++){var q=M[N];for(xe=q;xe!==null;){var ce=xe;switch(ce.tag){case 0:case 11:case 15:Cl(8,ce,S)}var de=ce.child;if(de!==null)de.return=ce,xe=de;else for(;xe!==null;){ce=xe;var ae=ce.sibling,be=ce.return;if(Xw(ce),ce===q){xe=null;break}if(ae!==null){ae.return=be,xe=ae;break}xe=be}}}var Pe=S.alternate;if(Pe!==null){var Te=Pe.child;if(Te!==null){Pe.child=null;do{var Vt=Te.sibling;Te.sibling=null,Te=Vt}while(Te!==null)}}xe=S}}if((S.subtreeFlags&2064)!==0&&F!==null)F.return=S,xe=F;else e:for(;xe!==null;){if(S=xe,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:Cl(9,S,S.return)}var z=S.sibling;if(z!==null){z.return=S.return,xe=z;break e}xe=S.return}}var H=a.current;for(xe=H;xe!==null;){F=xe;var j=F.child;if((F.subtreeFlags&2064)!==0&&j!==null)j.return=F,xe=j;else e:for(F=H;xe!==null;){if(M=xe,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:Sc(9,M)}}catch(Ae){Ht(M,M.return,Ae)}if(M===F){xe=null;break e}var pe=M.sibling;if(pe!==null){pe.return=M.return,xe=pe;break e}xe=M.return}}if(nt=v,$i(),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(gt,a)}catch{}g=!0}return g}finally{ht=h,Jn.transition=u}}return!1}function py(a,u,h){u=Wo(h,u),u=kw(a,u,1),a=qi(a,u,1),u=fn(),a!==null&&(ja(a,1,u),Sn(a,u))}function Ht(a,u,h){if(a.tag===3)py(a,a,h);else for(;u!==null;){if(u.tag===3){py(u,a,h);break}else if(u.tag===1){var g=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Qi===null||!Qi.has(g))){a=Wo(h,a),a=Iw(u,a,1),u=qi(u,a,1),a=fn(),u!==null&&(ja(u,1,a),Sn(u,a));break}}u=u.return}}function PT(a,u,h){var g=a.pingCache;g!==null&&g.delete(u),u=fn(),a.pingedLanes|=a.suspendedLanes&h,Kt===a&&(Xt&h)===h&&(Ut===4||Ut===3&&(Xt&130023424)===Xt&&500>rt()-sp?Hs(a,0):ip|=h),Sn(a,u)}function gy(a,u){u===0&&((a.mode&1)===0?u=1:(u=Nu,Nu<<=1,(Nu&130023424)===0&&(Nu=4194304)));var h=fn();a=di(a,u),a!==null&&(ja(a,u,h),Sn(a,h))}function DT(a){var u=a.memoizedState,h=0;u!==null&&(h=u.retryLane),gy(a,h)}function TT(a,u){var h=0;switch(a.tag){case 13:var g=a.stateNode,v=a.memoizedState;v!==null&&(h=v.retryLane);break;case 19:g=a.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(u),gy(a,h)}var my;my=function(a,u,h){if(a!==null)if(a.memoizedProps!==u.pendingProps||Cn.current)wn=!0;else{if((a.lanes&h)===0&&(u.flags&128)===0)return wn=!1,mT(a,u,h);wn=(a.flags&131072)!==0}else wn=!1,At&&(u.flags&1048576)!==0&&Yv(u,ic,u.index);switch(u.lanes=0,u.tag){case 2:var g=u.type;wc(a,u),a=u.pendingProps;var v=Io(u,sn.current);Go(u,h),v=Nf(null,u,g,a,v,h);var S=Bf();return u.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,vn(g)?(S=!0,tc(u)):S=!1,u.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,Tf(u),v.updater=Cc,u.stateNode=v,v._reactInternals=u,zf(u,g,a,h),u=Kf(null,u,g,!0,S,h)):(u.tag=0,At&&S&&wf(u),hn(null,u,v,h),u=u.child),u;case 16:g=u.elementType;e:{switch(wc(a,u),a=u.pendingProps,v=g._init,g=v(g._payload),u.type=g,v=u.tag=MT(g),a=pr(g,a),v){case 0:u=$f(null,u,g,a,h);break e;case 1:u=_w(null,u,g,a,h);break e;case 11:u=Bw(null,u,g,a,h);break e;case 14:u=Hw(null,u,g,pr(g.type,a),h);break e}throw Error(n(306,g,""))}return u;case 0:return g=u.type,v=u.pendingProps,v=u.elementType===g?v:pr(g,v),$f(a,u,g,v,h);case 1:return g=u.type,v=u.pendingProps,v=u.elementType===g?v:pr(g,v),_w(a,u,g,v,h);case 3:e:{if(zw(u),a===null)throw Error(n(387));g=u.pendingProps,S=u.memoizedState,v=S.element,iw(a,u),cc(u,g,null,h);var F=u.memoizedState;if(g=F.element,S.isDehydrated)if(S={element:g,isDehydrated:!1,cache:F.cache,pendingSuspenseBoundaries:F.pendingSuspenseBoundaries,transitions:F.transitions},u.updateQueue.baseState=S,u.memoizedState=S,u.flags&256){v=Wo(Error(n(423)),u),u=jw(a,u,g,h,v);break e}else if(g!==v){v=Wo(Error(n(424)),u),u=jw(a,u,g,h,v);break e}else for(Nn=zi(u.stateNode.containerInfo.firstChild),Ln=u,At=!0,fr=null,h=nw(u,null,g,h),u.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(No(),g===v){u=fi(a,u,h);break e}hn(a,u,g,h)}u=u.child}return u;case 5:return aw(u),a===null&&bf(u),g=u.type,v=u.pendingProps,S=a!==null?a.memoizedProps:null,F=v.children,ff(g,v)?F=null:S!==null&&ff(g,S)&&(u.flags|=32),Ww(a,u),hn(a,u,F,h),u.child;case 6:return a===null&&bf(u),null;case 13:return Uw(a,u,h);case 4:return Af(u,u.stateNode.containerInfo),g=u.pendingProps,a===null?u.child=Bo(u,null,g,h):hn(a,u,g,h),u.child;case 11:return g=u.type,v=u.pendingProps,v=u.elementType===g?v:pr(g,v),Bw(a,u,g,v,h);case 7:return hn(a,u,u.pendingProps,h),u.child;case 8:return hn(a,u,u.pendingProps.children,h),u.child;case 12:return hn(a,u,u.pendingProps.children,h),u.child;case 10:e:{if(g=u.type._context,v=u.pendingProps,S=u.memoizedProps,F=v.value,vt(ac,g._currentValue),g._currentValue=F,S!==null)if(hr(S.value,F)){if(S.children===v.children&&!Cn.current){u=fi(a,u,h);break e}}else for(S=u.child,S!==null&&(S.return=u);S!==null;){var M=S.dependencies;if(M!==null){F=S.child;for(var N=M.firstContext;N!==null;){if(N.context===g){if(S.tag===1){N=hi(-1,h&-h),N.tag=2;var q=S.updateQueue;if(q!==null){q=q.shared;var ce=q.pending;ce===null?N.next=N:(N.next=ce.next,ce.next=N),q.pending=N}}S.lanes|=h,N=S.alternate,N!==null&&(N.lanes|=h),Pf(S.return,h,u),M.lanes|=h;break}N=N.next}}else if(S.tag===10)F=S.type===u.type?null:S.child;else if(S.tag===18){if(F=S.return,F===null)throw Error(n(341));F.lanes|=h,M=F.alternate,M!==null&&(M.lanes|=h),Pf(F,h,u),F=S.sibling}else F=S.child;if(F!==null)F.return=S;else for(F=S;F!==null;){if(F===u){F=null;break}if(S=F.sibling,S!==null){S.return=F.return,F=S;break}F=F.return}S=F}hn(a,u,v.children,h),u=u.child}return u;case 9:return v=u.type,g=u.pendingProps.children,Go(u,h),v=Yn(v),g=g(v),u.flags|=1,hn(a,u,g,h),u.child;case 14:return g=u.type,v=pr(g,u.pendingProps),v=pr(g.type,v),Hw(a,u,g,v,h);case 15:return Gw(a,u,u.type,u.pendingProps,h);case 17:return g=u.type,v=u.pendingProps,v=u.elementType===g?v:pr(g,v),wc(a,u),u.tag=1,vn(g)?(a=!0,tc(u)):a=!1,Go(u,h),Aw(u,g,v),zf(u,g,v,h),Kf(null,u,g,!0,a,h);case 19:return Kw(a,u,h);case 22:return Vw(a,u,h)}throw Error(n(156,u.tag))};function Cy(a,u){return bt(a,u)}function AT(a,u,h,g){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(a,u,h,g){return new AT(a,u,h,g)}function fp(a){return a=a.prototype,!(!a||!a.isReactComponent)}function MT(a){if(typeof a=="function")return fp(a)?1:0;if(a!=null){if(a=a.$$typeof,a===K)return 11;if(a===fe)return 14}return 2}function es(a,u){var h=a.alternate;return h===null?(h=Xn(a.tag,u,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=u,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&14680064,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,u=a.dependencies,h.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h}function Ac(a,u,h,g,v,S){var F=2;if(g=a,typeof a=="function")fp(a)&&(F=1);else if(typeof a=="string")F=5;else e:switch(a){case T:return Vs(h.children,v,S,u);case G:F=8,v|=8;break;case $:return a=Xn(12,h,u,v|2),a.elementType=$,a.lanes=S,a;case Y:return a=Xn(13,h,u,v),a.elementType=Y,a.lanes=S,a;case le:return a=Xn(19,h,u,v),a.elementType=le,a.lanes=S,a;case ie:return Mc(h,v,S,u);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case U:F=10;break e;case J:F=9;break e;case K:F=11;break e;case fe:F=14;break e;case ue:F=16,g=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return u=Xn(F,h,u,v),u.elementType=a,u.type=g,u.lanes=S,u}function Vs(a,u,h,g){return a=Xn(7,a,g,u),a.lanes=h,a}function Mc(a,u,h,g){return a=Xn(22,a,g,u),a.elementType=ie,a.lanes=h,a.stateNode={isHidden:!1},a}function pp(a,u,h){return a=Xn(6,a,null,u),a.lanes=h,a}function gp(a,u,h){return u=Xn(4,a.children!==null?a.children:[],a.key,u),u.lanes=h,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}function kT(a,u,h,g,v){this.tag=u,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wh(0),this.expirationTimes=Wh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wh(0),this.identifierPrefix=g,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function mp(a,u,h,g,v,S,F,M,N){return a=new kT(a,u,h,M,N),u===1?(u=1,S===!0&&(u|=8)):u=0,S=Xn(3,null,null,u),a.current=S,S.stateNode=a,S.memoizedState={element:g,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tf(S),a}function IT(a,u,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:g==null?null:""+g,children:a,containerInfo:u,implementation:h}}function vy(a){if(!a)return Ui;a=a._reactInternals;e:{if(Ee(a)!==a||a.tag!==1)throw Error(n(170));var u=a;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(vn(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(n(171))}if(a.tag===1){var h=a.type;if(vn(h))return $v(a,h,u)}return u}function wy(a,u,h,g,v,S,F,M,N){return a=mp(h,g,!0,a,v,S,F,M,N),a.context=vy(null),h=a.current,g=fn(),v=Xi(h),S=hi(g,v),S.callback=u??null,qi(h,S,v),a.current.lanes=v,ja(a,v,g),Sn(a,g),a}function kc(a,u,h,g){var v=u.current,S=fn(),F=Xi(v);return h=vy(h),u.context===null?u.context=h:u.pendingContext=h,u=hi(S,F),u.payload={element:a},g=g===void 0?null:g,g!==null&&(u.callback=g),a=qi(v,u,F),a!==null&&(Cr(a,v,F,S),uc(a,v,F)),F}function Ic(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function yy(a,u){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<u?h:u}}function Cp(a,u){yy(a,u),(a=a.alternate)&&yy(a,u)}function OT(){return null}var Sy=typeof reportError=="function"?reportError:function(a){console.error(a)};function vp(a){this._internalRoot=a}Oc.prototype.render=vp.prototype.render=function(a){var u=this._internalRoot;if(u===null)throw Error(n(409));kc(a,u,null,null)},Oc.prototype.unmount=vp.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var u=a.containerInfo;Bs(function(){kc(null,a,null,null)}),u[ai]=null}};function Oc(a){this._internalRoot=a}Oc.prototype.unstable_scheduleHydration=function(a){if(a){var u=iv();a={blockedOn:null,target:a,priority:u};for(var h=0;h<Vi.length&&u!==0&&u<Vi[h].priority;h++);Vi.splice(h,0,a),h===0&&av(a)}};function wp(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Lc(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function by(){}function LT(a,u,h,g,v){if(v){if(typeof g=="function"){var S=g;g=function(){var q=Ic(F);S.call(q)}}var F=wy(u,g,a,0,null,!1,!1,"",by);return a._reactRootContainer=F,a[ai]=F.current,il(a.nodeType===8?a.parentNode:a),Bs(),F}for(;v=a.lastChild;)a.removeChild(v);if(typeof g=="function"){var M=g;g=function(){var q=Ic(N);M.call(q)}}var N=mp(a,0,!1,null,null,!1,!1,"",by);return a._reactRootContainer=N,a[ai]=N.current,il(a.nodeType===8?a.parentNode:a),Bs(function(){kc(u,N,h,g)}),N}function Nc(a,u,h,g,v){var S=h._reactRootContainer;if(S){var F=S;if(typeof v=="function"){var M=v;v=function(){var N=Ic(F);M.call(N)}}kc(u,F,a,v)}else F=LT(h,u,a,v,g);return Ic(F)}nv=function(a){switch(a.tag){case 3:var u=a.stateNode;if(u.current.memoizedState.isDehydrated){var h=za(u.pendingLanes);h!==0&&(_h(u,h|1),Sn(u,rt()),(nt&6)===0&&(jo=rt()+500,$i()))}break;case 13:Bs(function(){var g=di(a,1);if(g!==null){var v=fn();Cr(g,a,1,v)}}),Cp(a,1)}},zh=function(a){if(a.tag===13){var u=di(a,134217728);if(u!==null){var h=fn();Cr(u,a,134217728,h)}Cp(a,134217728)}},rv=function(a){if(a.tag===13){var u=Xi(a),h=di(a,u);if(h!==null){var g=fn();Cr(h,a,u,g)}Cp(a,u)}},iv=function(){return ht},sv=function(a,u){var h=ht;try{return ht=a,u()}finally{ht=h}},bo=function(a,u,h){switch(u){case"input":if(qe(a,h),u=h.name,h.type==="radio"&&u!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<h.length;u++){var g=h[u];if(g!==a&&g.form===a.form){var v=Zu(g);if(!v)throw Error(n(90));at(g),qe(g,v)}}}break;case"textarea":rn(a,h);break;case"select":u=h.value,u!=null&&pt(a,!!h.multiple,u,!1)}},Wa=cp,Es=Bs;var NT={usingClientEntryPoint:!1,Events:[al,Mo,Zu,Va,ku,cp]},Sl={findFiberByHostInstance:Ts,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BT={bundleType:Sl.bundleType,version:Sl.version,rendererPackageName:Sl.rendererPackageName,rendererConfig:Sl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=dt(a),a===null?null:a.stateNode},findFiberByHostInstance:Sl.findFiberByHostInstance||OT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bc.isDisabled&&Bc.supportsFiber)try{gt=Bc.inject(BT),Qt=Bc}catch{}}return bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NT,bn.createPortal=function(a,u){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wp(u))throw Error(n(200));return IT(a,u,null,h)},bn.createRoot=function(a,u){if(!wp(a))throw Error(n(299));var h=!1,g="",v=Sy;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onRecoverableError!==void 0&&(v=u.onRecoverableError)),u=mp(a,1,!1,null,null,h,!1,g,v),a[ai]=u.current,il(a.nodeType===8?a.parentNode:a),new vp(u)},bn.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=dt(u),a=a===null?null:a.stateNode,a},bn.flushSync=function(a){return Bs(a)},bn.hydrate=function(a,u,h){if(!Lc(u))throw Error(n(200));return Nc(null,a,u,!0,h)},bn.hydrateRoot=function(a,u,h){if(!wp(a))throw Error(n(405));var g=h!=null&&h.hydratedSources||null,v=!1,S="",F=Sy;if(h!=null&&(h.unstable_strictMode===!0&&(v=!0),h.identifierPrefix!==void 0&&(S=h.identifierPrefix),h.onRecoverableError!==void 0&&(F=h.onRecoverableError)),u=wy(u,null,a,1,h??null,v,!1,S,F),a[ai]=u.current,il(a),g)for(a=0;a<g.length;a++)h=g[a],v=h._getVersion,v=v(h._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[h,v]:u.mutableSourceEagerHydrationData.push(h,v);return new Oc(u)},bn.render=function(a,u,h){if(!Lc(u))throw Error(n(200));return Nc(null,a,u,!1,h)},bn.unmountComponentAtNode=function(a){if(!Lc(a))throw Error(n(40));return a._reactRootContainer?(Bs(function(){Nc(null,null,a,!1,function(){a._reactRootContainer=null,a[ai]=null})}),!0):!1},bn.unstable_batchedUpdates=cp,bn.unstable_renderSubtreeIntoContainer=function(a,u,h,g){if(!Lc(h))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return Nc(a,u,h,!1,g)},bn.version="18.3.1-next-f1338f8080-20240426",bn}var Ay;function ER(){if(Ay)return bp.exports;Ay=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),bp.exports=UT(),bp.exports}var My;function $T(){if(My)return Gc;My=1;var e=ER();return Gc.createRoot=e.createRoot,Gc.hydrateRoot=e.hydrateRoot,Gc}var KT=$T();const qT=Pi(KT);var fu=ER();const cs=Pi(fu),YT=xR({__proto__:null,default:cs},[fu]);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yt(){return yt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yt.apply(this,arguments)}var wt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(wt||(wt={}));const ky="popstate";function FR(e){e===void 0&&(e={});let{initialEntries:t=["/"],initialIndex:n,v5Compat:r=!1}=e,i;i=t.map((C,y)=>f(C,typeof C=="string"?null:C.state,y===0?"default":void 0));let s=c(n??i.length-1),o=wt.Pop,l=null;function c(C){return Math.min(Math.max(C,0),i.length-1)}function d(){return i[s]}function f(C,y,b){y===void 0&&(y=null);let R=so(i?d().pathname:"/",C,y,b);return xi(R.pathname.charAt(0)==="/","relative pathnames are not supported in memory history: "+JSON.stringify(C)),R}function p(C){return typeof C=="string"?C:Er(C)}return{get index(){return s},get action(){return o},get location(){return d()},createHref:p,createURL(C){return new URL(p(C),"http://localhost")},encodeLocation(C){let y=typeof C=="string"?lr(C):C;return{pathname:y.pathname||"",search:y.search||"",hash:y.hash||""}},push(C,y){o=wt.Push;let b=f(C,y);s+=1,i.splice(s,i.length,b),r&&l&&l({action:o,location:b,delta:1})},replace(C,y){o=wt.Replace;let b=f(C,y);i[s]=b,r&&l&&l({action:o,location:b,delta:0})},go(C){o=wt.Pop;let y=c(s+C),b=i[y];s=y,l&&l({action:o,location:b,delta:C})},listen(C){return l=C,()=>{l=null}}}}function PR(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:l}=r.location;return so("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Er(i)}return TR(t,n,null,e)}function DR(e){e===void 0&&(e={});function t(i,s){let{pathname:o="/",search:l="",hash:c=""}=lr(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),so("",{pathname:o,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=i.location.href,d=c.indexOf("#");l=d===-1?c:c.slice(0,d)}return l+"#"+(typeof s=="string"?s:Er(s))}function r(i,s){xi(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return TR(t,n,r,e)}function Oe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function xi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function QT(){return Math.random().toString(36).substr(2,8)}function Iy(e,t){return{usr:e.state,key:e.key,idx:t}}function so(e,t,n,r){return n===void 0&&(n=null),yt({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?lr(t):t,{state:n,key:t&&t.key||r||QT()})}function Er(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function lr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function TR(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=wt.Pop,c=null,d=f();d==null&&(d=0,o.replaceState(yt({},o.state,{idx:d}),""));function f(){return(o.state||{idx:null}).idx}function p(){l=wt.Pop;let R=f(),x=R==null?null:R-d;d=R,c&&c({action:l,location:b.location,delta:x})}function m(R,x){l=wt.Push;let E=so(b.location,R,x);n&&n(E,R),d=f()+1;let P=Iy(E,d),D=b.createHref(E);try{o.pushState(P,"",D)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(D)}s&&c&&c({action:l,location:b.location,delta:1})}function C(R,x){l=wt.Replace;let E=so(b.location,R,x);n&&n(E,R),d=f();let P=Iy(E,d),D=b.createHref(E);o.replaceState(P,"",D),s&&c&&c({action:l,location:b.location,delta:0})}function y(R){let x=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof R=="string"?R:Er(R);return E=E.replace(/ $/,"%20"),Oe(x,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,x)}let b={get action(){return l},get location(){return e(i,o)},listen(R){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(ky,p),c=R,()=>{i.removeEventListener(ky,p),c=null}},createHref(R){return t(i,R)},createURL:y,encodeLocation(R){let x=y(R);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:C,go(R){return o.go(R)}};return b}var ft;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ft||(ft={}));const JT=new Set(["lazy","caseSensitive","path","id","index","children"]);function XT(e){return e.index===!0}function bd(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((i,s)=>{let o=[...n,String(s)],l=typeof i.id=="string"?i.id:o.join("-");if(Oe(i.index!==!0||!i.children,"Cannot specify children on an index route"),Oe(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),XT(i)){let c=yt({},i,t(i),{id:l});return r[l]=c,c}else{let c=yt({},i,t(i),{id:l,children:void 0});return r[l]=c,i.children&&(c.children=bd(i.children,t,o,r)),c}})}function ls(e,t,n){return n===void 0&&(n="/"),sd(e,t,n,!1)}function sd(e,t,n,r){let i=typeof t=="string"?lr(t):t,s=An(i.pathname||"/",n);if(s==null)return null;let o=MR(e);ZT(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=IR(s);l=lA(o[c],d,r)}return l}function AR(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function MR(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Oe(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=Yr([r,c.relativePath]),f=n.concat(c);s.children&&s.children.length>0&&(Oe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),MR(s.children,t,f,d)),!(s.path==null&&!s.index)&&t.push({path:d,score:oA(d,s.index),routesMeta:f})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of kR(s.path))i(s,o,c)}),t}function kR(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=kR(r.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function ZT(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:aA(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const eA=/^:[\w-]+$/,tA=3,nA=2,rA=1,iA=10,sA=-2,Oy=e=>e==="*";function oA(e,t){let n=e.split("/"),r=n.length;return n.some(Oy)&&(r+=sA),t&&(r+=nA),n.filter(i=>!Oy(i)).reduce((i,s)=>i+(eA.test(s)?tA:s===""?rA:iA),r)}function aA(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function lA(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,i={},s="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,f=s==="/"?t:t.slice(s.length)||"/",p=ca({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),m=c.route;if(!p&&d&&n&&!r[r.length-1].route.index&&(p=ca({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:Yr([s,p.pathname]),pathnameBase:hA(Yr([s,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(s=Yr([s,p.pathnameBase]))}return o}function uA(e,t){t===void 0&&(t={});let n=e;n.endsWith("*")&&n!=="*"&&!n.endsWith("/*")&&(xi(!1,'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".')),n=n.replace(/\*$/,"/*"));const r=n.startsWith("/")?"/":"",i=o=>o==null?"":typeof o=="string"?o:String(o),s=n.split(/\/+/).map((o,l,c)=>{if(l===c.length-1&&o==="*")return i(t["*"]);const f=o.match(/^:([\w-]+)(\??)$/);if(f){const[,p,m]=f;let C=t[p];return Oe(m==="?"||C!=null,'Missing ":'+p+'" param'),i(C)}return o.replace(/\?$/g,"")}).filter(o=>!!o);return r+s.join("/")}function ca(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=cA(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,f,p)=>{let{paramName:m,isOptional:C}=f;if(m==="*"){let b=l[p]||"";o=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const y=l[p];return C&&!y?d[m]=void 0:d[m]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:e}}function cA(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),xi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function IR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return xi(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function An(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function OR(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?lr(e):e;return{pathname:n?n.startsWith("/")?n:dA(n,t):t,search:fA(r),hash:pA(i)}}function dA(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ep(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function LR(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function hh(e,t){let n=LR(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function fh(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=lr(e):(i=yt({},e),Oe(!i.pathname||!i.pathname.includes("?"),Ep("?","pathname","search",i)),Oe(!i.pathname||!i.pathname.includes("#"),Ep("#","pathname","hash",i)),Oe(!i.search||!i.search.includes("#"),Ep("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let p=t.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}l=p>=0?t[p]:"/"}let c=OR(i,l),d=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}const Yr=e=>e.join("/").replace(/\/\/+/g,"/"),hA=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),fA=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,pA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,gA=function(t,n){n===void 0&&(n={});let r=typeof n=="number"?{status:n}:n,i=new Headers(r.headers);return i.has("Content-Type")||i.set("Content-Type","application/json; charset=utf-8"),new Response(JSON.stringify(t),yt({},r,{headers:i}))};class Rd extends Error{}class mA{constructor(t,n){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],Oe(t&&typeof t=="object"&&!Array.isArray(t),"defer() only accepts plain objects");let r;this.abortPromise=new Promise((s,o)=>r=o),this.controller=new AbortController;let i=()=>r(new Rd("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",i),this.controller.signal.addEventListener("abort",i),this.data=Object.entries(t).reduce((s,o)=>{let[l,c]=o;return Object.assign(s,{[l]:this.trackPromise(l,c)})},{}),this.done&&this.unlistenAbortSignal(),this.init=n}trackPromise(t,n){if(!(n instanceof Promise))return n;this.deferredKeys.push(t),this.pendingKeysSet.add(t);let r=Promise.race([n,this.abortPromise]).then(i=>this.onSettle(r,t,void 0,i),i=>this.onSettle(r,t,i));return r.catch(()=>{}),Object.defineProperty(r,"_tracked",{get:()=>!0}),r}onSettle(t,n,r,i){if(this.controller.signal.aborted&&r instanceof Rd)return this.unlistenAbortSignal(),Object.defineProperty(t,"_error",{get:()=>r}),Promise.reject(r);if(this.pendingKeysSet.delete(n),this.done&&this.unlistenAbortSignal(),r===void 0&&i===void 0){let s=new Error('Deferred data for key "'+n+'" resolved/rejected with `undefined`, you must resolve/reject with a value or `null`.');return Object.defineProperty(t,"_error",{get:()=>s}),this.emit(!1,n),Promise.reject(s)}return i===void 0?(Object.defineProperty(t,"_error",{get:()=>r}),this.emit(!1,n),Promise.reject(r)):(Object.defineProperty(t,"_data",{get:()=>i}),this.emit(!1,n),i)}emit(t,n){this.subscribers.forEach(r=>r(t,n))}subscribe(t){return this.subscribers.add(t),()=>this.subscribers.delete(t)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((t,n)=>this.pendingKeysSet.delete(n)),this.emit(!0)}async resolveData(t){let n=!1;if(!this.done){let r=()=>this.cancel();t.addEventListener("abort",r),n=await new Promise(i=>{this.subscribe(s=>{t.removeEventListener("abort",r),(s||this.done)&&i(s)})})}return n}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return Oe(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((t,n)=>{let[r,i]=n;return Object.assign(t,{[r]:vA(i)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function CA(e){return e instanceof Promise&&e._tracked===!0}function vA(e){if(!CA(e))return e;if(e._error)throw e._error;return e._data}const wA=function(t,n){n===void 0&&(n={});let r=typeof n=="number"?{status:n}:n;return new mA(t,r)},Im=function(t,n){n===void 0&&(n=302);let r=n;typeof r=="number"?r={status:r}:typeof r.status>"u"&&(r.status=302);let i=new Headers(r.headers);return i.set("Location",t),new Response(null,yt({},r,{headers:i}))},yA=(e,t)=>{let n=Im(e,t);return n.headers.set("X-Remix-Reload-Document","true"),n},SA=(e,t)=>{let n=Im(e,t);return n.headers.set("X-Remix-Replace","true"),n};class $l{constructor(t,n,r,i){i===void 0&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function da(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const NR=["post","put","patch","delete"],bA=new Set(NR),RA=["get",...NR],xA=new Set(RA),EA=new Set([301,302,303,307,308]),FA=new Set([307,308]),Fp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},BR={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Jo={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Om=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,PA=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),HR="remix-router-transitions";function Lm(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;Oe(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let L=e.detectErrorBoundary;i=V=>({hasErrorBoundary:L(V)})}else i=PA;let s={},o=bd(e.routes,i,void 0,s),l,c=e.basename||"/",d=e.dataStrategy||MA,f=e.patchRoutesOnNavigation,p=yt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),m=null,C=new Set,y=null,b=null,R=null,x=e.hydrationData!=null,E=ls(o,e.history.location,c),P=!1,D=null;if(E==null&&!f){let L=xn(404,{pathname:e.history.location.pathname}),{matches:V,route:Q}=Uy(o);E=V,D={[Q.id]:L}}E&&!e.hydrationData&&Es(E,o,e.history.location.pathname).active&&(E=null);let A;if(E)if(E.some(L=>L.route.lazy))A=!1;else if(!E.some(L=>L.route.loader))A=!0;else if(p.v7_partialHydration){let L=e.hydrationData?e.hydrationData.loaderData:null,V=e.hydrationData?e.hydrationData.errors:null;if(V){let Q=E.findIndex(oe=>V[oe.route.id]!==void 0);A=E.slice(0,Q+1).every(oe=>!Vg(oe.route,L,V))}else A=E.every(Q=>!Vg(Q.route,L,V))}else A=e.hydrationData!=null;else if(A=!1,E=[],p.v7_partialHydration){let L=Es(null,o,e.history.location.pathname);L.active&&L.matches&&(P=!0,E=L.matches)}let O,T={historyAction:e.history.action,location:e.history.location,matches:E,initialized:A,navigation:Fp,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||D,fetchers:new Map,blockers:new Map},G=wt.Pop,$=!1,U,J=!1,K=new Map,Y=null,le=!1,fe=!1,ue=[],ie=new Set,B=new Map,ne=0,Z=-1,k=new Map,_=new Set,re=new Map,se=new Map,me=new Set,ye=new Map,Se=new Map,ke;function Ve(){if(m=e.history.listen(L=>{let{action:V,location:Q,delta:oe}=L;if(ke){ke(),ke=void 0;return}xi(Se.size===0||oe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let we=bo({currentLocation:T.location,nextLocation:Q,historyAction:V});if(we&&oe!=null){let Me=new Promise(Ge=>{ke=Ge});e.history.go(oe*-1),Oi(we,{state:"blocked",location:Q,proceed(){Oi(we,{state:"proceeding",proceed:void 0,reset:void 0,location:Q}),Me.then(()=>e.history.go(oe))},reset(){let Ge=new Map(T.blockers);Ge.set(we,Jo),at({blockers:Ge})}});return}return ct(V,Q)}),n){UA(t,K);let L=()=>$A(t,K);t.addEventListener("pagehide",L),Y=()=>t.removeEventListener("pagehide",L)}return T.initialized||ct(wt.Pop,T.location,{initialHydration:!0}),O}function Ze(){m&&m(),Y&&Y(),C.clear(),U&&U.abort(),T.fetchers.forEach((L,V)=>Lr(V)),T.blockers.forEach((L,V)=>So(V))}function Yt(L){return C.add(L),()=>C.delete(L)}function at(L,V){V===void 0&&(V={}),T=yt({},T,L);let Q=[],oe=[];p.v7_fetcherPersist&&T.fetchers.forEach((we,Me)=>{we.state==="idle"&&(me.has(Me)?oe.push(Me):Q.push(Me))}),me.forEach(we=>{!T.fetchers.has(we)&&!B.has(we)&&oe.push(we)}),[...C].forEach(we=>we(T,{deletedFetchers:oe,viewTransitionOpts:V.viewTransitionOpts,flushSync:V.flushSync===!0})),p.v7_fetcherPersist?(Q.forEach(we=>T.fetchers.delete(we)),oe.forEach(we=>Lr(we))):oe.forEach(we=>me.delete(we))}function je(L,V,Q){var oe,we;let{flushSync:Me}=Q===void 0?{}:Q,Ge=T.actionData!=null&&T.navigation.formMethod!=null&&wr(T.navigation.formMethod)&&T.navigation.state==="loading"&&((oe=L.state)==null?void 0:oe._isRedirect)!==!0,Fe;V.actionData?Object.keys(V.actionData).length>0?Fe=V.actionData:Fe=null:Ge?Fe=T.actionData:Fe=null;let De=V.loaderData?zy(T.loaderData,V.loaderData,V.matches||[],V.errors):T.loaderData,Re=T.blockers;Re.size>0&&(Re=new Map(Re),Re.forEach((Xe,zt)=>Re.set(zt,Jo)));let Ee=$===!0||T.navigation.formMethod!=null&&wr(T.navigation.formMethod)&&((we=L.state)==null?void 0:we._isRedirect)!==!0;l&&(o=l,l=void 0),le||G===wt.Pop||(G===wt.Push?e.history.push(L,L.state):G===wt.Replace&&e.history.replace(L,L.state));let Ue;if(G===wt.Pop){let Xe=K.get(T.location.pathname);Xe&&Xe.has(L.pathname)?Ue={currentLocation:T.location,nextLocation:L}:K.has(L.pathname)&&(Ue={currentLocation:L,nextLocation:T.location})}else if(J){let Xe=K.get(T.location.pathname);Xe?Xe.add(L.pathname):(Xe=new Set([L.pathname]),K.set(T.location.pathname,Xe)),Ue={currentLocation:T.location,nextLocation:L}}at(yt({},V,{actionData:Fe,loaderData:De,historyAction:G,location:L,initialized:!0,navigation:Fp,revalidation:"idle",restoreScrollPosition:Wa(L,V.matches||T.matches),preventScrollReset:Ee,blockers:Re}),{viewTransitionOpts:Ue,flushSync:Me===!0}),G=wt.Pop,$=!1,J=!1,le=!1,fe=!1,ue=[]}async function Ye(L,V){if(typeof L=="number"){e.history.go(L);return}let Q=Gg(T.location,T.matches,c,p.v7_prependBasename,L,p.v7_relativeSplatPath,V==null?void 0:V.fromRouteId,V==null?void 0:V.relative),{path:oe,submission:we,error:Me}=Ly(p.v7_normalizeFormMethod,!1,Q,V),Ge=T.location,Fe=so(T.location,oe,V&&V.state);Fe=yt({},Fe,e.history.encodeLocation(Fe));let De=V&&V.replace!=null?V.replace:void 0,Re=wt.Push;De===!0?Re=wt.Replace:De===!1||we!=null&&wr(we.formMethod)&&we.formAction===T.location.pathname+T.location.search&&(Re=wt.Replace);let Ee=V&&"preventScrollReset"in V?V.preventScrollReset===!0:void 0,Ue=(V&&V.flushSync)===!0,Xe=bo({currentLocation:Ge,nextLocation:Fe,historyAction:Re});if(Xe){Oi(Xe,{state:"blocked",location:Fe,proceed(){Oi(Xe,{state:"proceeding",proceed:void 0,reset:void 0,location:Fe}),Ye(L,V)},reset(){let zt=new Map(T.blockers);zt.set(Xe,Jo),at({blockers:zt})}});return}return await ct(Re,Fe,{submission:we,pendingError:Me,preventScrollReset:Ee,replace:V&&V.replace,enableViewTransition:V&&V.viewTransition,flushSync:Ue})}function ze(){if(Ir(),at({revalidation:"loading"}),T.navigation.state!=="submitting"){if(T.navigation.state==="idle"){ct(T.historyAction,T.location,{startUninterruptedRevalidation:!0});return}ct(G||T.historyAction,T.navigation.location,{overrideNavigation:T.navigation,enableViewTransition:J===!0})}}async function ct(L,V,Q){U&&U.abort(),U=null,G=L,le=(Q&&Q.startUninterruptedRevalidation)===!0,ku(T.location,T.matches),$=(Q&&Q.preventScrollReset)===!0,J=(Q&&Q.enableViewTransition)===!0;let oe=l||o,we=Q&&Q.overrideNavigation,Me=Q!=null&&Q.initialHydration&&T.matches&&T.matches.length>0&&!P?T.matches:ls(oe,V,c),Ge=(Q&&Q.flushSync)===!0;if(Me&&T.initialized&&!fe&&BA(T.location,V)&&!(Q&&Q.submission&&wr(Q.submission.formMethod))){je(V,{matches:Me},{flushSync:Ge});return}let Fe=Es(Me,oe,V.pathname);if(Fe.active&&Fe.matches&&(Me=Fe.matches),!Me){let{error:dt,notFoundMatches:tt,route:bt}=Nr(V.pathname);je(V,{matches:tt,loaderData:{},errors:{[bt.id]:dt}},{flushSync:Ge});return}U=new AbortController;let De=$o(e.history,V,U.signal,Q&&Q.submission),Re;if(Q&&Q.pendingError)Re=[js(Me).route.id,{type:ft.error,error:Q.pendingError}];else if(Q&&Q.submission&&wr(Q.submission.formMethod)){let dt=await qe(De,V,Q.submission,Me,Fe.active,{replace:Q.replace,flushSync:Ge});if(dt.shortCircuited)return;if(dt.pendingActionResult){let[tt,bt]=dt.pendingActionResult;if(Gn(bt)&&da(bt.error)&&bt.error.status===404){U=null,je(V,{matches:dt.matches,loaderData:{},errors:{[tt]:bt.error}});return}}Me=dt.matches||Me,Re=dt.pendingActionResult,we=Pp(V,Q.submission),Ge=!1,Fe.active=!1,De=$o(e.history,De.url,De.signal)}let{shortCircuited:Ee,matches:Ue,loaderData:Xe,errors:zt}=await Tt(De,V,Me,Fe.active,we,Q&&Q.submission,Q&&Q.fetcherSubmission,Q&&Q.replace,Q&&Q.initialHydration===!0,Ge,Re);Ee||(U=null,je(V,yt({matches:Ue||Me},jy(Re),{loaderData:Xe,errors:zt})))}async function qe(L,V,Q,oe,we,Me){Me===void 0&&(Me={}),Ir();let Ge=zA(V,Q);if(at({navigation:Ge},{flushSync:Me.flushSync===!0}),we){let Re=await Li(oe,V.pathname,L.signal);if(Re.type==="aborted")return{shortCircuited:!0};if(Re.type==="error"){let Ee=js(Re.partialMatches).route.id;return{matches:Re.partialMatches,pendingActionResult:[Ee,{type:ft.error,error:Re.error}]}}else if(Re.matches)oe=Re.matches;else{let{notFoundMatches:Ee,error:Ue,route:Xe}=Nr(V.pathname);return{matches:Ee,pendingActionResult:[Xe.id,{type:ft.error,error:Ue}]}}}let Fe,De=Ml(oe,V);if(!De.route.action&&!De.route.lazy)Fe={type:ft.error,error:xn(405,{method:L.method,pathname:V.pathname,routeId:De.route.id})};else if(Fe=(await ur("action",T,L,[De],oe,null))[De.route.id],L.signal.aborted)return{shortCircuited:!0};if($s(Fe)){let Re;return Me&&Me.replace!=null?Re=Me.replace:Re=Vy(Fe.response.headers.get("Location"),new URL(L.url),c)===T.location.pathname+T.location.search,await rn(L,Fe,!0,{submission:Q,replace:Re}),{shortCircuited:!0}}if(ds(Fe))throw xn(400,{type:"defer-action"});if(Gn(Fe)){let Re=js(oe,De.route.id);return(Me&&Me.replace)!==!0&&(G=wt.Push),{matches:oe,pendingActionResult:[Re.route.id,Fe]}}return{matches:oe,pendingActionResult:[De.route.id,Fe]}}async function Tt(L,V,Q,oe,we,Me,Ge,Fe,De,Re,Ee){let Ue=we||Pp(V,Me),Xe=Me||Ge||Ky(Ue),zt=!le&&(!p.v7_partialHydration||!De);if(oe){if(zt){let gt=Bt(Ee);at(yt({navigation:Ue},gt!==void 0?{actionData:gt}:{}),{flushSync:Re})}let et=await Li(Q,V.pathname,L.signal);if(et.type==="aborted")return{shortCircuited:!0};if(et.type==="error"){let gt=js(et.partialMatches).route.id;return{matches:et.partialMatches,loaderData:{},errors:{[gt]:et.error}}}else if(et.matches)Q=et.matches;else{let{error:gt,notFoundMatches:Qt,route:Ds}=Nr(V.pathname);return{matches:Qt,loaderData:{},errors:{[Ds.id]:gt}}}}let dt=l||o,[tt,bt]=By(e.history,T,Q,Xe,V,p.v7_partialHydration&&De===!0,p.v7_skipActionErrorRevalidation,fe,ue,ie,me,re,_,dt,c,Ee);if(Br(et=>!(Q&&Q.some(gt=>gt.route.id===et))||tt&&tt.some(gt=>gt.route.id===et)),Z=++ne,tt.length===0&&bt.length===0){let et=Au();return je(V,yt({matches:Q,loaderData:{},errors:Ee&&Gn(Ee[1])?{[Ee[0]]:Ee[1].error}:null},jy(Ee),et?{fetchers:new Map(T.fetchers)}:{}),{flushSync:Re}),{shortCircuited:!0}}if(zt){let et={};if(!oe){et.navigation=Ue;let gt=Bt(Ee);gt!==void 0&&(et.actionData=gt)}bt.length>0&&(et.fetchers=mt(bt)),at(et,{flushSync:Re})}bt.forEach(et=>{cr(et.key),et.controller&&B.set(et.key,et.controller)});let ii=()=>bt.forEach(et=>cr(et.key));U&&U.signal.addEventListener("abort",ii);let{loaderResults:Ps,fetcherResults:dr}=await xs(T,Q,tt,bt,L);if(L.signal.aborted)return{shortCircuited:!0};U&&U.signal.removeEventListener("abort",ii),bt.forEach(et=>B.delete(et.key));let rt=Vc(Ps);if(rt)return await rn(L,rt.result,!0,{replace:Fe}),{shortCircuited:!0};if(rt=Vc(dr),rt)return _.add(rt.key),await rn(L,rt.result,!0,{replace:Fe}),{shortCircuited:!0};let{loaderData:_a,errors:si}=_y(T,Q,Ps,Ee,bt,dr,ye);ye.forEach((et,gt)=>{et.subscribe(Qt=>{(Qt||et.done)&&ye.delete(gt)})}),p.v7_partialHydration&&De&&T.errors&&(si=yt({},T.errors,si));let Hr=Au(),oi=yo(Z),Ro=Hr||oi||bt.length>0;return yt({matches:Q,loaderData:_a,errors:si},Ro?{fetchers:new Map(T.fetchers)}:{})}function Bt(L){if(L&&!Gn(L[1]))return{[L[0]]:L[1].data};if(T.actionData)return Object.keys(T.actionData).length===0?null:T.actionData}function mt(L){return L.forEach(V=>{let Q=T.fetchers.get(V.key),oe=Rl(void 0,Q?Q.data:void 0);T.fetchers.set(V.key,oe)}),new Map(T.fetchers)}function pt(L,V,Q,oe){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");cr(L);let we=(oe&&oe.flushSync)===!0,Me=l||o,Ge=Gg(T.location,T.matches,c,p.v7_prependBasename,Q,p.v7_relativeSplatPath,V,oe==null?void 0:oe.relative),Fe=ls(Me,Ge,c),De=Es(Fe,Me,Ge);if(De.active&&De.matches&&(Fe=De.matches),!Fe){Ct(L,V,xn(404,{pathname:Ge}),{flushSync:we});return}let{path:Re,submission:Ee,error:Ue}=Ly(p.v7_normalizeFormMethod,!0,Ge,oe);if(Ue){Ct(L,V,Ue,{flushSync:we});return}let Xe=Ml(Fe,Re),zt=(oe&&oe.preventScrollReset)===!0;if(Ee&&wr(Ee.formMethod)){$n(L,V,Re,Xe,Fe,De.active,we,zt,Ee);return}re.set(L,{routeId:V,path:Re}),Ii(L,V,Re,Xe,Fe,De.active,we,zt,Ee)}async function $n(L,V,Q,oe,we,Me,Ge,Fe,De){Ir(),re.delete(L);function Re(it){if(!it.route.action&&!it.route.lazy){let Ni=xn(405,{method:De.formMethod,pathname:Q,routeId:V});return Ct(L,V,Ni,{flushSync:Ge}),!0}return!1}if(!Me&&Re(oe))return;let Ee=T.fetchers.get(L);Je(L,jA(De,Ee),{flushSync:Ge});let Ue=new AbortController,Xe=$o(e.history,Q,Ue.signal,De);if(Me){let it=await Li(we,new URL(Xe.url).pathname,Xe.signal,L);if(it.type==="aborted")return;if(it.type==="error"){Ct(L,V,it.error,{flushSync:Ge});return}else if(it.matches){if(we=it.matches,oe=Ml(we,Q),Re(oe))return}else{Ct(L,V,xn(404,{pathname:Q}),{flushSync:Ge});return}}B.set(L,Ue);let zt=ne,tt=(await ur("action",T,Xe,[oe],we,L))[oe.route.id];if(Xe.signal.aborted){B.get(L)===Ue&&B.delete(L);return}if(p.v7_fetcherPersist&&me.has(L)){if($s(tt)||Gn(tt)){Je(L,ss(void 0));return}}else{if($s(tt))if(B.delete(L),Z>zt){Je(L,ss(void 0));return}else return _.add(L),Je(L,Rl(De)),rn(Xe,tt,!1,{fetcherSubmission:De,preventScrollReset:Fe});if(Gn(tt)){Ct(L,V,tt.error);return}}if(ds(tt))throw xn(400,{type:"defer-action"});let bt=T.navigation.location||T.location,ii=$o(e.history,bt,Ue.signal),Ps=l||o,dr=T.navigation.state!=="idle"?ls(Ps,T.navigation.location,c):T.matches;Oe(dr,"Didn't find any matches after fetcher action");let rt=++ne;k.set(L,rt);let _a=Rl(De,tt.data);T.fetchers.set(L,_a);let[si,Hr]=By(e.history,T,dr,De,bt,!1,p.v7_skipActionErrorRevalidation,fe,ue,ie,me,re,_,Ps,c,[oe.route.id,tt]);Hr.filter(it=>it.key!==L).forEach(it=>{let Ni=it.key,Ou=T.fetchers.get(Ni),Gh=Rl(void 0,Ou?Ou.data:void 0);T.fetchers.set(Ni,Gh),cr(Ni),it.controller&&B.set(Ni,it.controller)}),at({fetchers:new Map(T.fetchers)});let oi=()=>Hr.forEach(it=>cr(it.key));Ue.signal.addEventListener("abort",oi);let{loaderResults:Ro,fetcherResults:et}=await xs(T,dr,si,Hr,ii);if(Ue.signal.aborted)return;Ue.signal.removeEventListener("abort",oi),k.delete(L),B.delete(L),Hr.forEach(it=>B.delete(it.key));let gt=Vc(Ro);if(gt)return rn(ii,gt.result,!1,{preventScrollReset:Fe});if(gt=Vc(et),gt)return _.add(gt.key),rn(ii,gt.result,!1,{preventScrollReset:Fe});let{loaderData:Qt,errors:Ds}=_y(T,dr,Ro,void 0,Hr,et,ye);if(T.fetchers.has(L)){let it=ss(tt.data);T.fetchers.set(L,it)}yo(rt),T.navigation.state==="loading"&&rt>Z?(Oe(G,"Expected pending action"),U&&U.abort(),je(T.navigation.location,{matches:dr,loaderData:Qt,errors:Ds,fetchers:new Map(T.fetchers)})):(at({errors:Ds,loaderData:zy(T.loaderData,Qt,dr,Ds),fetchers:new Map(T.fetchers)}),fe=!1)}async function Ii(L,V,Q,oe,we,Me,Ge,Fe,De){let Re=T.fetchers.get(L);Je(L,Rl(De,Re?Re.data:void 0),{flushSync:Ge});let Ee=new AbortController,Ue=$o(e.history,Q,Ee.signal);if(Me){let tt=await Li(we,new URL(Ue.url).pathname,Ue.signal,L);if(tt.type==="aborted")return;if(tt.type==="error"){Ct(L,V,tt.error,{flushSync:Ge});return}else if(tt.matches)we=tt.matches,oe=Ml(we,Q);else{Ct(L,V,xn(404,{pathname:Q}),{flushSync:Ge});return}}B.set(L,Ee);let Xe=ne,dt=(await ur("loader",T,Ue,[oe],we,L))[oe.route.id];if(ds(dt)&&(dt=await Nm(dt,Ue.signal,!0)||dt),B.get(L)===Ee&&B.delete(L),!Ue.signal.aborted){if(me.has(L)){Je(L,ss(void 0));return}if($s(dt))if(Z>Xe){Je(L,ss(void 0));return}else{_.add(L),await rn(Ue,dt,!1,{preventScrollReset:Fe});return}if(Gn(dt)){Ct(L,V,dt.error);return}Oe(!ds(dt),"Unhandled fetcher deferred data"),Je(L,ss(dt.data))}}async function rn(L,V,Q,oe){let{submission:we,fetcherSubmission:Me,preventScrollReset:Ge,replace:Fe}=oe===void 0?{}:oe;V.response.headers.has("X-Remix-Revalidate")&&(fe=!0);let De=V.response.headers.get("Location");Oe(De,"Expected a Location header on the redirect Response"),De=Vy(De,new URL(L.url),c);let Re=so(T.location,De,{_isRedirect:!0});if(n){let tt=!1;if(V.response.headers.has("X-Remix-Reload-Document"))tt=!0;else if(Om.test(De)){const bt=e.history.createURL(De);tt=bt.origin!==t.location.origin||An(bt.pathname,c)==null}if(tt){Fe?t.location.replace(De):t.location.assign(De);return}}U=null;let Ee=Fe===!0||V.response.headers.has("X-Remix-Replace")?wt.Replace:wt.Push,{formMethod:Ue,formAction:Xe,formEncType:zt}=T.navigation;!we&&!Me&&Ue&&Xe&&zt&&(we=Ky(T.navigation));let dt=we||Me;if(FA.has(V.response.status)&&dt&&wr(dt.formMethod))await ct(Ee,Re,{submission:yt({},dt,{formAction:De}),preventScrollReset:Ge||$,enableViewTransition:Q?J:void 0});else{let tt=Pp(Re,we);await ct(Ee,Re,{overrideNavigation:tt,fetcherSubmission:Me,preventScrollReset:Ge||$,enableViewTransition:Q?J:void 0})}}async function ur(L,V,Q,oe,we,Me){let Ge,Fe={};try{Ge=await kA(d,L,V,Q,oe,we,Me,s,i)}catch(De){return oe.forEach(Re=>{Fe[Re.route.id]={type:ft.error,error:De}}),Fe}for(let[De,Re]of Object.entries(Ge))if(HA(Re)){let Ee=Re.result;Fe[De]={type:ft.redirect,response:LA(Ee,Q,De,we,c,p.v7_relativeSplatPath)}}else Fe[De]=await OA(Re);return Fe}async function xs(L,V,Q,oe,we){let Me=L.matches,Ge=ur("loader",L,we,Q,V,null),Fe=Promise.all(oe.map(async Ee=>{if(Ee.matches&&Ee.match&&Ee.controller){let Xe=(await ur("loader",L,$o(e.history,Ee.path,Ee.controller.signal),[Ee.match],Ee.matches,Ee.key))[Ee.match.route.id];return{[Ee.key]:Xe}}else return Promise.resolve({[Ee.key]:{type:ft.error,error:xn(404,{pathname:Ee.path})}})})),De=await Ge,Re=(await Fe).reduce((Ee,Ue)=>Object.assign(Ee,Ue),{});return await Promise.all([WA(V,De,we.signal,Me,L.loaderData),_A(V,Re,oe)]),{loaderResults:De,fetcherResults:Re}}function Ir(){fe=!0,ue.push(...Br()),re.forEach((L,V)=>{B.has(V)&&ie.add(V),cr(V)})}function Je(L,V,Q){Q===void 0&&(Q={}),T.fetchers.set(L,V),at({fetchers:new Map(T.fetchers)},{flushSync:(Q&&Q.flushSync)===!0})}function Ct(L,V,Q,oe){oe===void 0&&(oe={});let we=js(T.matches,V);Lr(L),at({errors:{[we.route.id]:Q},fetchers:new Map(T.fetchers)},{flushSync:(oe&&oe.flushSync)===!0})}function Or(L){return se.set(L,(se.get(L)||0)+1),me.has(L)&&me.delete(L),T.fetchers.get(L)||BR}function Lr(L){let V=T.fetchers.get(L);B.has(L)&&!(V&&V.state==="loading"&&k.has(L))&&cr(L),re.delete(L),k.delete(L),_.delete(L),p.v7_fetcherPersist&&me.delete(L),ie.delete(L),T.fetchers.delete(L)}function Hh(L){let V=(se.get(L)||0)-1;V<=0?(se.delete(L),me.add(L),p.v7_fetcherPersist||Lr(L)):se.set(L,V),at({fetchers:new Map(T.fetchers)})}function cr(L){let V=B.get(L);V&&(V.abort(),B.delete(L))}function Ha(L){for(let V of L){let Q=Or(V),oe=ss(Q.data);T.fetchers.set(V,oe)}}function Au(){let L=[],V=!1;for(let Q of _){let oe=T.fetchers.get(Q);Oe(oe,"Expected fetcher: "+Q),oe.state==="loading"&&(_.delete(Q),L.push(Q),V=!0)}return Ha(L),V}function yo(L){let V=[];for(let[Q,oe]of k)if(oe<L){let we=T.fetchers.get(Q);Oe(we,"Expected fetcher: "+Q),we.state==="loading"&&(cr(Q),k.delete(Q),V.push(Q))}return Ha(V),V.length>0}function Ga(L,V){let Q=T.blockers.get(L)||Jo;return Se.get(L)!==V&&Se.set(L,V),Q}function So(L){T.blockers.delete(L),Se.delete(L)}function Oi(L,V){let Q=T.blockers.get(L)||Jo;Oe(Q.state==="unblocked"&&V.state==="blocked"||Q.state==="blocked"&&V.state==="blocked"||Q.state==="blocked"&&V.state==="proceeding"||Q.state==="blocked"&&V.state==="unblocked"||Q.state==="proceeding"&&V.state==="unblocked","Invalid blocker state transition: "+Q.state+" -> "+V.state);let oe=new Map(T.blockers);oe.set(L,V),at({blockers:oe})}function bo(L){let{currentLocation:V,nextLocation:Q,historyAction:oe}=L;if(Se.size===0)return;Se.size>1&&xi(!1,"A router only supports one blocker at a time");let we=Array.from(Se.entries()),[Me,Ge]=we[we.length-1],Fe=T.blockers.get(Me);if(!(Fe&&Fe.state==="proceeding")&&Ge({currentLocation:V,nextLocation:Q,historyAction:oe}))return Me}function Nr(L){let V=xn(404,{pathname:L}),Q=l||o,{matches:oe,route:we}=Uy(Q);return Br(),{notFoundMatches:oe,route:we,error:V}}function Br(L){let V=[];return ye.forEach((Q,oe)=>{(!L||L(oe))&&(Q.cancel(),V.push(oe),ye.delete(oe))}),V}function Mu(L,V,Q){if(y=L,R=V,b=Q||null,!x&&T.navigation===Fp){x=!0;let oe=Wa(T.location,T.matches);oe!=null&&at({restoreScrollPosition:oe})}return()=>{y=null,R=null,b=null}}function Va(L,V){return b&&b(L,V.map(oe=>AR(oe,T.loaderData)))||L.key}function ku(L,V){if(y&&R){let Q=Va(L,V);y[Q]=R()}}function Wa(L,V){if(y){let Q=Va(L,V),oe=y[Q];if(typeof oe=="number")return oe}return null}function Es(L,V,Q){if(f)if(L){if(Object.keys(L[0].params).length>0)return{active:!0,matches:sd(V,Q,c,!0)}}else return{active:!0,matches:sd(V,Q,c,!0)||[]};return{active:!1,matches:null}}async function Li(L,V,Q,oe){if(!f)return{type:"success",matches:L};let we=L;for(;;){let Me=l==null,Ge=l||o,Fe=s;try{await f({signal:Q,path:V,matches:we,fetcherKey:oe,patch:(Ee,Ue)=>{Q.aborted||Gy(Ee,Ue,Ge,Fe,i)}})}catch(Ee){return{type:"error",error:Ee,partialMatches:we}}finally{Me&&!Q.aborted&&(o=[...o])}if(Q.aborted)return{type:"aborted"};let De=ls(Ge,V,c);if(De)return{type:"success",matches:De};let Re=sd(Ge,V,c,!0);if(!Re||we.length===Re.length&&we.every((Ee,Ue)=>Ee.route.id===Re[Ue].route.id))return{type:"success",matches:null};we=Re}}function Iu(L){s={},l=bd(L,i,void 0,s)}function Fs(L,V){let Q=l==null;Gy(L,V,l||o,s,i),Q&&(o=[...o],at({}))}return O={get basename(){return c},get future(){return p},get state(){return T},get routes(){return o},get window(){return t},initialize:Ve,subscribe:Yt,enableScrollRestoration:Mu,navigate:Ye,fetch:pt,revalidate:ze,createHref:L=>e.history.createHref(L),encodeLocation:L=>e.history.encodeLocation(L),getFetcher:Or,deleteFetcher:Hh,dispose:Ze,getBlocker:Ga,deleteBlocker:So,patchRoutes:Fs,_internalFetchControllers:B,_internalActiveDeferreds:ye,_internalSetRoutes:Iu},O}function DA(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Gg(e,t,n,r,i,s,o,l){let c,d;if(o){c=[];for(let p of t)if(c.push(p),p.route.id===o){d=p;break}}else c=t,d=t[t.length-1];let f=fh(i||".",hh(c,s),An(e.pathname,n)||e.pathname,l==="path");if(i==null&&(f.search=e.search,f.hash=e.hash),(i==null||i===""||i===".")&&d){let p=Bm(f.search);if(d.route.index&&!p)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&p){let m=new URLSearchParams(f.search),C=m.getAll("index");m.delete("index"),C.filter(b=>b).forEach(b=>m.append("index",b));let y=m.toString();f.search=y?"?"+y:""}}return r&&n!=="/"&&(f.pathname=f.pathname==="/"?n:Yr([n,f.pathname])),Er(f)}function Ly(e,t,n,r){if(!r||!DA(r))return{path:n};if(r.formMethod&&!VA(r.formMethod))return{path:n,error:xn(405,{method:r.formMethod})};let i=()=>({path:n,error:xn(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=e?s.toUpperCase():s.toLowerCase(),l=WR(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!wr(o))return i();let m=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((C,y)=>{let[b,R]=y;return""+C+b+"="+R+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:m}}}else if(r.formEncType==="application/json"){if(!wr(o))return i();try{let m=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:m,text:void 0}}}catch{return i()}}}Oe(typeof FormData=="function","FormData is not available in this environment");let c,d;if(r.formData)c=Wg(r.formData),d=r.formData;else if(r.body instanceof FormData)c=Wg(r.body),d=r.body;else if(r.body instanceof URLSearchParams)c=r.body,d=Wy(c);else if(r.body==null)c=new URLSearchParams,d=new FormData;else try{c=new URLSearchParams(r.body),d=Wy(c)}catch{return i()}let f={formMethod:o,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(wr(f.formMethod))return{path:n,submission:f};let p=lr(n);return t&&p.search&&Bm(p.search)&&c.append("index",""),p.search="?"+c,{path:Er(p),submission:f}}function Ny(e,t,n){n===void 0&&(n=!1);let r=e.findIndex(i=>i.route.id===t);return r>=0?e.slice(0,n?r+1:r):e}function By(e,t,n,r,i,s,o,l,c,d,f,p,m,C,y,b){let R=b?Gn(b[1])?b[1].error:b[1].data:void 0,x=e.createURL(t.location),E=e.createURL(i),P=n;s&&t.errors?P=Ny(n,Object.keys(t.errors)[0],!0):b&&Gn(b[1])&&(P=Ny(n,b[0]));let D=b?b[1].statusCode:void 0,A=o&&D&&D>=400,O=P.filter((G,$)=>{let{route:U}=G;if(U.lazy)return!0;if(U.loader==null)return!1;if(s)return Vg(U,t.loaderData,t.errors);if(TA(t.loaderData,t.matches[$],G)||c.some(Y=>Y===G.route.id))return!0;let J=t.matches[$],K=G;return Hy(G,yt({currentUrl:x,currentParams:J.params,nextUrl:E,nextParams:K.params},r,{actionResult:R,actionStatus:D,defaultShouldRevalidate:A?!1:l||x.pathname+x.search===E.pathname+E.search||x.search!==E.search||GR(J,K)}))}),T=[];return p.forEach((G,$)=>{if(s||!n.some(le=>le.route.id===G.routeId)||f.has($))return;let U=ls(C,G.path,y);if(!U){T.push({key:$,routeId:G.routeId,path:G.path,matches:null,match:null,controller:null});return}let J=t.fetchers.get($),K=Ml(U,G.path),Y=!1;m.has($)?Y=!1:d.has($)?(d.delete($),Y=!0):J&&J.state!=="idle"&&J.data===void 0?Y=l:Y=Hy(K,yt({currentUrl:x,currentParams:t.matches[t.matches.length-1].params,nextUrl:E,nextParams:n[n.length-1].params},r,{actionResult:R,actionStatus:D,defaultShouldRevalidate:A?!1:l})),Y&&T.push({key:$,routeId:G.routeId,path:G.path,matches:U,match:K,controller:new AbortController})}),[O,T]}function Vg(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=t!=null&&t[e.id]!==void 0,i=n!=null&&n[e.id]!==void 0;return!r&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!i}function TA(e,t,n){let r=!t||n.route.id!==t.route.id,i=e[n.route.id]===void 0;return r||i}function GR(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Hy(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function Gy(e,t,n,r,i){var s;let o;if(e){let d=r[e];Oe(d,"No route found to patch children into: routeId = "+e),d.children||(d.children=[]),o=d.children}else o=n;let l=t.filter(d=>!o.some(f=>VR(d,f))),c=bd(l,i,[e||"_","patch",String(((s=o)==null?void 0:s.length)||"0")],r);o.push(...c)}function VR(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>{var i;return(i=t.children)==null?void 0:i.some(s=>VR(n,s))}):!1}async function AA(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];Oe(i,"No route found in manifest");let s={};for(let o in r){let c=i[o]!==void 0&&o!=="hasErrorBoundary";xi(!c,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!c&&!JT.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,yt({},t(i),{lazy:void 0}))}async function MA(e){let{matches:t}=e,n=t.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,o)=>Object.assign(i,{[n[o].route.id]:s}),{})}async function kA(e,t,n,r,i,s,o,l,c,d){let f=s.map(C=>C.route.lazy?AA(C.route,c,l):void 0),p=s.map((C,y)=>{let b=f[y],R=i.some(E=>E.route.id===C.route.id);return yt({},C,{shouldLoad:R,resolve:async E=>(E&&r.method==="GET"&&(C.route.lazy||C.route.loader)&&(R=!0),R?IA(t,r,C,b,E,d):Promise.resolve({type:ft.data,result:void 0}))})}),m=await e({matches:p,request:r,params:s[0].params,fetcherKey:o,context:d});try{await Promise.all(f)}catch{}return m}async function IA(e,t,n,r,i,s){let o,l,c=d=>{let f,p=new Promise((y,b)=>f=b);l=()=>f(),t.signal.addEventListener("abort",l);let m=y=>typeof d!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+n.route.id+"]"))):d({request:t,params:n.params,context:s},...y!==void 0?[y]:[]),C=(async()=>{try{return{type:"data",result:await(i?i(b=>m(b)):m())}}catch(y){return{type:"error",result:y}}})();return Promise.race([C,p])};try{let d=n.route[e];if(r)if(d){let f,[p]=await Promise.all([c(d).catch(m=>{f=m}),r]);if(f!==void 0)throw f;o=p}else if(await r,d=n.route[e],d)o=await c(d);else if(e==="action"){let f=new URL(t.url),p=f.pathname+f.search;throw xn(405,{method:t.method,pathname:p,routeId:n.route.id})}else return{type:ft.data,result:void 0};else if(d)o=await c(d);else{let f=new URL(t.url),p=f.pathname+f.search;throw xn(404,{pathname:p})}Oe(o.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(d){return{type:ft.error,result:d}}finally{l&&t.signal.removeEventListener("abort",l)}return o}async function OA(e){let{result:t,type:n}=e;if(_R(t)){let p;try{let m=t.headers.get("Content-Type");m&&/\bapplication\/json\b/.test(m)?t.body==null?p=null:p=await t.json():p=await t.text()}catch(m){return{type:ft.error,error:m}}return n===ft.error?{type:ft.error,error:new $l(t.status,t.statusText,p),statusCode:t.status,headers:t.headers}:{type:ft.data,data:p,statusCode:t.status,headers:t.headers}}if(n===ft.error){if($y(t)){var r,i;if(t.data instanceof Error){var s,o;return{type:ft.error,error:t.data,statusCode:(s=t.init)==null?void 0:s.status,headers:(o=t.init)!=null&&o.headers?new Headers(t.init.headers):void 0}}return{type:ft.error,error:new $l(((r=t.init)==null?void 0:r.status)||500,void 0,t.data),statusCode:da(t)?t.status:void 0,headers:(i=t.init)!=null&&i.headers?new Headers(t.init.headers):void 0}}return{type:ft.error,error:t,statusCode:da(t)?t.status:void 0}}if(GA(t)){var l,c;return{type:ft.deferred,deferredData:t,statusCode:(l=t.init)==null?void 0:l.status,headers:((c=t.init)==null?void 0:c.headers)&&new Headers(t.init.headers)}}if($y(t)){var d,f;return{type:ft.data,data:t.data,statusCode:(d=t.init)==null?void 0:d.status,headers:(f=t.init)!=null&&f.headers?new Headers(t.init.headers):void 0}}return{type:ft.data,data:t}}function LA(e,t,n,r,i,s){let o=e.headers.get("Location");if(Oe(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Om.test(o)){let l=r.slice(0,r.findIndex(c=>c.route.id===n)+1);o=Gg(new URL(t.url),l,i,!0,o,s),e.headers.set("Location",o)}return e}function Vy(e,t,n){if(Om.test(e)){let r=e,i=r.startsWith("//")?new URL(t.protocol+r):new URL(r),s=An(i.pathname,n)!=null;if(i.origin===t.origin&&s)return i.pathname+i.search+i.hash}return e}function $o(e,t,n,r){let i=e.createURL(WR(t)).toString(),s={signal:n};if(r&&wr(r.formMethod)){let{formMethod:o,formEncType:l}=r;s.method=o.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(r.json)):l==="text/plain"?s.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?s.body=Wg(r.formData):s.body=r.formData}return new Request(i,s)}function Wg(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function Wy(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function NA(e,t,n,r,i){let s={},o=null,l,c=!1,d={},f=n&&Gn(n[1])?n[1].error:void 0;return e.forEach(p=>{if(!(p.route.id in t))return;let m=p.route.id,C=t[m];if(Oe(!$s(C),"Cannot handle redirect results in processLoaderData"),Gn(C)){let y=C.error;f!==void 0&&(y=f,f=void 0),o=o||{};{let b=js(e,m);o[b.route.id]==null&&(o[b.route.id]=y)}s[m]=void 0,c||(c=!0,l=da(C.error)?C.error.status:500),C.headers&&(d[m]=C.headers)}else ds(C)?(r.set(m,C.deferredData),s[m]=C.deferredData.data,C.statusCode!=null&&C.statusCode!==200&&!c&&(l=C.statusCode),C.headers&&(d[m]=C.headers)):(s[m]=C.data,C.statusCode&&C.statusCode!==200&&!c&&(l=C.statusCode),C.headers&&(d[m]=C.headers))}),f!==void 0&&n&&(o={[n[0]]:f},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:l||200,loaderHeaders:d}}function _y(e,t,n,r,i,s,o){let{loaderData:l,errors:c}=NA(t,n,r,o);return i.forEach(d=>{let{key:f,match:p,controller:m}=d,C=s[f];if(Oe(C,"Did not find corresponding fetcher result"),!(m&&m.signal.aborted))if(Gn(C)){let y=js(e.matches,p==null?void 0:p.route.id);c&&c[y.route.id]||(c=yt({},c,{[y.route.id]:C.error})),e.fetchers.delete(f)}else if($s(C))Oe(!1,"Unhandled fetcher revalidation redirect");else if(ds(C))Oe(!1,"Unhandled fetcher deferred data");else{let y=ss(C.data);e.fetchers.set(f,y)}}),{loaderData:l,errors:c}}function zy(e,t,n,r){let i=yt({},t);for(let s of n){let o=s.route.id;if(t.hasOwnProperty(o)?t[o]!==void 0&&(i[o]=t[o]):e[o]!==void 0&&s.route.loader&&(i[o]=e[o]),r&&r.hasOwnProperty(o))break}return i}function jy(e){return e?Gn(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function js(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function Uy(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function xn(e,t){let{pathname:n,routeId:r,method:i,type:s,message:o}=t===void 0?{}:t,l="Unknown Server Error",c="Unknown @remix-run/router error";return e===400?(l="Bad Request",i&&n&&r?c="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?c="defer() is not supported in actions":s==="invalid-body"&&(c="Unable to encode submission body")):e===403?(l="Forbidden",c='Route "'+r+'" does not match URL "'+n+'"'):e===404?(l="Not Found",c='No route matches URL "'+n+'"'):e===405&&(l="Method Not Allowed",i&&n&&r?c="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(c='Invalid request method "'+i.toUpperCase()+'"')),new $l(e||500,l,new Error(c),!0)}function Vc(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,i]=t[n];if($s(i))return{key:r,result:i}}}function WR(e){let t=typeof e=="string"?lr(e):e;return Er(yt({},t,{hash:""}))}function BA(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function HA(e){return _R(e.result)&&EA.has(e.result.status)}function ds(e){return e.type===ft.deferred}function Gn(e){return e.type===ft.error}function $s(e){return(e&&e.type)===ft.redirect}function $y(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function GA(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function _R(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function VA(e){return xA.has(e.toLowerCase())}function wr(e){return bA.has(e.toLowerCase())}async function WA(e,t,n,r,i){let s=Object.entries(t);for(let o=0;o<s.length;o++){let[l,c]=s[o],d=e.find(m=>(m==null?void 0:m.route.id)===l);if(!d)continue;let f=r.find(m=>m.route.id===d.route.id),p=f!=null&&!GR(f,d)&&(i&&i[d.route.id])!==void 0;ds(c)&&p&&await Nm(c,n,!1).then(m=>{m&&(t[l]=m)})}}async function _A(e,t,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:o}=n[r],l=t[i];e.find(d=>(d==null?void 0:d.route.id)===s)&&ds(l)&&(Oe(o,"Expected an AbortController for revalidating fetcher deferred result"),await Nm(l,o.signal,!0).then(d=>{d&&(t[i]=d)}))}}async function Nm(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:ft.data,data:e.deferredData.unwrappedData}}catch(i){return{type:ft.error,error:i}}return{type:ft.data,data:e.deferredData.data}}}function Bm(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Ml(e,t){let n=typeof t=="string"?lr(t).search:t.search;if(e[e.length-1].route.index&&Bm(n||""))return e[e.length-1];let r=LR(e);return r[r.length-1]}function Ky(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:s,json:o}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:t,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Pp(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function zA(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Rl(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function jA(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function ss(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function UA(e,t){try{let n=e.sessionStorage.getItem(HR);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&t.set(i,new Set(s||[]))}}catch{}}function $A(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(HR,JSON.stringify(n))}catch(r){xi(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fs(){return fs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fs.apply(this,arguments)}const xa=w.createContext(null),pu=w.createContext(null),xd=w.createContext(null),jn=w.createContext(null),Ea=w.createContext(null),Un=w.createContext({outlet:null,matches:[],isDataRoute:!1}),zR=w.createContext(null);function jR(e,t){let{relative:n}=t===void 0?{}:t;ys()||Oe(!1);let{basename:r,navigator:i}=w.useContext(jn),{hash:s,pathname:o,search:l}=Fa(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Yr([r,o])),i.createHref({pathname:c,search:l,hash:s})}function ys(){return w.useContext(Ea)!=null}function mn(){return ys()||Oe(!1),w.useContext(Ea).location}function KA(){return w.useContext(Ea).navigationType}function qA(e){ys()||Oe(!1);let{pathname:t}=mn();return w.useMemo(()=>ca(e,IR(t)),[t,e])}function UR(e){w.useContext(jn).static||w.useLayoutEffect(e)}function Di(){let{isDataRoute:e}=w.useContext(Un);return e?uM():YA()}function YA(){ys()||Oe(!1);let e=w.useContext(xa),{basename:t,future:n,navigator:r}=w.useContext(jn),{matches:i}=w.useContext(Un),{pathname:s}=mn(),o=JSON.stringify(hh(i,n.v7_relativeSplatPath)),l=w.useRef(!1);return UR(()=>{l.current=!0}),w.useCallback(function(d,f){if(f===void 0&&(f={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let p=fh(d,JSON.parse(o),s,f.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Yr([t,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[t,r,o,s,e])}const $R=w.createContext(null);function QA(){return w.useContext($R)}function KR(e){let t=w.useContext(Un).outlet;return t&&w.createElement($R.Provider,{value:e},t)}function JA(){let{matches:e}=w.useContext(Un),t=e[e.length-1];return t?t.params:{}}function Fa(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=w.useContext(jn),{matches:i}=w.useContext(Un),{pathname:s}=mn(),o=JSON.stringify(hh(i,r.v7_relativeSplatPath));return w.useMemo(()=>fh(e,JSON.parse(o),s,n==="path"),[e,o,s,n])}function qR(e,t){return YR(e,t)}function YR(e,t,n,r){ys()||Oe(!1);let{navigator:i,static:s}=w.useContext(jn),{matches:o}=w.useContext(Un),l=o[o.length-1],c=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let f=mn(),p;if(t){var m;let x=typeof t=="string"?lr(t):t;d==="/"||(m=x.pathname)!=null&&m.startsWith(d)||Oe(!1),p=x}else p=f;let C=p.pathname||"/",y=C;if(d!=="/"){let x=d.replace(/^\//,"").split("/");y="/"+C.replace(/^\//,"").split("/").slice(x.length).join("/")}let b=!s&&n&&n.matches&&n.matches.length>0?n.matches:ls(e,{pathname:y}),R=QR(b&&b.map(x=>Object.assign({},x,{params:Object.assign({},c,x.params),pathname:Yr([d,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?d:Yr([d,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,n,r);return t&&R?w.createElement(Ea.Provider,{value:{location:fs({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:wt.Pop}},R):R}function XA(){let e=tx(),t=da(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:i},n):null,null)}const ZA=w.createElement(XA,null);class eM extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(Un.Provider,{value:this.props.routeContext},w.createElement(zR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function tM(e){let{routeContext:t,match:n,children:r}=e,i=w.useContext(xa);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Un.Provider,{value:t},r)}function QR(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let f=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);f>=0||Oe(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:m,errors:C}=n,y=p.route.loader&&m[p.route.id]===void 0&&(!C||C[p.route.id]===void 0);if(p.route.lazy||y){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,p,m)=>{let C,y=!1,b=null,R=null;n&&(C=l&&p.route.id?l[p.route.id]:void 0,b=p.route.errorElement||ZA,c&&(d<0&&m===0?(cM("route-fallback"),y=!0,R=null):d===m&&(y=!0,R=p.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,m+1)),E=()=>{let P;return C?P=b:y?P=R:p.route.Component?P=w.createElement(p.route.Component,null):p.route.element?P=p.route.element:P=f,w.createElement(tM,{match:p,routeContext:{outlet:f,matches:x,isDataRoute:n!=null},children:P})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?w.createElement(eM,{location:n.location,revalidation:n.revalidation,component:b,error:C,children:E(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):E()},null)}var JR=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(JR||{}),Mn=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Mn||{});function Hm(e){let t=w.useContext(xa);return t||Oe(!1),t}function Ss(e){let t=w.useContext(pu);return t||Oe(!1),t}function nM(e){let t=w.useContext(Un);return t||Oe(!1),t}function gu(e){let t=nM(),n=t.matches[t.matches.length-1];return n.route.id||Oe(!1),n.route.id}function XR(){return gu(Mn.UseRouteId)}function ZR(){return Ss(Mn.UseNavigation).navigation}function rM(){let e=Hm(),t=Ss(Mn.UseRevalidator);return w.useMemo(()=>({revalidate:e.router.revalidate,state:t.revalidation}),[e.router.revalidate,t.revalidation])}function ex(){let{matches:e,loaderData:t}=Ss(Mn.UseMatches);return w.useMemo(()=>e.map(n=>AR(n,t)),[e,t])}function iM(){let e=Ss(Mn.UseLoaderData),t=gu(Mn.UseLoaderData);if(e.errors&&e.errors[t]!=null){console.error("You cannot `useLoaderData` in an errorElement (routeId: "+t+")");return}return e.loaderData[t]}function sM(e){return Ss(Mn.UseRouteLoaderData).loaderData[e]}function oM(){let e=Ss(Mn.UseActionData),t=gu(Mn.UseLoaderData);return e.actionData?e.actionData[t]:void 0}function tx(){var e;let t=w.useContext(zR),n=Ss(Mn.UseRouteError),r=gu(Mn.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function nx(){let e=w.useContext(xd);return e==null?void 0:e._data}function aM(){let e=w.useContext(xd);return e==null?void 0:e._error}let lM=0;function rx(e){let{router:t,basename:n}=Hm(),r=Ss(Mn.UseBlocker),[i,s]=w.useState(""),o=w.useCallback(l=>{if(typeof e!="function")return!!e;if(n==="/")return e(l);let{currentLocation:c,nextLocation:d,historyAction:f}=l;return e({currentLocation:fs({},c,{pathname:An(c.pathname,n)||c.pathname}),nextLocation:fs({},d,{pathname:An(d.pathname,n)||d.pathname}),historyAction:f})},[n,e]);return w.useEffect(()=>{let l=String(++lM);return s(l),()=>t.deleteBlocker(l)},[t]),w.useEffect(()=>{i!==""&&t.getBlocker(i,o)},[t,i,o]),i&&r.blockers.has(i)?r.blockers.get(i):Jo}function uM(){let{router:e}=Hm(JR.UseNavigateStable),t=gu(Mn.UseNavigateStable),n=w.useRef(!1);return UR(()=>{n.current=!0}),w.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,fs({fromRouteId:t},s)))},[e,t])}const qy={};function cM(e,t,n){qy[e]||(qy[e]=!0)}function mu(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}const dM="startTransition",Yy=km[dM];function hM(e){let{basename:t,children:n,initialEntries:r,initialIndex:i,future:s}=e,o=w.useRef();o.current==null&&(o.current=FR({initialEntries:r,initialIndex:i,v5Compat:!0}));let l=o.current,[c,d]=w.useState({action:l.action,location:l.location}),{v7_startTransition:f}=s||{},p=w.useCallback(m=>{f&&Yy?Yy(()=>d(m)):d(m)},[d,f]);return w.useLayoutEffect(()=>l.listen(p),[l,p]),w.useEffect(()=>mu(s),[s]),w.createElement(Pa,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:s})}function fM(e){let{to:t,replace:n,state:r,relative:i}=e;ys()||Oe(!1);let{future:s,static:o}=w.useContext(jn),{matches:l}=w.useContext(Un),{pathname:c}=mn(),d=Di(),f=fh(t,hh(l,s.v7_relativeSplatPath),c,i==="path"),p=JSON.stringify(f);return w.useEffect(()=>d(JSON.parse(p),{replace:n,state:r,relative:i}),[d,p,i,n,r]),null}function pM(e){return KR(e.context)}function vr(e){Oe(!1)}function Pa(e){let{basename:t="/",children:n=null,location:r,navigationType:i=wt.Pop,navigator:s,static:o=!1,future:l}=e;ys()&&Oe(!1);let c=t.replace(/^\/*/,"/"),d=w.useMemo(()=>({basename:c,navigator:s,static:o,future:fs({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof r=="string"&&(r=lr(r));let{pathname:f="/",search:p="",hash:m="",state:C=null,key:y="default"}=r,b=w.useMemo(()=>{let R=An(f,c);return R==null?null:{location:{pathname:R,search:p,hash:m,state:C,key:y},navigationType:i}},[c,f,p,m,C,y,i]);return b==null?null:w.createElement(jn.Provider,{value:d},w.createElement(Ea.Provider,{children:n,value:b}))}function ix(e){let{children:t,location:n}=e;return qR(Kl(t),n)}function gM(e){let{children:t,errorElement:n,resolve:r}=e;return w.createElement(CM,{resolve:r,errorElement:n},w.createElement(vM,null,t))}var Zn=function(e){return e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error",e}(Zn||{});const mM=new Promise(()=>{});class CM extends w.Component{constructor(t){super(t),this.state={error:null}}static getDerivedStateFromError(t){return{error:t}}componentDidCatch(t,n){console.error("<Await> caught the following error during render",t,n)}render(){let{children:t,errorElement:n,resolve:r}=this.props,i=null,s=Zn.pending;if(!(r instanceof Promise))s=Zn.success,i=Promise.resolve(),Object.defineProperty(i,"_tracked",{get:()=>!0}),Object.defineProperty(i,"_data",{get:()=>r});else if(this.state.error){s=Zn.error;let o=this.state.error;i=Promise.reject().catch(()=>{}),Object.defineProperty(i,"_tracked",{get:()=>!0}),Object.defineProperty(i,"_error",{get:()=>o})}else r._tracked?(i=r,s="_error"in i?Zn.error:"_data"in i?Zn.success:Zn.pending):(s=Zn.pending,Object.defineProperty(r,"_tracked",{get:()=>!0}),i=r.then(o=>Object.defineProperty(r,"_data",{get:()=>o}),o=>Object.defineProperty(r,"_error",{get:()=>o})));if(s===Zn.error&&i._error instanceof Rd)throw mM;if(s===Zn.error&&!n)throw i._error;if(s===Zn.error)return w.createElement(xd.Provider,{value:i,children:n});if(s===Zn.success)return w.createElement(xd.Provider,{value:i,children:t});throw i}}function vM(e){let{children:t}=e,n=nx(),r=typeof t=="function"?t(n):t;return w.createElement(w.Fragment,null,r)}function Kl(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(r,i)=>{if(!w.isValidElement(r))return;let s=[...t,i];if(r.type===w.Fragment){n.push.apply(n,Kl(r.props.children,s));return}r.type!==vr&&Oe(!1),!r.props.index||!r.props.children||Oe(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Kl(r.props.children,s)),n.push(o)}),n}function wM(e){return QR(e)}function Gm(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:w.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:w.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:w.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}function yM(e,t){return Lm({basename:t==null?void 0:t.basename,future:fs({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:FR({initialEntries:t==null?void 0:t.initialEntries,initialIndex:t==null?void 0:t.initialIndex}),hydrationData:t==null?void 0:t.hydrationData,routes:e,mapRouteProperties:Gm,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation}).initialize()}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pn(){return Pn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pn.apply(this,arguments)}function Vm(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}const od="get",Dp="application/x-www-form-urlencoded";function ph(e){return e!=null&&typeof e.tagName=="string"}function SM(e){return ph(e)&&e.tagName.toLowerCase()==="button"}function bM(e){return ph(e)&&e.tagName.toLowerCase()==="form"}function RM(e){return ph(e)&&e.tagName.toLowerCase()==="input"}function xM(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function EM(e,t){return e.button===0&&(!t||t==="_self")&&!xM(e)}function Ed(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function FM(e,t){let n=Ed(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}let Wc=null;function PM(){if(Wc===null)try{new FormData(document.createElement("form"),0),Wc=!1}catch{Wc=!0}return Wc}const DM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tp(e){return e!=null&&!DM.has(e)?null:e}function TM(e,t){let n,r,i,s,o;if(bM(e)){let l=e.getAttribute("action");r=l?An(l,t):null,n=e.getAttribute("method")||od,i=Tp(e.getAttribute("enctype"))||Dp,s=new FormData(e)}else if(SM(e)||RM(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(r=c?An(c,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||od,i=Tp(e.getAttribute("formenctype"))||Tp(l.getAttribute("enctype"))||Dp,s=new FormData(l,e),!PM()){let{name:d,type:f,value:p}=e;if(f==="image"){let m=d?d+".":"";s.append(m+"x","0"),s.append(m+"y","0")}else d&&s.append(d,p)}}else{if(ph(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=od,r=null,i=Dp,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}const AM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],MM=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],kM=["fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"],IM="6";try{window.__reactRouterVersion=IM}catch{}function OM(e,t){return Lm({basename:t==null?void 0:t.basename,future:Pn({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:PR({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||sx(),routes:e,mapRouteProperties:Gm,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function LM(e,t){return Lm({basename:t==null?void 0:t.basename,future:Pn({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:DR({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||sx(),routes:e,mapRouteProperties:Gm,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function sx(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Pn({},t,{errors:NM(t.errors)})),t}function NM(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new $l(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const Wm=w.createContext({isTransitioning:!1}),_m=w.createContext(new Map),BM="startTransition",ps=km[BM],HM="flushSync",Qy=YT[HM],GM="useId",Jy=km[GM];function VM(e){ps?ps(e):e()}function xl(e){Qy?Qy(e):e()}class WM{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function _M(e){let{fallbackElement:t,router:n,future:r}=e,[i,s]=w.useState(n.state),[o,l]=w.useState(),[c,d]=w.useState({isTransitioning:!1}),[f,p]=w.useState(),[m,C]=w.useState(),[y,b]=w.useState(),R=w.useRef(new Map),{v7_startTransition:x}=r||{},E=w.useCallback(G=>{x?VM(G):G()},[x]),P=w.useCallback((G,$)=>{let{deletedFetchers:U,flushSync:J,viewTransitionOpts:K}=$;G.fetchers.forEach((le,fe)=>{le.data!==void 0&&R.current.set(fe,le.data)}),U.forEach(le=>R.current.delete(le));let Y=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!K||Y){J?xl(()=>s(G)):E(()=>s(G));return}if(J){xl(()=>{m&&(f&&f.resolve(),m.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:K.currentLocation,nextLocation:K.nextLocation})});let le=n.window.document.startViewTransition(()=>{xl(()=>s(G))});le.finished.finally(()=>{xl(()=>{p(void 0),C(void 0),l(void 0),d({isTransitioning:!1})})}),xl(()=>C(le));return}m?(f&&f.resolve(),m.skipTransition(),b({state:G,currentLocation:K.currentLocation,nextLocation:K.nextLocation})):(l(G),d({isTransitioning:!0,flushSync:!1,currentLocation:K.currentLocation,nextLocation:K.nextLocation}))},[n.window,m,f,R,E]);w.useLayoutEffect(()=>n.subscribe(P),[n,P]),w.useEffect(()=>{c.isTransitioning&&!c.flushSync&&p(new WM)},[c]),w.useEffect(()=>{if(f&&o&&n.window){let G=o,$=f.promise,U=n.window.document.startViewTransition(async()=>{E(()=>s(G)),await $});U.finished.finally(()=>{p(void 0),C(void 0),l(void 0),d({isTransitioning:!1})}),C(U)}},[E,o,f,n.window]),w.useEffect(()=>{f&&o&&i.location.key===o.location.key&&f.resolve()},[f,m,i.location,o]),w.useEffect(()=>{!c.isTransitioning&&y&&(l(y.state),d({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),b(void 0))},[c.isTransitioning,y]),w.useEffect(()=>{},[]);let D=w.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:G=>n.navigate(G),push:(G,$,U)=>n.navigate(G,{state:$,preventScrollReset:U==null?void 0:U.preventScrollReset}),replace:(G,$,U)=>n.navigate(G,{replace:!0,state:$,preventScrollReset:U==null?void 0:U.preventScrollReset})}),[n]),A=n.basename||"/",O=w.useMemo(()=>({router:n,navigator:D,static:!1,basename:A}),[n,D,A]),T=w.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return w.useEffect(()=>mu(r,n.future),[r,n.future]),w.createElement(w.Fragment,null,w.createElement(xa.Provider,{value:O},w.createElement(pu.Provider,{value:i},w.createElement(_m.Provider,{value:R.current},w.createElement(Wm.Provider,{value:c},w.createElement(Pa,{basename:A,location:i.location,navigationType:i.historyAction,navigator:D,future:T},i.initialized||n.future.v7_partialHydration?w.createElement(zM,{routes:n.routes,future:n.future,state:i}):t))))),null)}const zM=w.memo(jM);function jM(e){let{routes:t,future:n,state:r}=e;return YR(t,void 0,r,n)}function ox(e){let{basename:t,children:n,future:r,window:i}=e,s=w.useRef();s.current==null&&(s.current=PR({window:i,v5Compat:!0}));let o=s.current,[l,c]=w.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},f=w.useCallback(p=>{d&&ps?ps(()=>c(p)):c(p)},[c,d]);return w.useLayoutEffect(()=>o.listen(f),[o,f]),w.useEffect(()=>mu(r),[r]),w.createElement(Pa,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}function UM(e){let{basename:t,children:n,future:r,window:i}=e,s=w.useRef();s.current==null&&(s.current=DR({window:i,v5Compat:!0}));let o=s.current,[l,c]=w.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},f=w.useCallback(p=>{d&&ps?ps(()=>c(p)):c(p)},[c,d]);return w.useLayoutEffect(()=>o.listen(f),[o,f]),w.useEffect(()=>mu(r),[r]),w.createElement(Pa,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}function $M(e){let{basename:t,children:n,future:r,history:i}=e,[s,o]=w.useState({action:i.action,location:i.location}),{v7_startTransition:l}=r||{},c=w.useCallback(d=>{l&&ps?ps(()=>o(d)):o(d)},[o,l]);return w.useLayoutEffect(()=>i.listen(c),[i,c]),w.useEffect(()=>mu(r),[r]),w.createElement(Pa,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:i,future:r})}const KM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ax=w.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:c,to:d,preventScrollReset:f,viewTransition:p}=t,m=Vm(t,AM),{basename:C}=w.useContext(jn),y,b=!1;if(typeof d=="string"&&qM.test(d)&&(y=d,KM))try{let P=new URL(window.location.href),D=d.startsWith("//")?new URL(P.protocol+d):new URL(d),A=An(D.pathname,C);D.origin===P.origin&&A!=null?d=A+D.search+D.hash:b=!0}catch{}let R=jR(d,{relative:i}),x=ux(d,{replace:o,state:l,target:c,preventScrollReset:f,relative:i,viewTransition:p});function E(P){r&&r(P),P.defaultPrevented||x(P)}return w.createElement("a",Pn({},m,{href:y||R,onClick:b||s?r:E,ref:n,target:c}))}),YM=w.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:d,children:f}=t,p=Vm(t,MM),m=Fa(c,{relative:p.relative}),C=mn(),y=w.useContext(pu),{navigator:b,basename:R}=w.useContext(jn),x=y!=null&&fx(m)&&d===!0,E=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,P=C.pathname,D=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;i||(P=P.toLowerCase(),D=D?D.toLowerCase():null,E=E.toLowerCase()),D&&R&&(D=An(D,R)||D);const A=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let O=P===E||!o&&P.startsWith(E)&&P.charAt(A)==="/",T=D!=null&&(D===E||!o&&D.startsWith(E)&&D.charAt(E.length)==="/"),G={isActive:O,isPending:T,isTransitioning:x},$=O?r:void 0,U;typeof s=="function"?U=s(G):U=[s,O?"active":null,T?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let J=typeof l=="function"?l(G):l;return w.createElement(ax,Pn({},p,{"aria-current":$,className:U,ref:n,style:J,to:c,viewTransition:d}),typeof f=="function"?f(G):f)}),lx=w.forwardRef((e,t)=>{let{fetcherKey:n,navigate:r,reloadDocument:i,replace:s,state:o,method:l=od,action:c,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:m}=e,C=Vm(e,kM),y=jm(),b=dx(c,{relative:f}),R=l.toLowerCase()==="get"?"get":"post",x=E=>{if(d&&d(E),E.defaultPrevented)return;E.preventDefault();let P=E.nativeEvent.submitter,D=(P==null?void 0:P.getAttribute("formmethod"))||l;y(P||E.currentTarget,{fetcherKey:n,method:D,navigate:r,replace:s,state:o,relative:f,preventScrollReset:p,viewTransition:m})};return w.createElement("form",Pn({ref:t,method:R,action:b,onSubmit:i?d:x},C))});function QM(e){let{getKey:t,storageKey:n}=e;return hx({getKey:t,storageKey:n}),null}var ha;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ha||(ha={}));var ql;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ql||(ql={}));function gh(e){let t=w.useContext(xa);return t||Oe(!1),t}function zm(e){let t=w.useContext(pu);return t||Oe(!1),t}function ux(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:l}=t===void 0?{}:t,c=Di(),d=mn(),f=Fa(e,{relative:o});return w.useCallback(p=>{if(EM(p,n)){p.preventDefault();let m=r!==void 0?r:Er(d)===Er(f);c(e,{replace:m,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[d,c,f,r,i,n,e,s,o,l])}function JM(e){let t=w.useRef(Ed(e)),n=w.useRef(!1),r=mn(),i=w.useMemo(()=>FM(r.search,n.current?null:t.current),[r.search]),s=Di(),o=w.useCallback((l,c)=>{const d=Ed(typeof l=="function"?l(i):l);n.current=!0,s("?"+d,c)},[s,i]);return[i,o]}function XM(){if(typeof document>"u")throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.")}let ZM=0,cx=()=>"__"+String(++ZM)+"__";function jm(){let{router:e}=gh(ha.UseSubmit),{basename:t}=w.useContext(jn),n=XR();return w.useCallback(function(r,i){i===void 0&&(i={}),XM();let{action:s,method:o,encType:l,formData:c,body:d}=TM(r,t);if(i.navigate===!1){let f=i.fetcherKey||cx();e.fetch(f,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||o,formEncType:i.encType||l,flushSync:i.flushSync})}else e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:d,formMethod:i.method||o,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function dx(e,t){let{relative:n}=t===void 0?{}:t,{basename:r}=w.useContext(jn),i=w.useContext(Un);i||Oe(!1);let[s]=i.matches.slice(-1),o=Pn({},Fa(e||".",{relative:n})),l=mn();if(e==null){o.search=l.search;let c=new URLSearchParams(o.search),d=c.getAll("index");if(d.some(p=>p==="")){c.delete("index"),d.filter(m=>m).forEach(m=>c.append("index",m));let p=c.toString();o.search=p?"?"+p:""}}return(!e||e===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:Yr([r,o.pathname])),Er(o)}function ek(e){var t;let{key:n}=e===void 0?{}:e,{router:r}=gh(ha.UseFetcher),i=zm(ql.UseFetcher),s=w.useContext(_m),o=w.useContext(Un),l=(t=o.matches[o.matches.length-1])==null?void 0:t.route.id;s||Oe(!1),o||Oe(!1),l==null&&Oe(!1);let c=Jy?Jy():"",[d,f]=w.useState(n||c);n&&n!==d?f(n):d||f(cx()),w.useEffect(()=>(r.getFetcher(d),()=>{r.deleteFetcher(d)}),[r,d]);let p=w.useCallback((E,P)=>{l||Oe(!1),r.fetch(d,l,E,P)},[d,l,r]),m=jm(),C=w.useCallback((E,P)=>{m(E,Pn({},P,{navigate:!1,fetcherKey:d}))},[d,m]),y=w.useMemo(()=>w.forwardRef((P,D)=>w.createElement(lx,Pn({},P,{navigate:!1,fetcherKey:d,ref:D}))),[d]),b=i.fetchers.get(d)||BR,R=s.get(d);return w.useMemo(()=>Pn({Form:y,submit:C,load:p},b,{data:R}),[y,C,p,b,R])}function tk(){let e=zm(ql.UseFetchers);return Array.from(e.fetchers.entries()).map(t=>{let[n,r]=t;return Pn({},r,{key:n})})}const Xy="react-router-scroll-positions";let _c={};function hx(e){let{getKey:t,storageKey:n}=e===void 0?{}:e,{router:r}=gh(ha.UseScrollRestoration),{restoreScrollPosition:i,preventScrollReset:s}=zm(ql.UseScrollRestoration),{basename:o}=w.useContext(jn),l=mn(),c=ex(),d=ZR();w.useEffect(()=>(window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"}),[]),rk(w.useCallback(()=>{if(d.state==="idle"){let f=(t?t(l,c):null)||l.key;_c[f]=window.scrollY}try{sessionStorage.setItem(n||Xy,JSON.stringify(_c))}catch{}window.history.scrollRestoration="auto"},[n,t,d.state,l,c])),typeof document<"u"&&(w.useLayoutEffect(()=>{try{let f=sessionStorage.getItem(n||Xy);f&&(_c=JSON.parse(f))}catch{}},[n]),w.useLayoutEffect(()=>{let f=t&&o!=="/"?(m,C)=>t(Pn({},m,{pathname:An(m.pathname,o)||m.pathname}),C):t,p=r==null?void 0:r.enableScrollRestoration(_c,()=>window.scrollY,f);return()=>p&&p()},[r,o,t]),w.useLayoutEffect(()=>{if(i!==!1){if(typeof i=="number"){window.scrollTo(0,i);return}if(l.hash){let f=document.getElementById(decodeURIComponent(l.hash.slice(1)));if(f){f.scrollIntoView();return}}s!==!0&&window.scrollTo(0,0)}},[l,i,s]))}function nk(e,t){let{capture:n}=t||{};w.useEffect(()=>{let r=n!=null?{capture:n}:void 0;return window.addEventListener("beforeunload",e,r),()=>{window.removeEventListener("beforeunload",e,r)}},[e,n])}function rk(e,t){let{capture:n}={};w.useEffect(()=>{let r=n!=null?{capture:n}:void 0;return window.addEventListener("pagehide",e,r),()=>{window.removeEventListener("pagehide",e,r)}},[e,n])}function ik(e){let{when:t,message:n}=e,r=rx(t);w.useEffect(()=>{r.state==="blocked"&&(window.confirm(n)?setTimeout(r.proceed,0):r.reset())},[r,n]),w.useEffect(()=>{r.state==="blocked"&&!t&&r.reset()},[r,t])}function fx(e,t){t===void 0&&(t={});let n=w.useContext(Wm);n==null&&Oe(!1);let{basename:r}=gh(ha.useViewTransitionState),i=Fa(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=An(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=An(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ca(i.pathname,o)!=null||ca(i.pathname,s)!=null}const sk=Object.freeze(Object.defineProperty({__proto__:null,AbortedDeferredError:Rd,Await:gM,BrowserRouter:ox,Form:lx,HashRouter:UM,Link:ax,MemoryRouter:hM,NavLink:YM,Navigate:fM,get NavigationType(){return wt},Outlet:pM,Route:vr,Router:Pa,RouterProvider:_M,Routes:ix,ScrollRestoration:QM,UNSAFE_DataRouterContext:xa,UNSAFE_DataRouterStateContext:pu,UNSAFE_ErrorResponseImpl:$l,UNSAFE_FetchersContext:_m,UNSAFE_LocationContext:Ea,UNSAFE_NavigationContext:jn,UNSAFE_RouteContext:Un,UNSAFE_ViewTransitionContext:Wm,UNSAFE_useRouteId:XR,UNSAFE_useScrollRestoration:hx,createBrowserRouter:OM,createHashRouter:LM,createMemoryRouter:yM,createPath:Er,createRoutesFromChildren:Kl,createRoutesFromElements:Kl,createSearchParams:Ed,defer:wA,generatePath:uA,isRouteErrorResponse:da,json:gA,matchPath:ca,matchRoutes:ls,parsePath:lr,redirect:Im,redirectDocument:yA,renderMatches:wM,replace:SA,resolvePath:OR,unstable_HistoryRouter:$M,unstable_usePrompt:ik,useActionData:oM,useAsyncError:aM,useAsyncValue:nx,useBeforeUnload:nk,useBlocker:rx,useFetcher:ek,useFetchers:tk,useFormAction:dx,useHref:jR,useInRouterContext:ys,useLinkClickHandler:ux,useLoaderData:iM,useLocation:mn,useMatch:qA,useMatches:ex,useNavigate:Di,useNavigation:ZR,useNavigationType:KA,useOutlet:KR,useOutletContext:QA,useParams:JA,useResolvedPath:Fa,useRevalidator:rM,useRouteError:tx,useRouteLoaderData:sM,useRoutes:qR,useSearchParams:JM,useSubmit:jm,useViewTransitionState:fx},Symbol.toStringTag,{value:"Module"}));var Ap={exports:{}},Mp={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy;function ok(){if(Zy)return Mp;Zy=1;var e=hu();function t(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,s=e.useEffect,o=e.useMemo,l=e.useDebugValue;return Mp.useSyncExternalStoreWithSelector=function(c,d,f,p,m){var C=i(null);if(C.current===null){var y={hasValue:!1,value:null};C.current=y}else y=C.current;C=o(function(){function R(A){if(!x){if(x=!0,E=A,A=p(A),m!==void 0&&y.hasValue){var O=y.value;if(m(O,A))return P=O}return P=A}if(O=P,n(E,A))return O;var T=p(A);return m!==void 0&&m(O,T)?(E=A,O):(E=A,P=T)}var x=!1,E,P,D=f===void 0?null:f;return[function(){return R(d())},D===null?void 0:function(){return R(D())}]},[d,f,p,m]);var b=r(c,C[0],C[1]);return s(function(){y.hasValue=!0,y.value=b},[b]),l(b),b},Mp}var eS;function ak(){return eS||(eS=1,Ap.exports=ok()),Ap.exports}var lk=ak();function uk(e){e()}function ck(){let e=null,t=null;return{clear(){e=null,t=null},notify(){uk(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var tS={notify(){},get:()=>[]};function dk(e,t){let n,r=tS,i=0,s=!1;function o(b){f();const R=r.subscribe(b);let x=!1;return()=>{x||(x=!0,R(),p())}}function l(){r.notify()}function c(){y.onStateChange&&y.onStateChange()}function d(){return s}function f(){i++,n||(n=e.subscribe(c),r=ck())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=tS)}function m(){s||(s=!0,f())}function C(){s&&(s=!1,p())}const y={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:m,tryUnsubscribe:C,getListeners:()=>r};return y}var hk=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fk=hk(),pk=()=>typeof navigator<"u"&&navigator.product==="ReactNative",gk=pk(),mk=()=>fk||gk?w.useLayoutEffect:w.useEffect,Ck=mk(),kp=Symbol.for("react-redux-context"),Ip=typeof globalThis<"u"?globalThis:{};function vk(){if(!w.createContext)return{};const e=Ip[kp]??(Ip[kp]=new Map);let t=e.get(w.createContext);return t||(t=w.createContext(null),e.set(w.createContext,t)),t}var gs=vk();function wk(e){const{children:t,context:n,serverState:r,store:i}=e,s=w.useMemo(()=>{const c=dk(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),o=w.useMemo(()=>i.getState(),[i]);Ck(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,o]);const l=n||gs;return w.createElement(l.Provider,{value:s},t)}var yk=wk;function Um(e=gs){return function(){return w.useContext(e)}}var px=Um();function gx(e=gs){const t=e===gs?px:Um(e),n=()=>{const{store:r}=t();return r};return Object.assign(n,{withTypes:()=>n}),n}var Sk=gx();function bk(e=gs){const t=e===gs?Sk:gx(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var Cu=bk(),Rk=(e,t)=>e===t;function xk(e=gs){const t=e===gs?px:Um(e),n=(r,i={})=>{const{equalityFn:s=Rk}=typeof i=="function"?{equalityFn:i}:i,o=t(),{store:l,subscription:c,getServerState:d}=o;w.useRef(!0);const f=w.useCallback({[r.name](m){return r(m)}}[r.name],[r]),p=lk.useSyncExternalStoreWithSelector(c.addNestedSub,l.getState,d||l.getState,f,s);return w.useDebugValue(p),p};return Object.assign(n,{withTypes:()=>n}),n}var br=xk();function Zt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Ek=typeof Symbol=="function"&&Symbol.observable||"@@observable",nS=Ek,Op=()=>Math.random().toString(36).substring(7).split("").join("."),Fk={INIT:`@@redux/INIT${Op()}`,REPLACE:`@@redux/REPLACE${Op()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Op()}`},Fd=Fk;function mx(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Cx(e,t,n){if(typeof e!="function")throw new Error(Zt(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Zt(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Zt(1));return n(Cx)(e,t)}let r=e,i=t,s=new Map,o=s,l=0,c=!1;function d(){o===s&&(o=new Map,s.forEach((R,x)=>{o.set(x,R)}))}function f(){if(c)throw new Error(Zt(3));return i}function p(R){if(typeof R!="function")throw new Error(Zt(4));if(c)throw new Error(Zt(5));let x=!0;d();const E=l++;return o.set(E,R),function(){if(x){if(c)throw new Error(Zt(6));x=!1,d(),o.delete(E),s=null}}}function m(R){if(!mx(R))throw new Error(Zt(7));if(typeof R.type>"u")throw new Error(Zt(8));if(typeof R.type!="string")throw new Error(Zt(17));if(c)throw new Error(Zt(9));try{c=!0,i=r(i,R)}finally{c=!1}return(s=o).forEach(E=>{E()}),R}function C(R){if(typeof R!="function")throw new Error(Zt(10));r=R,m({type:Fd.REPLACE})}function y(){const R=p;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(Zt(11));function E(){const D=x;D.next&&D.next(f())}return E(),{unsubscribe:R(E)}},[nS](){return this}}}return m({type:Fd.INIT}),{dispatch:m,subscribe:p,getState:f,replaceReducer:C,[nS]:y}}function Pk(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Fd.INIT})>"u")throw new Error(Zt(12));if(typeof n(void 0,{type:Fd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Zt(13))})}function vx(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const o=t[s];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let i;try{Pk(n)}catch(s){i=s}return function(o={},l){if(i)throw i;let c=!1;const d={};for(let f=0;f<r.length;f++){const p=r[f],m=n[p],C=o[p],y=m(C,l);if(typeof y>"u")throw l&&l.type,new Error(Zt(14));d[p]=y,c=c||y!==C}return c=c||r.length!==Object.keys(o).length,c?d:o}}function Pd(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function Dk(...e){return t=>(n,r)=>{const i=t(n,r);let s=()=>{throw new Error(Zt(15))};const o={getState:i.getState,dispatch:(c,...d)=>s(c,...d)},l=e.map(c=>c(o));return s=Pd(...l)(i.dispatch),{...i,dispatch:s}}}function Tk(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Ak(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Mk(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var rS=e=>Array.isArray(e)?e:[e];function kk(e){const t=Array.isArray(e[0])?e[0]:e;return Mk(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Ik(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var Ok=class{constructor(e){this.value=e}deref(){return this.value}},Lk=typeof WeakRef<"u"?WeakRef:Ok,Nk=0,iS=1;function zc(){return{s:Nk,v:void 0,o:null,p:null}}function wx(e,t={}){let n=zc();const{resultEqualityCheck:r}=t;let i,s=0;function o(){var p;let l=n;const{length:c}=arguments;for(let m=0,C=c;m<C;m++){const y=arguments[m];if(typeof y=="function"||typeof y=="object"&&y!==null){let b=l.o;b===null&&(l.o=b=new WeakMap);const R=b.get(y);R===void 0?(l=zc(),b.set(y,l)):l=R}else{let b=l.p;b===null&&(l.p=b=new Map);const R=b.get(y);R===void 0?(l=zc(),b.set(y,l)):l=R}}const d=l;let f;if(l.s===iS?f=l.v:(f=e.apply(null,arguments),s++),d.s=iS,r){const m=((p=i==null?void 0:i.deref)==null?void 0:p.call(i))??i;m!=null&&r(m,f)&&(f=m,s!==0&&s--),i=typeof f=="object"&&f!==null||typeof f=="function"?new Lk(f):f}return d.v=f,f}return o.clearCache=()=>{n=zc(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function Bk(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let s=0,o=0,l,c={},d=i.pop();typeof d=="object"&&(c=d,d=i.pop()),Tk(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const f={...n,...c},{memoize:p,memoizeOptions:m=[],argsMemoize:C=wx,argsMemoizeOptions:y=[]}=f,b=rS(m),R=rS(y),x=kk(i),E=p(function(){return s++,d.apply(null,arguments)},...b),P=C(function(){o++;const A=Ik(x,arguments);return l=E.apply(null,A),l},...R);return Object.assign(P,{resultFunc:d,memoizedResultFunc:E,dependencies:x,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:p,argsMemoize:C})};return Object.assign(r,{withTypes:()=>r}),r}var yx=Bk(wx),Hk=Object.assign((e,t=yx)=>{Ak(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(s=>e[s]);return t(r,(...s)=>s.reduce((o,l,c)=>(o[n[c]]=l,o),{}))},{withTypes:()=>Hk});function Sx(e){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,e):i(s)}var Gk=Sx(),Vk=Sx,Wk=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Pd:Pd.apply(null,arguments)},bx=class kl extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,kl.prototype)}static get[Symbol.species](){return kl}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new kl(...t[0].concat(this)):new kl(...t.concat(this))}};function _k(e){return typeof e=="boolean"}var zk=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let o=new bx;return n&&(_k(n)?o.push(Gk):o.push(Vk(n.extraArgument))),o},jk="RTK_autoBatch",sS=e=>t=>{setTimeout(t,e)},Uk=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,s=!1,o=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:sS(10):e.type==="callback"?e.queueNotification:sS(e.timeout),d=()=>{o=!1,s&&(s=!1,l.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const p=()=>i&&f(),m=r.subscribe(p);return l.add(f),()=>{m(),l.delete(f)}},dispatch(f){var p;try{return i=!((p=f==null?void 0:f.meta)!=null&&p[jk]),s=!i,s&&(o||(o=!0,c(d))),r.dispatch(f)}finally{i=!0}}})},$k=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new bx(e);return r&&i.push(Uk(typeof r=="object"?r:void 0)),i};function Kk(e){const t=zk(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(mx(n))l=vx(n);else throw new Error(qk(1));let c;typeof r=="function"?c=r(t):c=t();let d=Pd;i&&(d=Wk({trace:!1,...typeof i=="object"&&i}));const f=Dk(...c),p=$k(f);let m=typeof o=="function"?o(p):p();const C=d(...m);return Cx(l,s,C)}function qk(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Lp={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var oS;function Yk(){return oS||(oS=1,function(e){(function(){var t={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(s=i(s,r(l)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var l in s)t.call(s,l)&&s[l]&&(o=i(o,l));return o}function i(s,o){return o?s?s+" "+o:s+o:s}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}(Lp)),Lp.exports}var Qk=Yk();const Ke=Pi(Qk);function Lt(){return Lt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lt.apply(null,arguments)}function $m(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Np,aS;function Jk(){if(aS)return Np;aS=1;var e=function(t,n,r,i,s,o,l,c){if(!t){var d;if(n===void 0)d=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[r,i,s,o,l,c],p=0;d=new Error(n.replace(/%s/g,function(){return f[p++]})),d.name="Invariant Violation"}throw d.framesToPop=1,d}};return Np=e,Np}var Xk=Jk();const Rx=Pi(Xk);function lS(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function Zk(e){var t=eI(e,"string");return typeof t=="symbol"?t:String(t)}function eI(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function tI(e,t,n){var r=w.useRef(e!==void 0),i=w.useState(t),s=i[0],o=i[1],l=e!==void 0,c=r.current;return r.current=l,!l&&c&&s!==t&&o(t),[l?e:s,w.useCallback(function(d){for(var f=arguments.length,p=new Array(f>1?f-1:0),m=1;m<f;m++)p[m-1]=arguments[m];n&&n.apply(void 0,[d].concat(p)),o(d)},[n])]}function xx(e,t){return Object.keys(t).reduce(function(n,r){var i,s=n,o=s[lS(r)],l=s[r],c=$m(s,[lS(r),r].map(Zk)),d=t[r],f=tI(l,o,e[d]),p=f[0],m=f[1];return Lt({},c,(i={},i[r]=p,i[d]=m,i))},e)}function Dd(e,t){return Dd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Dd(e,t)}function nI(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Dd(e,t)}const rI=["xxl","xl","lg","md","sm","xs"],iI="xs",Ex=w.createContext({prefixes:{},breakpoints:rI,minBreakpoint:iI}),{Consumer:z7,Provider:j7}=Ex;function St(e,t){const{prefixes:n}=w.useContext(Ex);return e||n[t]||t}function Km(e){return e&&e.ownerDocument||document}function sI(e){var t=Km(e);return t&&t.defaultView||window}function oI(e,t){return sI(e).getComputedStyle(e,t)}var aI=/([A-Z])/g;function lI(e){return e.replace(aI,"-$1").toLowerCase()}var uI=/^ms-/;function jc(e){return lI(e).replace(uI,"-ms-")}var cI=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function dI(e){return!!(e&&cI.test(e))}function wi(e,t){var n="",r="";if(typeof t=="string")return e.style.getPropertyValue(jc(t))||oI(e).getPropertyValue(jc(t));Object.keys(t).forEach(function(i){var s=t[i];!s&&s!==0?e.style.removeProperty(jc(i)):dI(i)?r+=i+"("+s+") ":n+=jc(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n}var Bp={exports:{}},Hp,uS;function hI(){if(uS)return Hp;uS=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Hp=e,Hp}var Gp,cS;function fI(){if(cS)return Gp;cS=1;var e=hI();function t(){}function n(){}return n.resetWarningCache=t,Gp=function(){function r(o,l,c,d,f,p){if(p!==e){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return s.PropTypes=s,s},Gp}var dS;function Fx(){return dS||(dS=1,Bp.exports=fI()()),Bp.exports}var pI=Fx();const ge=Pi(pI),hS={disabled:!1},Px=W.createContext(null);var gI=function(t){return t.scrollTop},Il="unmounted",os="exited",yr="entering",mi="entered",Yl="exiting",Ti=function(e){nI(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=i,l=o&&!o.isMounting?r.enter:r.appear,c;return s.appearStatus=null,r.in?l?(c=os,s.appearStatus=yr):c=mi:r.unmountOnExit||r.mountOnEnter?c=Il:c=os,s.state={status:c},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Il?{status:os}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==yr&&o!==mi&&(s=yr):(o===yr||o===mi)&&(s=Yl)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,l;return s=o=l=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,l=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:l}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===yr){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:cs.findDOMNode(this);o&&gI(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===os&&this.setState({status:Il})},n.performEnter=function(i){var s=this,o=this.props.enter,l=this.context?this.context.isMounting:i,c=this.props.nodeRef?[l]:[cs.findDOMNode(this),l],d=c[0],f=c[1],p=this.getTimeouts(),m=l?p.appear:p.enter;if(!i&&!o||hS.disabled){this.safeSetState({status:mi},function(){s.props.onEntered(d)});return}this.props.onEnter(d,f),this.safeSetState({status:yr},function(){s.props.onEntering(d,f),s.onTransitionEnd(m,function(){s.safeSetState({status:mi},function(){s.props.onEntered(d,f)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),l=this.props.nodeRef?void 0:cs.findDOMNode(this);if(!s||hS.disabled){this.safeSetState({status:os},function(){i.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:Yl},function(){i.props.onExiting(l),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:os},function(){i.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(l){o&&(o=!1,s.nextCallback=null,i(l))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:cs.findDOMNode(this),l=i==null&&!this.props.addEndListener;if(!o||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],d=c[0],f=c[1];this.props.addEndListener(d,f)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Il)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var l=$m(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return W.createElement(Px.Provider,{value:null},typeof o=="function"?o(i,l):W.cloneElement(W.Children.only(o),l))},t}(W.Component);Ti.contextType=Px;Ti.propTypes={};function Ko(){}Ti.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ko,onEntering:Ko,onEntered:Ko,onExit:Ko,onExiting:Ko,onExited:Ko};Ti.UNMOUNTED=Il;Ti.EXITED=os;Ti.ENTERING=yr;Ti.ENTERED=mi;Ti.EXITING=Yl;function mI(e){return e.code==="Escape"||e.keyCode===27}function CI(){const e=w.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}function Da(e){if(!e||typeof e=="function")return null;const{major:t}=CI();return t>=19?e.props.ref:e.ref}const mh=!!(typeof window<"u"&&window.document&&window.document.createElement);var _g=!1,zg=!1;try{var Vp={get passive(){return _g=!0},get once(){return zg=_g=!0}};mh&&(window.addEventListener("test",Vp,Vp),window.removeEventListener("test",Vp,!0))}catch{}function vI(e,t,n,r){if(r&&typeof r!="boolean"&&!zg){var i=r.once,s=r.capture,o=n;!zg&&i&&(o=n.__once||function l(c){this.removeEventListener(t,l,s),n.call(this,c)},n.__once=o),e.addEventListener(t,o,_g?r:s)}e.addEventListener(t,n,r)}function wI(e,t,n,r){var i=r&&typeof r!="boolean"?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)}function Td(e,t,n,r){return vI(e,t,n,r),function(){wI(e,t,n,r)}}function yI(e,t,n,r){if(r===void 0&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}function SI(e){var t=wi(e,"transitionDuration")||"",n=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*n}function bI(e,t,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||yI(e,"transitionend",!0)},t+n),s=Td(e,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),s()}}function RI(e,t,n,r){n==null&&(n=SI(e)||0);var i=bI(e,n,r),s=Td(e,"transitionend",t);return function(){i(),s()}}function fS(e,t){const n=wi(e,t)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function qm(e,t){const n=fS(e,"transitionDuration"),r=fS(e,"transitionDelay"),i=RI(e,s=>{s.target===e&&(i(),t(s))},n+r)}function El(...e){return e.filter(t=>t!=null).reduce((t,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return t===null?n:function(...i){t.apply(this,i),n.apply(this,i)}},null)}function Dx(e){e.offsetHeight}const pS=e=>!e||typeof e=="function"?e:t=>{e.current=t};function xI(e,t){const n=pS(e),r=pS(t);return i=>{n&&n(i),r&&r(i)}}function EI(e,t){return w.useMemo(()=>xI(e,t),[e,t])}function FI(e){return e&&"setState"in e?cs.findDOMNode(e):e??null}const Ym=W.forwardRef(({onEnter:e,onEntering:t,onEntered:n,onExit:r,onExiting:i,onExited:s,addEndListener:o,children:l,childRef:c,...d},f)=>{const p=w.useRef(null),m=EI(p,c),C=O=>{m(FI(O))},y=O=>T=>{O&&p.current&&O(p.current,T)},b=w.useCallback(y(e),[e]),R=w.useCallback(y(t),[t]),x=w.useCallback(y(n),[n]),E=w.useCallback(y(r),[r]),P=w.useCallback(y(i),[i]),D=w.useCallback(y(s),[s]),A=w.useCallback(y(o),[o]);return I.jsx(Ti,{ref:f,...d,onEnter:b,onEntered:x,onEntering:R,onExit:E,onExited:D,onExiting:P,addEndListener:A,nodeRef:p,children:typeof l=="function"?(O,T)=>l(O,{...T,ref:C}):W.cloneElement(l,{ref:C})})}),PI={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function DI(e,t){const n=`offset${e[0].toUpperCase()}${e.slice(1)}`,r=t[n],i=PI[e];return r+parseInt(wi(t,i[0]),10)+parseInt(wi(t,i[1]),10)}const TI={[os]:"collapse",[Yl]:"collapsing",[yr]:"collapsing",[mi]:"collapse show"},AI=W.forwardRef(({onEnter:e,onEntering:t,onEntered:n,onExit:r,onExiting:i,className:s,children:o,dimension:l="height",in:c=!1,timeout:d=300,mountOnEnter:f=!1,unmountOnExit:p=!1,appear:m=!1,getDimensionValue:C=DI,...y},b)=>{const R=typeof l=="function"?l():l,x=w.useMemo(()=>El(O=>{O.style[R]="0"},e),[R,e]),E=w.useMemo(()=>El(O=>{const T=`scroll${R[0].toUpperCase()}${R.slice(1)}`;O.style[R]=`${O[T]}px`},t),[R,t]),P=w.useMemo(()=>El(O=>{O.style[R]=null},n),[R,n]),D=w.useMemo(()=>El(O=>{O.style[R]=`${C(R,O)}px`,Dx(O)},r),[r,C,R]),A=w.useMemo(()=>El(O=>{O.style[R]=null},i),[R,i]);return I.jsx(Ym,{ref:b,addEndListener:qm,...y,"aria-expanded":y.role?c:null,onEnter:x,onEntering:E,onEntered:P,onExit:D,onExiting:A,childRef:Da(o),in:c,timeout:d,mountOnEnter:f,unmountOnExit:p,appear:m,children:(O,T)=>W.cloneElement(o,{...T,className:Ke(s,o.props.className,TI[O],R==="width"&&"collapse-horizontal")})})});function MI(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e},[e]),t}function oo(e){const t=MI(e);return w.useCallback(function(...n){return t.current&&t.current(...n)},[t])}const Qm=e=>w.forwardRef((t,n)=>I.jsx("div",{...t,ref:n,className:Ke(t.className,e)}));function kI(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e},[e]),t}function Ci(e){const t=kI(e);return w.useCallback(function(...n){return t.current&&t.current(...n)},[t])}function II(){const e=w.useRef(!0),t=w.useRef(()=>e.current);return w.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function OI(e){const t=w.useRef(null);return w.useEffect(()=>{t.current=e}),t.current}const LI=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",NI=typeof document<"u",gS=NI||LI?w.useLayoutEffect:w.useEffect,BI=["as","disabled"];function HI(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function GI(e){return!e||e.trim()==="#"}function Jm({tagName:e,disabled:t,href:n,target:r,rel:i,role:s,onClick:o,tabIndex:l=0,type:c}){e||(n!=null||r!=null||i!=null?e="a":e="button");const d={tagName:e};if(e==="button")return[{type:c||"button",disabled:t},d];const f=m=>{if((t||e==="a"&&GI(n))&&m.preventDefault(),t){m.stopPropagation();return}o==null||o(m)},p=m=>{m.key===" "&&(m.preventDefault(),f(m))};return e==="a"&&(n||(n="#"),t&&(n=void 0)),[{role:s??"button",disabled:void 0,tabIndex:t?void 0:l,href:n,target:e==="a"?r:void 0,"aria-disabled":t||void 0,rel:e==="a"?i:void 0,onClick:f,onKeyDown:p},d]}const Tx=w.forwardRef((e,t)=>{let{as:n,disabled:r}=e,i=HI(e,BI);const[s,{tagName:o}]=Jm(Object.assign({tagName:n,disabled:r},i));return I.jsx(o,Object.assign({},i,s,{ref:t}))});Tx.displayName="Button";const VI=["onKeyDown"];function WI(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function _I(e){return!e||e.trim()==="#"}const Ax=w.forwardRef((e,t)=>{let{onKeyDown:n}=e,r=WI(e,VI);const[i]=Jm(Object.assign({tagName:"a"},r)),s=Ci(o=>{i.onKeyDown(o),n==null||n(o)});return _I(r.href)||r.role==="button"?I.jsx("a",Object.assign({ref:t},r,i,{onKeyDown:s})):I.jsx("a",Object.assign({ref:t},r,{onKeyDown:n}))});Ax.displayName="Anchor";const zI={[yr]:"show",[mi]:"show"},Mx=w.forwardRef(({className:e,children:t,transitionClasses:n={},onEnter:r,...i},s)=>{const o={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},l=w.useCallback((c,d)=>{Dx(c),r==null||r(c,d)},[r]);return I.jsx(Ym,{ref:s,addEndListener:qm,...o,onEnter:l,childRef:Da(t),children:(c,d)=>w.cloneElement(t,{...d,className:Ke("fade",e,t.props.className,zI[c],n[c])})})});Mx.displayName="Fade";const jI={"aria-label":ge.string,onClick:ge.func,variant:ge.oneOf(["white"])},Xm=w.forwardRef(({className:e,variant:t,"aria-label":n="Close",...r},i)=>I.jsx("button",{ref:i,type:"button",className:Ke("btn-close",t&&`btn-close-${t}`,e),"aria-label":n,...r}));Xm.displayName="CloseButton";Xm.propTypes=jI;const Hn=w.forwardRef(({bsPrefix:e,bg:t="primary",pill:n=!1,text:r,className:i,as:s="span",...o},l)=>{const c=St(e,"badge");return I.jsx(s,{ref:l,...o,className:Ke(i,c,n&&"rounded-pill",r&&`text-${r}`,t&&`bg-${t}`)})});Hn.displayName="Badge";const jg=w.forwardRef(({as:e,bsPrefix:t,variant:n="primary",size:r,active:i=!1,disabled:s=!1,className:o,...l},c)=>{const d=St(t,"btn"),[f,{tagName:p}]=Jm({tagName:e,disabled:s,...l}),m=p;return I.jsx(m,{...f,...l,ref:c,disabled:s,className:Ke(o,d,i&&"active",n&&`${d}-${n}`,r&&`${d}-${r}`,l.href&&s&&"disabled")})});jg.displayName="Button";const kx=w.forwardRef(({bsPrefix:e,className:t,role:n="toolbar",...r},i)=>{const s=St(e,"btn-toolbar");return I.jsx("div",{...r,ref:i,className:Ke(t,s),role:n})});kx.displayName="ButtonToolbar";const Zm=w.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=St(t,"card-body"),I.jsx(n,{ref:i,className:Ke(e,t),...r})));Zm.displayName="CardBody";const Ix=w.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=St(t,"card-footer"),I.jsx(n,{ref:i,className:Ke(e,t),...r})));Ix.displayName="CardFooter";const eC=w.createContext(null);eC.displayName="CardHeaderContext";const Ox=w.forwardRef(({bsPrefix:e,className:t,as:n="div",...r},i)=>{const s=St(e,"card-header"),o=w.useMemo(()=>({cardHeaderBsPrefix:s}),[s]);return I.jsx(eC.Provider,{value:o,children:I.jsx(n,{ref:i,...r,className:Ke(t,s)})})});Ox.displayName="CardHeader";const Lx=w.forwardRef(({bsPrefix:e,className:t,variant:n,as:r="img",...i},s)=>{const o=St(e,"card-img");return I.jsx(r,{ref:s,className:Ke(n?`${o}-${n}`:o,t),...i})});Lx.displayName="CardImg";const Nx=w.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=St(t,"card-img-overlay"),I.jsx(n,{ref:i,className:Ke(e,t),...r})));Nx.displayName="CardImgOverlay";const Bx=w.forwardRef(({className:e,bsPrefix:t,as:n="a",...r},i)=>(t=St(t,"card-link"),I.jsx(n,{ref:i,className:Ke(e,t),...r})));Bx.displayName="CardLink";const UI=Qm("h6"),Hx=w.forwardRef(({className:e,bsPrefix:t,as:n=UI,...r},i)=>(t=St(t,"card-subtitle"),I.jsx(n,{ref:i,className:Ke(e,t),...r})));Hx.displayName="CardSubtitle";const Gx=w.forwardRef(({className:e,bsPrefix:t,as:n="p",...r},i)=>(t=St(t,"card-text"),I.jsx(n,{ref:i,className:Ke(e,t),...r})));Gx.displayName="CardText";const $I=Qm("h5"),Vx=w.forwardRef(({className:e,bsPrefix:t,as:n=$I,...r},i)=>(t=St(t,"card-title"),I.jsx(n,{ref:i,className:Ke(e,t),...r})));Vx.displayName="CardTitle";const Wx=w.forwardRef(({bsPrefix:e,className:t,bg:n,text:r,border:i,body:s=!1,children:o,as:l="div",...c},d)=>{const f=St(e,"card");return I.jsx(l,{ref:d,...c,className:Ke(t,f,n&&`bg-${n}`,r&&`text-${r}`,i&&`border-${i}`),children:s?I.jsx(Zm,{children:o}):o})});Wx.displayName="Card";const Wt=Object.assign(Wx,{Img:Lx,Title:Vx,Subtitle:Hx,Body:Zm,Link:Bx,Text:Gx,Header:Ox,Footer:Ix,ImgOverlay:Nx});var KI=Function.prototype.bind.call(Function.prototype.call,[].slice);function _s(e,t){return KI(e.querySelectorAll(t))}function qI(){const[,e]=w.useReducer(t=>t+1,0);return e}function mS(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}var Wp,CS;function YI(){if(CS)return Wp;CS=1;var e=function(){};return Wp=e,Wp}var QI=YI();const JI=Pi(QI),Ad=w.createContext(null),tC=(e,t=null)=>e!=null?String(e):t||null,nC=w.createContext(null);nC.displayName="NavContext";const XI="data-rr-ui-",ZI="rrUi";function Ch(e){return`${XI}${e}`}function e1(e){return`${ZI}${e}`}const _x=w.createContext(mh?window:void 0);_x.Provider;function rC(){return w.useContext(_x)}const t1=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",n1=typeof document<"u",r1=n1||t1?w.useLayoutEffect:w.useEffect,Ta=w.createContext(null);Ta.displayName="NavbarContext";const vS=e=>!e||typeof e=="function"?e:t=>{e.current=t};function i1(e,t){const n=vS(e),r=vS(t);return i=>{n&&n(i),r&&r(i)}}function vh(e,t){return w.useMemo(()=>i1(e,t),[e,t])}const zx=w.createContext(null),s1=["as","active","eventKey"];function o1(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function jx({key:e,onClick:t,active:n,id:r,role:i,disabled:s}){const o=w.useContext(Ad),l=w.useContext(nC),c=w.useContext(zx);let d=n;const f={role:i};if(l){!i&&l.role==="tablist"&&(f.role="tab");const p=l.getControllerId(e??null),m=l.getControlledId(e??null);f[Ch("event-key")]=e,f.id=p||r,d=n==null&&e!=null?l.activeKey===e:n,(d||!(c!=null&&c.unmountOnExit)&&!(c!=null&&c.mountOnEnter))&&(f["aria-controls"]=m)}return f.role==="tab"&&(f["aria-selected"]=d,d||(f.tabIndex=-1),s&&(f.tabIndex=-1,f["aria-disabled"]=!0)),f.onClick=Ci(p=>{s||(t==null||t(p),e!=null&&o&&!p.isPropagationStopped()&&o(e,p))}),[f,{isActive:d}]}const Ux=w.forwardRef((e,t)=>{let{as:n=Tx,active:r,eventKey:i}=e,s=o1(e,s1);const[o,l]=jx(Object.assign({key:tC(i,s.href),active:r},s));return o[Ch("active")]=l.isActive,I.jsx(n,Object.assign({},s,o,{ref:t}))});Ux.displayName="NavItem";const a1=["as","onSelect","activeKey","role","onKeyDown"];function l1(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}const wS=()=>{},yS=Ch("event-key"),$x=w.forwardRef((e,t)=>{let{as:n="div",onSelect:r,activeKey:i,role:s,onKeyDown:o}=e,l=l1(e,a1);const c=qI(),d=w.useRef(!1),f=w.useContext(Ad),p=w.useContext(zx);let m,C;p&&(s=s||"tablist",i=p.activeKey,m=p.getControlledId,C=p.getControllerId);const y=w.useRef(null),b=P=>{const D=y.current;if(!D)return null;const A=_s(D,`[${yS}]:not([aria-disabled=true])`),O=D.querySelector("[aria-selected=true]");if(!O||O!==document.activeElement)return null;const T=A.indexOf(O);if(T===-1)return null;let G=T+P;return G>=A.length&&(G=0),G<0&&(G=A.length-1),A[G]},R=(P,D)=>{P!=null&&(r==null||r(P,D),f==null||f(P,D))},x=P=>{if(o==null||o(P),!p)return;let D;switch(P.key){case"ArrowLeft":case"ArrowUp":D=b(-1);break;case"ArrowRight":case"ArrowDown":D=b(1);break;default:return}D&&(P.preventDefault(),R(D.dataset[e1("EventKey")]||null,P),d.current=!0,c())};w.useEffect(()=>{if(y.current&&d.current){const P=y.current.querySelector(`[${yS}][aria-selected=true]`);P==null||P.focus()}d.current=!1});const E=vh(t,y);return I.jsx(Ad.Provider,{value:R,children:I.jsx(nC.Provider,{value:{role:s,activeKey:tC(i),getControlledId:m||wS,getControllerId:C||wS},children:I.jsx(n,Object.assign({},l,{onKeyDown:x,ref:E,role:s}))})})});$x.displayName="Nav";const u1=Object.assign($x,{Item:Ux});function _p(e){e===void 0&&(e=Km());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function c1(e){const t=w.useRef(e);return t.current=e,t}function d1(e){const t=c1(e);w.useEffect(()=>()=>t.current(),[])}function h1(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}const SS=Ch("modal-open");class iC{constructor({ownerDocument:t,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return h1(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();t.style={overflow:i.style.overflow,[r]:i.style[r]},t.scrollBarWidth&&(n[r]=`${parseInt(wi(i,r)||"0",10)+t.scrollBarWidth}px`),i.setAttribute(SS,""),wi(i,n)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const n=this.getElement();n.removeAttribute(SS),Object.assign(n.style,t.style)}add(t){let n=this.modals.indexOf(t);return n!==-1||(n=this.modals.length,this.modals.push(t),this.setModalAttributes(t),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(t){const n=this.modals.indexOf(t);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const zp=(e,t)=>mh?e==null?(t||Km()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function f1(e,t){const n=rC(),[r,i]=w.useState(()=>zp(e,n==null?void 0:n.document));if(!r){const s=zp(e);s&&i(s)}return w.useEffect(()=>{},[t,r]),w.useEffect(()=>{const s=zp(e);s!==r&&i(s)},[e,r]),r}function p1({children:e,in:t,onExited:n,mountOnEnter:r,unmountOnExit:i}){const s=w.useRef(null),o=w.useRef(t),l=Ci(n);w.useEffect(()=>{t?o.current=!0:l(s.current)},[t,l]);const c=vh(s,Da(e)),d=w.cloneElement(e,{ref:c});return t?d:i||!o.current&&r?null:d}const g1=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function m1(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function C1(e){let{onEnter:t,onEntering:n,onEntered:r,onExit:i,onExiting:s,onExited:o,addEndListener:l,children:c}=e,d=m1(e,g1);const f=w.useRef(null),p=vh(f,Da(c)),m=D=>A=>{D&&f.current&&D(f.current,A)},C=w.useCallback(m(t),[t]),y=w.useCallback(m(n),[n]),b=w.useCallback(m(r),[r]),R=w.useCallback(m(i),[i]),x=w.useCallback(m(s),[s]),E=w.useCallback(m(o),[o]),P=w.useCallback(m(l),[l]);return Object.assign({},d,{nodeRef:f},t&&{onEnter:C},n&&{onEntering:y},r&&{onEntered:b},i&&{onExit:R},s&&{onExiting:x},o&&{onExited:E},l&&{addEndListener:P},{children:typeof c=="function"?(D,A)=>c(D,Object.assign({},A,{ref:p})):w.cloneElement(c,{ref:p})})}const v1=["component"];function w1(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}const y1=w.forwardRef((e,t)=>{let{component:n}=e,r=w1(e,v1);const i=C1(r);return I.jsx(n,Object.assign({ref:t},i))});function S1({in:e,onTransition:t}){const n=w.useRef(null),r=w.useRef(!0),i=Ci(t);return gS(()=>{if(!n.current)return;let s=!1;return i({in:e,element:n.current,initial:r.current,isStale:()=>s}),()=>{s=!0}},[e,i]),gS(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function b1({children:e,in:t,onExited:n,onEntered:r,transition:i}){const[s,o]=w.useState(!t);t&&s&&o(!1);const l=S1({in:!!t,onTransition:d=>{const f=()=>{d.isStale()||(d.in?r==null||r(d.element,d.initial):(o(!0),n==null||n(d.element)))};Promise.resolve(i(d)).then(f,p=>{throw d.in||o(!0),p})}}),c=vh(l,Da(e));return s&&!t?null:w.cloneElement(e,{ref:c})}function bS(e,t,n){return e?I.jsx(y1,Object.assign({},n,{component:e})):t?I.jsx(b1,Object.assign({},n,{transition:t})):I.jsx(p1,Object.assign({},n))}const R1=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function x1(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}let jp;function E1(e){return jp||(jp=new iC({ownerDocument:e==null?void 0:e.document})),jp}function F1(e){const t=rC(),n=e||E1(t),r=w.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:w.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:w.useCallback(i=>{r.current.backdrop=i},[])})}const Kx=w.forwardRef((e,t)=>{let{show:n=!1,role:r="dialog",className:i,style:s,children:o,backdrop:l=!0,keyboard:c=!0,onBackdropClick:d,onEscapeKeyDown:f,transition:p,runTransition:m,backdropTransition:C,runBackdropTransition:y,autoFocus:b=!0,enforceFocus:R=!0,restoreFocus:x=!0,restoreFocusOptions:E,renderDialog:P,renderBackdrop:D=ze=>I.jsx("div",Object.assign({},ze)),manager:A,container:O,onShow:T,onHide:G=()=>{},onExit:$,onExited:U,onExiting:J,onEnter:K,onEntering:Y,onEntered:le}=e,fe=x1(e,R1);const ue=rC(),ie=f1(O),B=F1(A),ne=II(),Z=OI(n),[k,_]=w.useState(!n),re=w.useRef(null);w.useImperativeHandle(t,()=>B,[B]),mh&&!Z&&n&&(re.current=_p(ue==null?void 0:ue.document)),n&&k&&_(!1);const se=Ci(()=>{if(B.add(),Ze.current=Td(document,"keydown",ke),Ve.current=Td(document,"focus",()=>setTimeout(ye),!0),T&&T(),b){var ze,ct;const qe=_p((ze=(ct=B.dialog)==null?void 0:ct.ownerDocument)!=null?ze:ue==null?void 0:ue.document);B.dialog&&qe&&!mS(B.dialog,qe)&&(re.current=qe,B.dialog.focus())}}),me=Ci(()=>{if(B.remove(),Ze.current==null||Ze.current(),Ve.current==null||Ve.current(),x){var ze;(ze=re.current)==null||ze.focus==null||ze.focus(E),re.current=null}});w.useEffect(()=>{!n||!ie||se()},[n,ie,se]),w.useEffect(()=>{k&&me()},[k,me]),d1(()=>{me()});const ye=Ci(()=>{if(!R||!ne()||!B.isTopModal())return;const ze=_p(ue==null?void 0:ue.document);B.dialog&&ze&&!mS(B.dialog,ze)&&B.dialog.focus()}),Se=Ci(ze=>{ze.target===ze.currentTarget&&(d==null||d(ze),l===!0&&G())}),ke=Ci(ze=>{c&&mI(ze)&&B.isTopModal()&&(f==null||f(ze),ze.defaultPrevented||G())}),Ve=w.useRef(),Ze=w.useRef(),Yt=(...ze)=>{_(!0),U==null||U(...ze)};if(!ie)return null;const at=Object.assign({role:r,ref:B.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},fe,{style:s,className:i,tabIndex:-1});let je=P?P(at):I.jsx("div",Object.assign({},at,{children:w.cloneElement(o,{role:"document"})}));je=bS(p,m,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:$,onExiting:J,onExited:Yt,onEnter:K,onEntering:Y,onEntered:le,children:je});let Ye=null;return l&&(Ye=D({ref:B.setBackdropRef,onClick:Se}),Ye=bS(C,y,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Ye})),I.jsx(I.Fragment,{children:cs.createPortal(I.jsxs(I.Fragment,{children:[Ye,je]}),ie)})});Kx.displayName="Modal";const P1=Object.assign(Kx,{Manager:iC});function D1(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function T1(e,t){e.classList?e.classList.add(t):D1(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function RS(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function A1(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=RS(e.className,t):e.setAttribute("class",RS(e.className&&e.className.baseVal||"",t))}const qo={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class qx extends iC{adjustAndStore(t,n,r){const i=n.style[t];n.dataset[t]=i,wi(n,{[t]:`${parseFloat(wi(n,t))+r}px`})}restore(t,n){const r=n.dataset[t];r!==void 0&&(delete n.dataset[t],wi(n,{[t]:r}))}setContainerStyle(t){super.setContainerStyle(t);const n=this.getElement();if(T1(n,"modal-open"),!t.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";_s(n,qo.FIXED_CONTENT).forEach(s=>this.adjustAndStore(r,s,t.scrollBarWidth)),_s(n,qo.STICKY_CONTENT).forEach(s=>this.adjustAndStore(i,s,-t.scrollBarWidth)),_s(n,qo.NAVBAR_TOGGLER).forEach(s=>this.adjustAndStore(i,s,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const n=this.getElement();A1(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";_s(n,qo.FIXED_CONTENT).forEach(s=>this.restore(r,s)),_s(n,qo.STICKY_CONTENT).forEach(s=>this.restore(i,s)),_s(n,qo.NAVBAR_TOGGLER).forEach(s=>this.restore(i,s))}}let Up;function M1(e){return Up||(Up=new qx(e)),Up}const Yx=w.createContext({onHide(){}}),k1=w.forwardRef(({closeLabel:e="Close",closeVariant:t,closeButton:n=!1,onHide:r,children:i,...s},o)=>{const l=w.useContext(Yx),c=oo(()=>{l==null||l.onHide(),r==null||r()});return I.jsxs("div",{ref:o,...s,children:[i,n&&I.jsx(Xm,{"aria-label":e,variant:t,onClick:c})]})}),Qx=w.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=St(t,"nav-item"),I.jsx(n,{ref:i,className:Ke(e,t),...r})));Qx.displayName="NavItem";const Jx=w.forwardRef(({bsPrefix:e,className:t,as:n=Ax,active:r,eventKey:i,disabled:s=!1,...o},l)=>{e=St(e,"nav-link");const[c,d]=jx({key:tC(i,o.href),active:r,disabled:s,...o});return I.jsx(n,{...o,...c,ref:l,disabled:s,className:Ke(t,e,s&&"disabled",d.isActive&&"active")})});Jx.displayName="NavLink";const Xx=w.forwardRef((e,t)=>{const{as:n="div",bsPrefix:r,variant:i,fill:s=!1,justify:o=!1,navbar:l,navbarScroll:c,className:d,activeKey:f,...p}=xx(e,{activeKey:"onSelect"}),m=St(r,"nav");let C,y,b=!1;const R=w.useContext(Ta),x=w.useContext(eC);return R?(C=R.bsPrefix,b=l??!0):x&&({cardHeaderBsPrefix:y}=x),I.jsx(u1,{as:n,ref:t,activeKey:f,className:Ke(d,{[m]:!b,[`${C}-nav`]:b,[`${C}-nav-scroll`]:b&&c,[`${y}-${i}`]:!!y,[`${m}-${i}`]:!!i,[`${m}-fill`]:s,[`${m}-justified`]:o}),...p})});Xx.displayName="Nav";const Ws=Object.assign(Xx,{Item:Qx,Link:Jx}),Zx=w.forwardRef(({bsPrefix:e,className:t,as:n,...r},i)=>{e=St(e,"navbar-brand");const s=n||(r.href?"a":"span");return I.jsx(s,{...r,ref:i,className:Ke(t,e)})});Zx.displayName="NavbarBrand";const eE=w.forwardRef(({children:e,bsPrefix:t,...n},r)=>{t=St(t,"navbar-collapse");const i=w.useContext(Ta);return I.jsx(AI,{in:!!(i&&i.expanded),...n,children:I.jsx("div",{ref:r,className:t,children:e})})});eE.displayName="NavbarCollapse";const tE=w.forwardRef(({bsPrefix:e,className:t,children:n,label:r="Toggle navigation",as:i="button",onClick:s,...o},l)=>{e=St(e,"navbar-toggler");const{onToggle:c,expanded:d}=w.useContext(Ta)||{},f=oo(p=>{s&&s(p),c&&c()});return i==="button"&&(o.type="button"),I.jsx(i,{...o,ref:l,onClick:f,"aria-label":r,className:Ke(t,e,!d&&"collapsed"),children:n||I.jsx("span",{className:`${e}-icon`})})});tE.displayName="NavbarToggle";const Ug=new WeakMap,xS=(e,t)=>{if(!e||!t)return;const n=Ug.get(t)||new Map;Ug.set(t,n);let r=n.get(e);return r||(r=t.matchMedia(e),r.refCount=0,n.set(r.media,r)),r};function I1(e,t=typeof window>"u"?void 0:window){const n=xS(e,t),[r,i]=w.useState(()=>n?n.matches:!1);return r1(()=>{let s=xS(e,t);if(!s)return i(!1);let o=Ug.get(t);const l=()=>{i(s.matches)};return s.refCount++,s.addListener(l),l(),()=>{s.removeListener(l),s.refCount--,s.refCount<=0&&(o==null||o.delete(s.media)),s=void 0}},[e]),r}function O1(e){const t=Object.keys(e);function n(l,c){return l===c?c:l?`${l} and ${c}`:c}function r(l){return t[Math.min(t.indexOf(l)+1,t.length-1)]}function i(l){const c=r(l);let d=e[c];return typeof d=="number"?d=`${d-.2}px`:d=`calc(${d} - 0.2px)`,`(max-width: ${d})`}function s(l){let c=e[l];return typeof c=="number"&&(c=`${c}px`),`(min-width: ${c})`}function o(l,c,d){let f;typeof l=="object"?(f=l,d=c,c=!0):(c=c||!0,f={[l]:c});let p=w.useMemo(()=>Object.entries(f).reduce((m,[C,y])=>((y==="up"||y===!0)&&(m=n(m,s(C))),(y==="down"||y===!0)&&(m=n(m,i(C))),m),""),[JSON.stringify(f)]);return I1(p,d)}return o}const L1=O1({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),nE=w.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=St(t,"offcanvas-body"),I.jsx(n,{ref:i,className:Ke(e,t),...r})));nE.displayName="OffcanvasBody";const N1={[yr]:"show",[mi]:"show"},rE=w.forwardRef(({bsPrefix:e,className:t,children:n,in:r=!1,mountOnEnter:i=!1,unmountOnExit:s=!1,appear:o=!1,...l},c)=>(e=St(e,"offcanvas"),I.jsx(Ym,{ref:c,addEndListener:qm,in:r,mountOnEnter:i,unmountOnExit:s,appear:o,...l,childRef:Da(n),children:(d,f)=>w.cloneElement(n,{...f,className:Ke(t,n.props.className,(d===yr||d===Yl)&&`${e}-toggling`,N1[d])})})));rE.displayName="OffcanvasToggling";const iE=w.forwardRef(({bsPrefix:e,className:t,closeLabel:n="Close",closeButton:r=!1,...i},s)=>(e=St(e,"offcanvas-header"),I.jsx(k1,{ref:s,...i,className:Ke(t,e),closeLabel:n,closeButton:r})));iE.displayName="OffcanvasHeader";const B1=Qm("h5"),sE=w.forwardRef(({className:e,bsPrefix:t,as:n=B1,...r},i)=>(t=St(t,"offcanvas-title"),I.jsx(n,{ref:i,className:Ke(e,t),...r})));sE.displayName="OffcanvasTitle";function H1(e){return I.jsx(rE,{...e})}function G1(e){return I.jsx(Mx,{...e})}const oE=w.forwardRef(({bsPrefix:e,className:t,children:n,"aria-labelledby":r,placement:i="start",responsive:s,show:o=!1,backdrop:l=!0,keyboard:c=!0,scroll:d=!1,onEscapeKeyDown:f,onShow:p,onHide:m,container:C,autoFocus:y=!0,enforceFocus:b=!0,restoreFocus:R=!0,restoreFocusOptions:x,onEntered:E,onExit:P,onExiting:D,onEnter:A,onEntering:O,onExited:T,backdropClassName:G,manager:$,renderStaticNode:U=!1,...J},K)=>{const Y=w.useRef();e=St(e,"offcanvas");const[le,fe]=w.useState(!1),ue=oo(m),ie=L1(s||"xs","up");w.useEffect(()=>{fe(s?o&&!ie:o)},[o,s,ie]);const B=w.useMemo(()=>({onHide:ue}),[ue]);function ne(){return $||(d?(Y.current||(Y.current=new qx({handleContainerOverflow:!1})),Y.current):M1())}const Z=(se,...me)=>{se&&(se.style.visibility="visible"),A==null||A(se,...me)},k=(se,...me)=>{se&&(se.style.visibility=""),T==null||T(...me)},_=w.useCallback(se=>I.jsx("div",{...se,className:Ke(`${e}-backdrop`,G)}),[G,e]),re=se=>I.jsx("div",{...se,...J,className:Ke(t,s?`${e}-${s}`:e,`${e}-${i}`),"aria-labelledby":r,children:n});return I.jsxs(I.Fragment,{children:[!le&&(s||U)&&re({}),I.jsx(Yx.Provider,{value:B,children:I.jsx(P1,{show:le,ref:K,backdrop:l,container:C,keyboard:c,autoFocus:y,enforceFocus:b&&!d,restoreFocus:R,restoreFocusOptions:x,onEscapeKeyDown:f,onShow:p,onHide:ue,onEnter:Z,onEntering:O,onEntered:E,onExit:P,onExiting:D,onExited:k,manager:ne(),transition:H1,backdropTransition:G1,renderBackdrop:_,renderDialog:re})})]})});oE.displayName="Offcanvas";const V1=Object.assign(oE,{Body:nE,Header:iE,Title:sE}),aE=w.forwardRef(({onHide:e,...t},n)=>{const r=w.useContext(Ta),i=oo(()=>{r==null||r.onToggle==null||r.onToggle(),e==null||e()});return I.jsx(V1,{ref:n,show:!!(r!=null&&r.expanded),...t,renderStaticNode:!0,onHide:i})});aE.displayName="NavbarOffcanvas";const lE=w.forwardRef(({className:e,bsPrefix:t,as:n="span",...r},i)=>(t=St(t,"navbar-text"),I.jsx(n,{ref:i,className:Ke(e,t),...r})));lE.displayName="NavbarText";const uE=w.forwardRef((e,t)=>{const{bsPrefix:n,expand:r=!0,variant:i="light",bg:s,fixed:o,sticky:l,className:c,as:d="nav",expanded:f,onToggle:p,onSelect:m,collapseOnSelect:C=!1,...y}=xx(e,{expanded:"onToggle"}),b=St(n,"navbar"),R=w.useCallback((...P)=>{m==null||m(...P),C&&f&&(p==null||p(!1))},[m,C,f,p]);y.role===void 0&&d!=="nav"&&(y.role="navigation");let x=`${b}-expand`;typeof r=="string"&&(x=`${x}-${r}`);const E=w.useMemo(()=>({onToggle:()=>p==null?void 0:p(!f),bsPrefix:b,expanded:!!f,expand:r}),[b,f,r,p]);return I.jsx(Ta.Provider,{value:E,children:I.jsx(Ad.Provider,{value:R,children:I.jsx(d,{ref:t,...y,className:Ke(c,b,r&&x,i&&`${b}-${i}`,s&&`bg-${s}`,l&&`sticky-${l}`,o&&`fixed-${o}`)})})})});uE.displayName="Navbar";const $p=Object.assign(uE,{Brand:Zx,Collapse:eE,Offcanvas:aE,Text:lE,Toggle:tE});var Kp={},qp={};const W1=GT(sk);var ES;function _1(){return ES||(ES=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=s(hu()),n=s(Fx()),r=W1,i=["children","onClick","replace","to","state","activeClassName","className","activeStyle","style","isActive"];function s(b){return b&&b.__esModule?b:{default:b}}function o(b,R){var x=Object.keys(b);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(b);R&&(E=E.filter(function(P){return Object.getOwnPropertyDescriptor(b,P).enumerable})),x.push.apply(x,E)}return x}function l(b){for(var R=1;R<arguments.length;R++){var x=arguments[R]!=null?arguments[R]:{};R%2?o(Object(x),!0).forEach(function(E){c(b,E,x[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(x)):o(Object(x)).forEach(function(E){Object.defineProperty(b,E,Object.getOwnPropertyDescriptor(x,E))})}return b}function c(b,R,x){return R in b?Object.defineProperty(b,R,{value:x,enumerable:!0,configurable:!0,writable:!0}):b[R]=x,b}function d(b){"@babel/helpers - typeof";return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},d(b)}function f(b,R){if(b==null)return{};var x=p(b,R),E,P;if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(b);for(P=0;P<D.length;P++)E=D[P],!(R.indexOf(E)>=0)&&Object.prototype.propertyIsEnumerable.call(b,E)&&(x[E]=b[E])}return x}function p(b,R){if(b==null)return{};var x={},E=Object.keys(b),P,D;for(D=0;D<E.length;D++)P=E[D],!(R.indexOf(P)>=0)&&(x[P]=b[P]);return x}var m=function(R){return!!(R.metaKey||R.altKey||R.ctrlKey||R.shiftKey)},C=function(R){var x=R.children,E=R.onClick,P=R.replace,D=P===void 0?!1:P,A=R.to,O=R.state,T=R.activeClassName,G=T===void 0?"active":T,$=R.className,U=R.activeStyle,J=R.style,K=R.isActive,Y=f(R,i),le=d(A)==="object"?A.pathname||"":A,fe=(0,r.useNavigate)(),ue=(0,r.useHref)(typeof A=="string"?{pathname:A}:A),ie=(0,r.useMatch)(le),B=(0,r.useLocation)(),ne=t.default.Children.only(x),Z=!!(K?typeof K=="function"?K(ie,B):K:ie),k=function(re){x.props.onClick&&x.props.onClick(re),E&&E(re),!re.defaultPrevented&&re.button===0&&!m(re)&&(re.preventDefault(),fe(A,{replace:D,state:O}))};return t.default.cloneElement(ne,l(l({},Y),{},{className:[$,ne.props.className,Z?G:null].join(" ").trim(),style:Z?l(l({},J),U):J,href:ue,onClick:k}))};C.propTypes={children:n.default.element.isRequired,onClick:n.default.func,replace:n.default.bool,to:n.default.oneOfType([n.default.string,n.default.object]).isRequired,state:n.default.object,className:n.default.string,activeClassName:n.default.string,style:n.default.objectOf(n.default.oneOfType([n.default.string,n.default.number])),activeStyle:n.default.objectOf(n.default.oneOfType([n.default.string,n.default.number])),isActive:n.default.oneOfType([n.default.func,n.default.bool])};var y=C;e.default=y}(qp)),qp}var FS;function z1(){return FS||(FS=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"LinkContainer",{enumerable:!0,get:function(){return t.default}});var t=n(_1());function n(r){return r&&r.__esModule?r:{default:r}}}(Kp)),Kp}var Fl=z1();const j1="/arbor/assets/arborbanner-D_XDoU3j.jpg";function U1(e){let t=mn();return I.jsxs("div",{children:[I.jsx($p,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",className:"p-0",children:I.jsxs("div",{className:"container",children:[I.jsx($p.Toggle,{"aria-controls":"basic-navbar-nav"}),I.jsxs($p.Collapse,{children:[I.jsxs(Ws,{className:"mr-auto",activeKey:t.pathname,children:[I.jsx(Fl.LinkContainer,{to:"/",children:I.jsx(Ws.Link,{eventKey:1,children:"All events"})}),I.jsx(Fl.LinkContainer,{to:"/champions",children:I.jsx(Ws.Link,{eventKey:2,children:"Champions"})}),I.jsx(Fl.LinkContainer,{to:"/person",children:I.jsx(Ws.Link,{eventKey:3,children:"Name search"})}),I.jsx(Fl.LinkContainer,{to:"/fight",children:I.jsx(Ws.Link,{eventKey:4,children:"Fight!"})})]}),I.jsx(Ws,{activeKey:t.pathname,children:I.jsx(Fl.LinkContainer,{to:"/about",children:I.jsx(Ws.Link,{eventKey:1,children:"About"})})})]})]})}),I.jsx("div",{className:"container",children:I.jsx("div",{className:"row",style:{display:"block"},children:I.jsx("img",{className:"arbor-logo",src:j1,alt:"Arbor logo",title:"Arbor logo"})})})]})}const $1="/arbor/assets/boctrophies-urw5qFp0.jpg",K1=()=>I.jsx("div",{className:"arbor-footer",children:I.jsx("footer",{className:"container",children:I.jsxs("div",{className:"row",children:[I.jsx("div",{className:"col-md-4",children:I.jsx("img",{className:"footer-photo",src:$1,alt:"BOC trophies",title:"BOC trophies"})}),I.jsxs("div",{className:"col-md-8",children:[I.jsx("h3",{children:"Arbor"}),I.jsx("p",{children:"The Maprunner Archive of British Orienteering Records (Arbor) includes full results from all major British events dating back to around 2000, as well as M21E and W21E champions from the start of each event. Select a menu option to try out the various queries available and see what you find."}),I.jsxs("p",{children:["Copyright © 2025"," ",I.jsx("a",{href:"https://www.maprunner.co.uk",target:"_blank",rel:"noopener noreferrer",children:"Maprunner"}),"."]})]})]})})});var ao=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,n){const r=t?this.allAsyncListeners:this.allSyncListeners;let i=r.get(e);return!i&&n&&(i=new Set,r.set(e,i)),i}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,n=!1){this.getListeners(e,n,!0).add(t)}removeEventListener(e,t,n=!1){const r=this.getListeners(e,n,!1);r&&(r.delete(t),r.size===0&&(n?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){const t=e;this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const n=e.type;if(t&&"event"in e){const l=e.event;l instanceof Event&&(e.eventPath=l.composedPath())}const r=(l,c)=>l.forEach(d=>{if(!c.has(d))return;const f=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>d(e)):()=>d(e);t?this.dispatchAsync(f):f()}),i=this.getListeners(n,t,!1)??new Set,s=new Set(i);s.size>0&&r(s,i),new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(l=>{const c=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>l(n,e)):()=>l(n,e);t?this.dispatchAsync(c):c()})}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}};function q1(e,t){return t}function cE(e){return(e==null?void 0:e.getLocaleTextFunc())??q1}function Ai(e,t,n){n==null||typeof n=="string"&&n==""?dE(e,t):Ar(e,t,n)}function Ar(e,t,n){e.setAttribute(hE(t),n.toString())}function dE(e,t){e.removeAttribute(hE(t))}function hE(e){return`aria-${e}`}function Fr(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function Y1(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function Q1(e){return e.getAttribute("aria-label")}function wh(e,t){Ai(e,"label",t)}function $g(e,t){Ai(e,"labelledby",t)}function fE(e,t){Ai(e,"live",t)}function J1(e,t){Ai(e,"atomic",t)}function X1(e,t){Ai(e,"relevant",t)}function Z1(e,t){Ai(e,"disabled",t)}function pE(e,t){Ai(e,"hidden",t)}function Kg(e,t){Ar(e,"expanded",t)}function eO(e,t){Ar(e,"setsize",t)}function tO(e,t){Ar(e,"posinset",t)}function nO(e,t){Ar(e,"rowcount",t)}function gE(e,t){Ar(e,"rowindex",t)}function rO(e,t){Ar(e,"rowspan",t)}function iO(e,t){Ar(e,"colcount",t)}function mE(e,t){Ar(e,"colindex",t)}function sO(e,t){Ar(e,"colspan",t)}function oO(e,t){Ar(e,"sort",t)}function aO(e){dE(e,"sort")}function qg(e,t){Ai(e,"selected",t)}function lO(e,t){Ai(e,"controls",t.id),$g(t,e.id)}function sC(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var Yp,Qp,Jp,Xp,Zp,Yg,Qg,eg;function bs(){return Yp===void 0&&(Yp=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),Yp}function CE(){if(Qp===void 0){const e=window;Qp=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return Qp}function vE(){return Jp===void 0&&(Jp=/(firefox)/i.test(navigator.userAgent)),Jp}function wE(){return Xp===void 0&&(Xp=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),Xp}function Ys(){return Zp===void 0&&(Zp=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),Zp}function Jg(e){if(!e)return null;const t=e.tabIndex,n=e.getAttribute("tabIndex");return t===-1&&(n===null||n===""&&!vE())?null:t.toString()}function uO(){if(eg!==void 0)return eg;if(!document.body)return-1;let e=1e6;const t=vE()?6e6:1e9,n=document.createElement("div");for(document.body.appendChild(n);;){const r=e*2;if(n.style.height=r+"px",r>t||n.clientHeight!==r)break;e=r}return document.body.removeChild(n),eg=e,e}function cO(){return Qg==null&&yE(),Qg}function yE(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let n=t.offsetWidth-t.clientWidth;n===0&&t.clientWidth===0&&(n=null),t.parentNode&&t.parentNode.removeChild(t),n!=null&&(Qg=n,Yg=n===0)}function SE(){return Yg==null&&yE(),Yg}var Uc,dO="[tabindex], input, select, button, textarea, [href]",bE="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function oC(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,r=t.call(e,"input, select, button, textarea"),i=t.call(e,bE),s=Xr(e);return r&&!i&&s}function Ot(e,t,n={}){const{skipAriaHidden:r}=n;e.classList.toggle("ag-hidden",!t),r||pE(e,!t)}function hO(e,t,n={}){const{skipAriaHidden:r}=n;e.classList.toggle("ag-invisible",!t),r||pE(e,!t)}function Ql(e,t){const n="disabled",r=t?i=>i.setAttribute(n,""):i=>i.removeAttribute(n);r(e),FE(e.querySelectorAll("input"),i=>r(i))}function Qs(e,t,n){let r=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof n=="number"){if(++r>n)break}else if(e===n)break}return!1}function go(e){const{height:t,width:n,borderTopWidth:r,borderRightWidth:i,borderBottomWidth:s,borderLeftWidth:o,paddingTop:l,paddingRight:c,paddingBottom:d,paddingLeft:f,marginTop:p,marginRight:m,marginBottom:C,marginLeft:y,boxSizing:b}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(n||"0"),borderTopWidth:parseFloat(r||"0"),borderRightWidth:parseFloat(i||"0"),borderBottomWidth:parseFloat(s||"0"),borderLeftWidth:parseFloat(o||"0"),paddingTop:parseFloat(l||"0"),paddingRight:parseFloat(c||"0"),paddingBottom:parseFloat(d||"0"),paddingLeft:parseFloat(f||"0"),marginTop:parseFloat(p||"0"),marginRight:parseFloat(m||"0"),marginBottom:parseFloat(C||"0"),marginLeft:parseFloat(y||"0"),boxSizing:b}}function aC(e){const t=go(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function Jl(e){const t=go(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function RE(e){const{height:t,marginBottom:n,marginTop:r}=go(e);return Math.floor(t+n+r)}function Md(e){const{width:t,marginLeft:n,marginRight:r}=go(e);return Math.floor(t+n+r)}function xE(e){const t=e.getBoundingClientRect(),{borderTopWidth:n,borderLeftWidth:r,borderRightWidth:i,borderBottomWidth:s}=go(e);return{top:t.top+(n||0),left:t.left+(r||0),right:t.right+(i||0),bottom:t.bottom+(s||0)}}function kd(){if(typeof Uc=="boolean")return Uc;const e=document.createElement("div");return e.style.direction="rtl",e.style.width="1px",e.style.height="1px",e.style.position="fixed",e.style.top="0px",e.style.overflow="hidden",e.dir="rtl",e.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(e),e.scrollLeft=1,Uc=Math.floor(e.scrollLeft)===0,document.body.removeChild(e),Uc}function Id(e,t){let n=e.scrollLeft;return t&&(n=Math.abs(n),CE()&&!kd()&&(n=e.scrollWidth-e.getBoundingClientRect().width-n)),n}function Od(e,t,n){n&&(kd()?t*=-1:(bs()||CE())&&(t=e.scrollWidth-e.getBoundingClientRect().width-t)),e.scrollLeft=t}function zn(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function lo(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function EE(e){return!!e.offsetParent}function Xr(e){const t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!EE(e)||window.getComputedStyle(e).visibility!=="visible")}function Xl(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function fO(e){return e.clientWidth<e.scrollWidth}function pO(e){return e.clientHeight<e.scrollHeight}function Ld(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):Qr(e,t)}function Qr(e,t){t=lC(t),e.style.width=t.toString(),e.style.maxWidth=t.toString(),e.style.minWidth=t.toString()}function Bl(e,t){t=lC(t),e.style.height=t.toString(),e.style.maxHeight=t.toString(),e.style.minHeight=t.toString()}function lC(e){return typeof e=="number"?`${e}px`:e}function uC(e){return e instanceof Node||e instanceof HTMLElement}function gO(e){if(e==null)return[];const t=[];return FE(e,n=>t.push(n)),t}function mO(e,t){if(e)for(let n=0;n<e.length;n++){const r=e[n];t(r.name,r.value)}}function sr(e,t,n){n==null||n===""?e.removeAttribute(t):e.setAttribute(t,n.toString())}function FE(e,t){if(e!=null)for(let n=0;n<e.length;n++)t(e[n])}function Mi(e,t,n){const i=OE(e).ResizeObserver,s=i?new i(n):null;return s==null||s.observe(t),()=>s==null?void 0:s.disconnect()}function yi(e){return e==null||e===""?null:e}function Ce(e){return e!=null&&e!==""}function Ft(e){return!Ce(e)}function Xg(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function Zl(e,t){const n=e?JSON.stringify(e):null,r=t?JSON.stringify(t):null;return n===r}function CO(e,t,n=!1){const r=e==null,i=t==null;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),r&&i)return 0;if(r)return-1;if(i)return 1;function s(o,l){return o>l?1:o<l?-1:0}if(typeof e!="string"||!n)return s(e,t);try{return e.localeCompare(t)}catch{return s(e,t)}}var PE="https://www.ag-grid.com",PS={};function DE(e,t){PS[t]||(e(),PS[t]=!0)}function uo(e,t,...n){e.get("debug")&&console.log("AG Grid: "+t,...n)}function Hl(e,...t){DE(()=>console.warn("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}function ta(e,...t){DE(()=>console.error("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}var tg=[],ng=!1;function DS(e){tg.push(e),!ng&&(ng=!0,window.setTimeout(()=>{const t=tg.slice();tg.length=0,ng=!1,t.forEach(n=>n())},0))}function en(e,t,n){let r;return function(...i){const s=this;window.clearTimeout(r),r=window.setTimeout(function(){e.isAlive()&&t.apply(s,i)},n)}}function TS(e,t){let n=0;return function(...r){const i=this,s=new Date().getTime();s-n<t||(n=s,e.apply(i,r))}}function vO(e,t,n=100,r){const i=new Date().getTime();let s=null,o=!1;const l=()=>{const c=new Date().getTime()-i>n;(e()||c)&&(t(),o=!0,s!=null&&(window.clearInterval(s),s=null))};l(),o||(s=window.setInterval(l,10))}var ve="33.1.1",AS=2e3,MS=100,TE="_version_",ad=null,Js=`${PE}/javascript-data-grid`;function wO(e){ad=e}function yO(e){Js=e}function AE(e,t,n){return(ad==null?void 0:ad.getConsoleMessage(e,t))??[xO(e,t,n)]}function cC(e,t,n,r){e(`error #${t}`,...AE(t,n,r))}function SO(e){if(!e)return String(e);const t={};for(const n of Object.keys(e))typeof e[n]!="object"&&typeof e[n]!="function"&&(t[n]=e[n]);return JSON.stringify(t)}function bO(e){let t=e;return e instanceof Error?t=e.toString():typeof e=="object"&&(t=SO(e)),t}function Nd(e){return e===void 0?"undefined":e===null?"null":e}function Zg(e,t){return`${e}?${t.toString()}`}function RO(e,t,n){const r=Array.from(t.entries()).sort((s,o)=>o[1].length-s[1].length);let i=Zg(e,t);for(const[s,o]of r){if(s===TE)continue;const l=i.length-n;if(l<=0)break;const c="...",d=l+c.length,f=o.length-d>MS?o.slice(0,o.length-d)+c:o.slice(0,MS)+c;t.set(s,f),i=Zg(e,t)}return i}function ME(e,t){const n=new URLSearchParams;if(n.append(TE,ve),t)for(const s of Object.keys(t))n.append(s,bO(t[s]));const r=`${Js}/errors/${e}`,i=Zg(r,n);return i.length<=AS?i:RO(r,n,AS)}var xO=(e,t,n)=>{const r=ME(e,t);return`${n?n+` 
`:""}Visit ${r}${n?"":` 
  Alternatively register the ValidationModule to see the full message in the console.`}`};function he(...e){cC(Hl,e[0],e[1])}function ut(...e){cC(ta,e[0],e[1])}function em(e,t,n){cC(ta,e,t,n)}function EO(e,t){const n=t[0];return`error #${n} `+AE(n,t[1],e).join(" ")}function hs(...e){return EO(void 0,e)}function kE(e,t){return e.get("rowModelType")===t}function un(e,t){return kE(e,"clientSide")}function mo(e,t){return kE(e,"serverSide")}function tn(e,t){return e.get("domLayout")===t}function Xs(e){return Hd(e)!==void 0}function IE(e){return typeof e.get("getRowHeight")=="function"}function FO(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function fa(e,t,n=!1,r){const{gos:i,environment:s}=e;if(r==null&&(r=s.getDefaultRowHeight()),IE(i)){if(n)return{height:r,estimated:!0};const c={node:t,data:t.data},d=i.getCallback("getRowHeight")(c);if(tm(d))return d===0&&he(23),{height:Math.max(1,d),estimated:!1}}if(t.detail&&i.get("masterDetail"))return PO(i);const o=i.get("rowHeight");return{height:o&&tm(o)?o:r,estimated:!1}}function PO(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const t=e.get("detailRowHeight");return tm(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function Zs(e){const{environment:t,gos:n}=e,r=n.get("rowHeight");if(!r||Ft(r))return t.getDefaultRowHeight();const i=t.refreshRowHeightVariable();return i!==-1?i:(he(24),t.getDefaultRowHeight())}function tm(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function Bd(e,t,n){const r=t[e.getDomDataKey()];return r?r[n]:void 0}function co(e,t,n,r){const i=e.getDomDataKey();let s=t[i];Ft(s)&&(s={},t[i]=s),s[n]=r}function Gt(e){const{gos:t,eGridDiv:n}=e;let r=null;const i=t.get("getDocument");return i&&Ce(i)?r=i():n&&(r=n.ownerDocument),r&&Ce(r)?r:document}function OE(e){return Gt(e).defaultView||window}function eu(e){return e.eGridDiv.getRootNode()}function Nt(e){return eu(e).activeElement}function dC(e){let t=null,n=null;try{t=Gt(e).fullscreenElement}catch{}finally{t||(t=eu(e));const r=t.querySelector("body");r?n=r:t instanceof ShadowRoot?n=t:t instanceof Document?n=t==null?void 0:t.documentElement:n=t}return n}function DO(e){const t=dC(e);return(t==null?void 0:t.clientWidth)??(window.innerHeight||-1)}function TO(e){const t=dC(e);return(t==null?void 0:t.clientHeight)??(window.innerHeight||-1)}function AO(e,t,n){const i=e.getBoundingClientRect().height,s=DO(n)-2,o=TO(n)-2;if(!e.offsetParent)return;const c=xE(e.offsetParent),{clientY:d,clientX:f}=t;let p=d-c.top-i/2,m=f-c.left-10;const C=Gt(n),y=C.defaultView||window,b=y.pageYOffset||C.documentElement.scrollTop,R=y.pageXOffset||C.documentElement.scrollLeft;s>0&&m+e.clientWidth>s+R&&(m=s+R-e.clientWidth),m<0&&(m=0),o>0&&p+e.clientHeight>o+b&&(p=o+b-e.clientHeight),p<0&&(p=0),e.style.left=`${m}px`,e.style.top=`${p}px`}function LE(e){const t=Gt(e),n=Nt(e);return n===null||n===t.body}function na(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function NE(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||tn(e,"print"))}function qr(e){const t=e.get("autoGroupColumnDef");return!(t!=null&&t.comparator)&&!e.get("treeData")}function nm(e){const t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function MO(e){return e.exists("groupDisplayType")?e.get("groupDisplayType")==="multipleColumns":e.get("groupHideOpenParents")}function hC(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function pa(e){const t=e.getCallback("getRowId");return t===void 0?t:n=>{let r=t(n);return typeof r!="string"&&(he(25,{id:r}),r=String(r)),r}}function kO(e,t){const n=e.get("groupHideParentOfSingleChild");return!!(n===!0||n==="leafGroupsOnly"&&t.leafGroup||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")&&t.leafGroup)}function IO(e){const t=e.get("maxConcurrentDatasourceRequests");return t>0?t:void 0}function ra(e){return(e==null?void 0:e.checkboxes)??!0}function ld(e){return(e==null?void 0:e.mode)==="multiRow"&&(e.headerCheckbox??!0)}function rm(e){if(typeof e=="object")return e.checkboxLocation??"selectionColumn"}function rg(e){return(e==null?void 0:e.hideDisabledCheckboxes)??!1}function OO(e){return typeof e.get("rowSelection")!="string"}function ms(e){const t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function BE(e){const t=e.get("rowSelection")??"single";if(typeof t=="string"){const n=e.get("suppressRowClickSelection"),r=e.get("suppressRowDeselection");return n&&r?!1:n?"enableDeselection":r?"enableSelection":!0}return t.mode==="singleRow"||t.mode==="multiRow"?t.enableClickSelection??!1:!1}function LO(e){const t=BE(e);return t===!0||t==="enableSelection"}function NO(e){const t=BE(e);return t===!0||t==="enableDeselection"}function im(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t==null?void 0:t.isRowSelectable}function Hd(e){const t="beanName"in e&&e.beanName==="gos"?e.get("rowSelection"):e.rowSelection;if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}switch(t==null?void 0:t.mode){case"multiRow":case"singleRow":return t.mode;default:return}}function Gd(e){return Hd(e)==="multiRow"}function BO(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("rowMultiSelectWithClick"):(t==null?void 0:t.enableSelectionWithoutKeys)??!1}function Vd(e){const t=e.get("rowSelection");if(typeof t=="string"){const n=e.get("groupSelectsChildren"),r=e.get("groupSelectsFiltered");return n&&r?"filteredDescendants":n?"descendants":"self"}return(t==null?void 0:t.mode)==="multiRow"?t.groupSelects:void 0}function HE(e,t=!0){const n=e.get("rowSelection");return typeof n!="object"?t?"all":void 0:n.mode==="multiRow"?n.selectAll:"all"}function tu(e){const t=Vd(e);return t==="descendants"||t==="filteredDescendants"}function kS(e){const t=e.get("rowSelection");return typeof t=="object"&&t.masterSelects||"self"}function ig(e){return e.isModuleRegistered("SetFilter")&&!e.get("suppressSetFilterByDefault")}function Vn(e){return e.get("columnMenu")==="legacy"}function HO(e){return!Vn(e)}function GE(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}function GO(e,t,n){typeof e!="object"&&(e={});const r={...e};return n.forEach(i=>{const s=t[i];typeof s<"u"&&(r[i]=s)}),r}function VO(e,t){if(!e)return;const n={};let r=!1;if(Object.keys(e).forEach(o=>{n[o]=e[o],r=!0}),!r)return;const i={type:"gridOptionsChanged",options:n};t.dispatchEvent(i);const s={type:"componentStateChanged",...n};t.dispatchEvent(s)}function Le(e,t){return e.addGridCommonParams(t)}var VE="__ag_Grid_Stop_Propagation",WO=["touchstart","touchend","touchmove","touchcancel","scroll"],_O=["wheel"],sg={};function ga(e){e[VE]=!0}function Si(e){return e[VE]===!0}var WE=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return n=>{if(typeof sg[n]=="boolean")return sg[n];const r=document.createElement(e[n]||"div");return n="on"+n,sg[n]=n in r}})();function _E(e,t,n){let r=t;for(;r;){const i=Bd(e,r,n);if(i)return i;r=r.parentElement}return null}function zO(e,t){return!t||!e?!1:UO(t).indexOf(e)>=0}function jO(e){const t=[];let n=e.target;for(;n;)t.push(n),n=n.parentElement;return t}function UO(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():jO(t)}function $O(e,t,n,r){const i=zE(n);let s;i!=null&&(s={passive:i}),e&&e.addEventListener&&e.addEventListener(t,n,r,s)}var zE=e=>{const t=WO.includes(e),n=_O.includes(e);if(t)return!0;if(n)return!1},te=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.beans=e,this.stubContext=e.context,this.eventSvc=e.eventSvc,this.gos=e.gos}destroy(){const{destroyFunctions:e}=this;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,n){this.localEventService||(this.localEventService=new ao),this.localEventService.addEventListener(e,t,n)}removeEventListener(e,t,n){var r;(r=this.localEventService)==null||r.removeEventListener(e,t,n)}dispatchLocalEvent(e){var t;(t=this.localEventService)==null||t.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventSvc,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const n=[];for(const r of Object.keys(t)){const i=t[r];i&&n.push(this._setupListener(e,r,i))}return n}_setupListener(e,t,n){if(this.destroyed)return()=>null;let r;return KO(e)?(e.__addEventListener(t,n),r=()=>(e.__removeEventListener(t,n),null)):(e instanceof HTMLElement?$O(this.beans.frameworkOverrides,e,t,n):e.addEventListener(t,n),r=()=>(e.removeEventListener(t,n),null)),this.destroyFunctions.push(r),()=>(r(),this.destroyFunctions=this.destroyFunctions.filter(i=>i!==r),null)}setupGridOptionListener(e,t){const{gos:n}=this;n.addPropertyEventListener(e,t);const r=()=>(n.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(r),()=>(r(),this.destroyFunctions=this.destroyFunctions.filter(i=>i!==r),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const n=e.join("-")+this.propertyListenerId++,r=i=>{if(i.changeSet){if(i.changeSet&&i.changeSet.id===this.lastChangeSetIdLookup[n])return;this.lastChangeSetIdLookup[n]=i.changeSet.id}const s={type:"gridPropertyChanged",changeSet:i.changeSet,source:i.source};t(s)};e.forEach(i=>this.setupGridOptionListener(i,r))}getLocaleTextFunc(){return cE(this.beans.localeSvc)}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createOptionalManagedBean(e,t){return e?this.createManagedBean(e,t):void 0}createManagedBean(e,t){const n=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),n}createBean(e,t,n){return(t||this.stubContext).createBean(e,n)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function KO(e){return e.__addEventListener!==void 0}var jE=new Set(["__proto__","constructor","prototype"]);function qO(e,t){if(e!=null){if(Array.isArray(e)){for(let n=0;n<e.length;n++)t(n.toString(),e[n]);return}for(const n of Object.keys(e))t(n,e[n])}}function Dn(e,t,n=!0,r=!1){Ce(t)&&qO(t,(i,s)=>{if(jE.has(i))return;let o=e[i];o!==s&&(r&&o==null&&s!=null&&typeof s=="object"&&s.constructor===Object&&(o={},e[i]=o),IS(s)&&IS(o)&&!Array.isArray(o)?Dn(o,s,n,r):(n||s!==void 0)&&(e[i]=s))})}function Gl(e,t,n){if(!t||!e)return;if(!n)return e[t];const r=t.split(".");let i=e;for(let s=0;s<r.length;s++){if(i==null)return;i=i[r[s]]}return i}function IS(e){return typeof e=="object"&&e!==null}var YO=/[&<>"']/g,QO={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function bi(e,t){if(e==null)return null;const n=e.toString().toString();return t?n:n.replace(YO,r=>QO[r])}var JO={resizable:!0,sortable:!0},XO=0;function UE(){return XO++}function Cs(e){return e instanceof fC}var fC=class extends te{constructor(e,t,n,r){super(),this.colDef=e,this.userProvidedColDef=t,this.colId=n,this.primary=r,this.isColumn=!0,this.instanceId=UE(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.colEventSvc=new ao,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.flex=null,this.colIdSanitised=bi(n)}destroy(){var e;super.destroy(),(e=this.beans.rowSpanSvc)==null||e.deregister(this)}getInstanceId(){return this.instanceId}setState(){const{colDef:e,beans:{sortSvc:t,pinnedCols:n,colFlex:r}}=this;t==null||t.initCol(this);const i=e.hide;i!==void 0?this.visible=!i:this.visible=!e.initialHide,n==null||n.initCol(this),r==null||r.initCol(this)}setColDef(e,t,n){var i;const r=e.spanRows!==this.colDef.spanRows;this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),r&&((i=this.beans.rowSpanSvc)==null||i.deregister(this),this.initRowSpan()),this.dispatchColEvent("colDefChanged",n)}getUserProvidedColDef(){return this.userProvidedColDef}getParent(){return this.parent}getOriginalParent(){return this.originalParent}postConstruct(){this.setState(),this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.initRowSpan()}initDotNotation(){const{gos:e,colDef:{field:t,tooltipField:n}}=this,r=e.get("suppressFieldDotNotation");this.fieldContainsDots=Ce(t)&&t.indexOf(".")>=0&&!r,this.tooltipFieldContainsDots=Ce(n)&&n.indexOf(".")>=0&&!r}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.beans.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){var e;(e=this.beans.tooltipSvc)==null||e.initCol(this)}initRowSpan(){var e;this.colDef.spanRows&&((e=this.beans.rowSpanSvc)==null||e.register(this))}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const n=e.width,r=e.initialWidth;return n!=null?t=n:r!=null?t=r:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){var t;return((t=this.beans.showRowGroupCols)==null?void 0:t.isRowGroupDisplayed(this,e))??!1}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}__addEventListener(e,t){this.colEventSvc.addEventListener(e,t)}__removeEventListener(e,t){this.colEventSvc.removeEventListener(e,t)}addEventListener(e,t){var r,i,s;this.frameworkEventListenerService=(i=(r=this.beans.frameworkOverrides).createLocalEventListenerWrapper)==null?void 0:i.call(r,this.frameworkEventListenerService,this.colEventSvc);const n=((s=this.frameworkEventListenerService)==null?void 0:s.wrap(t))??t;this.colEventSvc.addEventListener(e,n)}removeEventListener(e,t){var r;const n=((r=this.frameworkEventListenerService)==null?void 0:r.unwrap(t))??t;this.colEventSvc.removeEventListener(e,n)}createColumnFunctionCallbackParams(e){return Le(this.gos,{node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){var t;return((t=this.beans.cellNavigation)==null?void 0:t.isSuppressNavigable(this,e))??!1}isCellEditable(e){var t;return((t=this.beans.editSvc)==null?void 0:t.isCellEditable(this,e))??!1}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){var t;return((t=this.beans.selectionSvc)==null?void 0:t.isCellCheckboxSelection(this,e))??!1}isSuppressPaste(e){var t;return this.isColumnFunc(e,((t=this.colDef)==null?void 0:t.suppressPaste)??null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??JO[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){const n=this.createColumnFunctionCallbackParams(e);return t(n)}return!1}createColumnEvent(e,t){return Le(this.gos,{type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return Ft(this.sort)}isSorting(){return Ce(this.sort)}getSortIndex(){return this.sortIndex}isMenuVisible(){return this.menuVisible}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchColEvent("leftChanged",t))}isFilterActive(){return this.filterActive}isHovered(){var e;return he(261),!!((e=this.beans.colHover)!=null&&e.isHovered(this))}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.dispatchColEvent("firstRightPinnedChanged",t))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.dispatchColEvent("lastLeftPinnedChanged",t))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){const n=e===!0;this.visible!==n&&(this.visible=n,this.dispatchColEvent("visibleChanged",t)),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let n=!0;for(;e;){if(!e.isPadding()){n=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:n}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return Le(this.gos,{node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(Ft(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.colSpan(t);return Math.max(n,1)}getRowSpan(e){if(Ft(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.rowSpan(t);return Math.max(n,1)}setActualWidth(e,t,n=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex!=null&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),n||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.dispatchColEvent("widthChanged",e)}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex}isRowGroupActive(){return this.rowGroupActive}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchColEvent(e,t,n){const r=this.createColumnEvent(e,t);n&&Dn(r,n),this.colEventSvc.dispatchEvent(r)}dispatchStateUpdatedEvent(e){this.colEventSvc.dispatchEvent({type:"columnStateUpdated",key:e})}};function gn(e){return e instanceof ud}var ud=class extends te{constructor(e,t,n,r){super(),this.colGroupDef=e,this.groupId=t,this.padding=n,this.level=r,this.isColumn=!1,this.expandable=!1,this.instanceId=UE(),this.expandableListenerRemoveCallback=null,this.expanded=!!(e!=null&&e.openByDefault)}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}addLeafColumns(e){this.children&&this.children.forEach(t=>{Cs(t)?e.push(t):gn(t)&&t.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.__addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.__removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,n=!1;const r=this.findChildrenRemovingPadding();for(let s=0,o=r.length;s<o;s++){const l=r[s];if(!l.isVisible())continue;const c=l.getColumnGroupShow();c==="open"?(e=!0,n=!0):c==="closed"?(t=!0,n=!0):(e=!0,t=!0)}const i=e&&t&&n;this.expandable!==i&&(this.expandable=i,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=n=>{n.forEach(r=>{gn(r)&&r.isPadding()?t(r.children):e.push(r)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},ZO={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},eL=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=Xg(e);let n=0;for(;;){let r=e??t;if(r?n!==0&&(r+="_"+n):r=n,!this.existingKeys[r])return this.existingKeys[r]=!0,String(r);n++}}},OS=Object.freeze([]);function lt(e){if(e!=null&&e.length)return e[e.length-1]}function Co(e,t,n){return e==null&&t==null?!0:e!=null&&t!=null&&e.length===t.length&&e.every((r,i)=>n?n(r,t[i]):t[i]===r)}function tL(e){return e.sort((t,n)=>t-n)}function Pr(e,t){const n=e.indexOf(t);n>=0&&e.splice(n,1)}function LS(e,t,n){for(let r=0;r<t.length;r++)Pr(e,t[r]);for(let r=t.length-1;r>=0;r--)e.splice(n,0,t[r])}var yh="ag-Grid-AutoColumn",$E="ag-Grid-SelectionColumn",nL="ag-Grid-RowNumbersColumn";function KE(e){const t=[],n=r=>{for(let i=0;i<r.length;i++){const s=r[i];Cs(s)?t.push(s):gn(s)&&n(s.getChildren())}};return n(e),t}function gi(e){return e.reduce((t,n)=>t+n.getActualWidth(),0)}function Wd(e,t,n){const r={};if(!t)return;Ri(null,t,s=>{r[s.getInstanceId()]=s}),n&&Ri(null,n,s=>{r[s.getInstanceId()]=null});const i=Object.values(r).filter(s=>s!=null);e.context.destroyBeans(i)}function pC(e){return e.getId().startsWith(yh)}function Ei(e){const t=typeof e=="string"?e:"getColId"in e?e.getColId():e.colId;return(t==null?void 0:t.startsWith($E))??!1}function vu(e){const t=typeof e=="string"?e:"getColId"in e?e.getColId():e.colId;return(t==null?void 0:t.startsWith(nL))??!1}function _d(e){let t=[];return e instanceof Array?t=e:typeof e=="string"&&(t=e.split(",")),t}function rL(e,t){return Co(e,t,(n,r)=>n.getColId()===r.getColId())}function iL(e){e.map={},e.list.forEach(t=>e.map[t.getId()]=t)}function ia(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function qE(e,t){const n=e===t,r=e.getColDef()===t,i=e.getColId()==t;return n||r||i}var sL=(e,t)=>(n,r)=>{const i={value1:void 0,value2:void 0};let s=!1;return e&&(e[n]!==void 0&&(i.value1=e[n],s=!0),Ce(r)&&e[r]!==void 0&&(i.value2=e[r],s=!0)),!s&&t&&(t[n]!==void 0&&(i.value1=t[n]),Ce(r)&&t[r]!==void 0&&(i.value2=t[r])),i};function oL(e,t=null,n,r,i){const s=new eL,{existingCols:o,existingGroups:l,existingColKeys:c}=aL(r);s.addExistingKeys(c);const d=YE(e,t,0,n,o,s,l,i),{colGroupSvc:f}=e,p=(f==null?void 0:f.findMaxDepth(d,0))??0,m=f?f.balanceColumnTree(d,0,p,s):d;return Ri(null,m,(y,b)=>{gn(y)&&y.setupExpandable(),y.originalParent=b}),{columnTree:m,treeDept:p}}function aL(e){const t=[],n=[],r=[];return e&&Ri(null,e,i=>{if(gn(i)){const s=i;n.push(s)}else{const s=i;r.push(s.getId()),t.push(s)}}),{existingCols:t,existingGroups:n,existingColKeys:r}}function YE(e,t,n,r,i,s,o,l){if(!t)return[];const{colGroupSvc:c}=e,d=new Array(t.length);for(let f=0;f<d.length;f++){const p=t[f];c&&fL(p)?d[f]=c.createProvidedColumnGroup(r,p,n,i,s,o,l):d[f]=lL(e,r,p,i,s,l)}return d}function lL(e,t,n,r,i,s){var c;const o=cL(n,r);o&&(r==null||r.splice(o.idx,1));let l=o==null?void 0:o.column;if(l){const d=sm(e,n,l.getColId());l.setColDef(d,n,s),uL(e,l,d,s)}else{const d=i.getUniqueKey(n.colId,n.field),f=sm(e,n,d);l=new fC(f,n,d,t),e.context.createBean(l)}return(c=e.dataTypeSvc)==null||c.addColumnListeners(l),l}function QE(e,t,n,r,i,s,o,l){const{sortSvc:c,pinnedCols:d,colFlex:f}=e;n!==void 0&&t.setVisible(!n,l),c&&(c.updateColSort(t,r,l),i!==void 0&&c.setColSortIndex(t,i)),s!==void 0&&(d==null||d.setColPinned(t,s)),o!==void 0&&(f==null||f.setColFlex(t,o))}function uL(e,t,n,r){QE(e,t,n.hide,n.sort,n.sortIndex,n.pinned,n.flex,r);const i=t.getFlex();if(!(i!=null&&i>0))if(n.width!=null)t.setActualWidth(n.width,r);else{const s=t.getActualWidth();t.setActualWidth(s,r)}}function cL(e,t){if(t)for(let n=0;n<t.length;n++){const r=t[n].getUserProvidedColDef();if(!r)continue;if(e.colId!=null){if(t[n].getId()===e.colId)return{idx:n,column:t[n]};continue}if(e.field!=null){if(r.field===e.field)return{idx:n,column:t[n]};continue}if(r===e)return{idx:n,column:t[n]}}}function sm(e,t,n,r){const{gos:i,dataTypeSvc:s,validation:o}=e,l={},c=i.get("defaultColDef");Dn(l,c,!1,!0);const d=dL(e,l,t,n);d&&hL(e,d,l),Dn(l,t,!1,!0);const f=i.get("autoGroupColumnDef"),p=qr(i);return t.rowGroup&&f&&p&&Dn(l,{sort:f.sort,initialSort:f.initialSort},!1,!0),s==null||s.validateColDef(l),o==null||o.validateColDef(l,n,r),l}function dL(e,t,n,r){var o;const i=(o=e.dataTypeSvc)==null?void 0:o.updateColDefAndGetColumnType(t,n,r),s=n.type??i??t.type;return t.type=s,s?_d(s):void 0}function hL(e,t,n){if(!t.length)return;const r=Object.assign({},ZO),i=e.gos.get("columnTypes")||{};for(const s of Object.keys(i)){const o=i[s];s in r?he(34,{key:s}):(o.type&&he(35),r[s]=o)}t.forEach(s=>{const o=r[s.trim()];o?Dn(n,o,!1,!0):he(36,{t:s})})}function fL(e){return e.children!==void 0}function Ri(e,t,n){if(t)for(let r=0;r<t.length;r++){const i=t[r];gn(i)&&Ri(i,i.getChildren(),n),n(i,e)}}function JE(e,t){const n=[],r=[],i=[];return e.forEach(o=>{const l=o.getColDef().lockPosition;l==="right"?i.push(o):l==="left"||l===!0?n.push(o):r.push(o)}),t.get("enableRtl")?[...i,...r,...n]:[...n,...r,...i]}function XE(e,t){let n=!0;return Ri(null,t,r=>{if(!gn(r))return;const i=r,s=i.getColGroupDef();if(!(s&&s.marryChildren))return;const l=[];i.getLeafColumns().forEach(m=>{const C=e.indexOf(m);l.push(C)});const c=Math.max.apply(Math,l),d=Math.min.apply(Math,l),f=c-d,p=i.getLeafColumns().length-1;f>p&&(n=!1)}),n}function ZE(e,t){if(!e||e.length==0)return;const n=t(e[0]);for(let r=1;r<e.length;r++)if(n!==t(e[r]))return;return n}function e0(e,t,n){if(!t.length)return;const r=t.length===1?t[0]:null,i=ZE(t,s=>s.getPinned());e.dispatchEvent({type:"columnPinned",pinned:i??null,columns:t,column:r,source:n})}function pL(e,t,n){if(!t.length)return;const r=t.length===1?t[0]:null,i=ZE(t,s=>s.isVisible());e.dispatchEvent({type:"columnVisible",visible:i,columns:t,column:r,source:n})}function gL(e,t,n,r){e.dispatchEvent({type:t,columns:n,column:n&&n.length==1?n[0]:null,source:r})}function ma(e,t,n,r,i=null){t!=null&&t.length&&e.dispatchEvent({type:"columnResized",columns:t,column:t.length===1?t[0]:null,flexColumns:i,finished:n,source:r})}function or(e,t,n){var D;const{colModel:r,rowGroupColsSvc:i,pivotColsSvc:s,autoColSvc:o,selectionColSvc:l,colAnimation:c,visibleCols:d,pivotResultCols:f,environment:p,valueColsSvc:m,eventSvc:C,gos:y}=e,b=r.getColDefCols()||[];if(!(b!=null&&b.length))return!1;if(t!=null&&t.state&&!t.state.forEach)return he(32),!1;const R=(A,O,T,G,$)=>{if(!A)return;const U=sL(O,t.defaultState),J=U("flex").value1;if(QE(e,A,U("hide").value1,U("sort").value1,U("sortIndex").value1,U("pinned").value1,J,n),J==null){const K=U("width").value1;if(K!=null){const Y=A.getColDef().minWidth??p.getDefaultColumnMinWidth();Y!=null&&K>=Y&&A.setActualWidth(K,n)}}$||!A.isPrimary()||(m==null||m.syncColumnWithState(A,n,U),i==null||i.syncColumnWithState(A,n,U,T),s==null||s.syncColumnWithState(A,n,U,G))},x=(A,O,T)=>{var Z,k;const G=t0(e,n),$=O.slice(),U={},J={},K=[],Y=[],le=[];let fe=0;const ue=(i==null?void 0:i.columns.slice())??[],ie=(s==null?void 0:s.columns.slice())??[];A.forEach(_=>{const re=_.colId;if(re.startsWith(yh)){K.push(_),le.push(_);return}if(Ei(re)){Y.push(_),le.push(_);return}const me=T(re);me?(R(me,_,U,J,!1),Pr($,me)):(le.push(_),fe+=1)});const B=_=>R(_,null,U,J,!1);$.forEach(B),i==null||i.sortColumns(NS.bind(i,U,ue)),s==null||s.sortColumns(NS.bind(s,J,ie)),r.refreshCols(!1);const ne=(_,re,se=[])=>{re.forEach(me=>{const ye=_(me.colId);Pr(se,ye),R(ye,me,null,null,!0)}),se.forEach(B)};return ne(_=>(o==null?void 0:o.getColumn(_))??null,K,(Z=o==null?void 0:o.getColumns())==null?void 0:Z.slice()),ne(_=>(l==null?void 0:l.getColumn(_))??null,Y,(k=l==null?void 0:l.getColumns())==null?void 0:k.slice()),CL(t,r,y),d.refresh(n),C.dispatchEvent({type:"columnEverythingChanged",source:n}),G(),{unmatchedAndAutoStates:le,unmatchedCount:fe}};c==null||c.start();let{unmatchedAndAutoStates:E,unmatchedCount:P}=x(t.state||[],b,A=>r.getColDefCol(A));if(E.length>0||Ce(t.defaultState)){const A=((D=f==null?void 0:f.getPivotResultCols())==null?void 0:D.list)??[];P=x(E,A,O=>(f==null?void 0:f.getPivotResultCol(O))??null).unmatchedCount}return c==null||c.finish(),P===0}function mL(e,t){const{colModel:n,autoColSvc:r}=e,i=n.getColDefCols();if(!(i!=null&&i.length))return;const s=n.getColDefColTree(),o=KE(s),l=[];let c=1e3,d=1e3,f=[];const p=r==null?void 0:r.getColumns();p&&(f=f.concat(p)),o&&(f=f.concat(o)),f.forEach(m=>{const C=n0(m);Ft(C.rowGroupIndex)&&C.rowGroup&&(C.rowGroupIndex=c++),Ft(C.pivotIndex)&&C.pivot&&(C.pivotIndex=d++),l.push(C)}),or(e,{state:l,applyOrder:!0},t)}function t0(e,t){const{rowGroupColsSvc:n,pivotColsSvc:r,valueColsSvc:i,colModel:s,sortSvc:o,eventSvc:l}=e,c={rowGroupColumns:(n==null?void 0:n.columns.slice())??[],pivotColumns:(r==null?void 0:r.columns.slice())??[],valueColumns:(i==null?void 0:i.columns.slice())??[]},d=nu(e),f={};return d.forEach(p=>{f[p.colId]=p}),()=>{const p=s.getAllCols(),m=(T,G,$,U)=>{const J=G.map(U),K=$.map(U);if(Co(J,K))return;const le=new Set(G);$.forEach(ue=>{le.delete(ue)||le.add(ue)});const fe=[...le];l.dispatchEvent({type:T,columns:fe,column:fe.length===1?fe[0]:null,source:t})},C=T=>{const G=[];return p.forEach($=>{const U=f[$.getColId()];U&&T(U,$)&&G.push($)}),G},y=T=>T.getColId();m("columnRowGroupChanged",c.rowGroupColumns,(n==null?void 0:n.columns)??[],y),m("columnPivotChanged",c.pivotColumns,(r==null?void 0:r.columns)??[],y);const R=C((T,G)=>{const $=T.aggFunc!=null,U=$!=G.isValueActive(),J=$&&T.aggFunc!=G.getAggFunc();return U||J});R.length>0&&gL(l,"columnValueChanged",R,t),ma(l,C((T,G)=>T.width!=G.getActualWidth()),!0,t),e0(l,C((T,G)=>T.pinned!=G.getPinned()),t),pL(l,C((T,G)=>T.hide==G.isVisible()),t);const A=C((T,G)=>T.sort!=G.getSort()||T.sortIndex!=G.getSortIndex());A.length>0&&(o==null||o.dispatchSortChangedEvents(t,A));const O=nu(e);wL(d,O,t,s,l)}}function nu(e){const{colModel:t,rowGroupColsSvc:n,pivotColsSvc:r}=e,i=t.getColDefCols();if(Ft(i)||!t.isAlive())return[];const s=t.getAllCols(),o=n==null?void 0:n.columns,l=r==null?void 0:r.columns,c=p=>{const m=p.isRowGroupActive()&&o?o.indexOf(p):null,C=p.isPivotActive()&&l?l.indexOf(p):null,y=p.isValueActive()?p.getAggFunc():null,b=p.getSort()!=null?p.getSort():null,R=p.getSortIndex()!=null?p.getSortIndex():null;return{colId:p.getColId(),width:p.getActualWidth(),hide:!p.isVisible(),pinned:p.getPinned(),sort:b,sortIndex:R,aggFunc:y,rowGroup:p.isRowGroupActive(),rowGroupIndex:m,pivot:p.isPivotActive(),pivotIndex:C,flex:p.getFlex()??null}},d=s.map(p=>c(p)),f=new Map(t.getCols().map((p,m)=>[p.getColId(),m]));return d.sort((p,m)=>{const C=f.has(p.colId)?f.get(p.colId):-1,y=f.has(m.colId)?f.get(m.colId):-1;return C-y}),d}function n0(e){const t=(y,b)=>y??b??null,n=e.getColDef(),r=t(n.sort,n.initialSort),i=t(n.sortIndex,n.initialSortIndex),s=t(n.hide,n.initialHide),o=t(n.pinned,n.initialPinned),l=t(n.width,n.initialWidth),c=t(n.flex,n.initialFlex);let d=t(n.rowGroupIndex,n.initialRowGroupIndex),f=t(n.rowGroup,n.initialRowGroup);d==null&&(f==null||f==!1)&&(d=null,f=null);let p=t(n.pivotIndex,n.initialPivotIndex),m=t(n.pivot,n.initialPivot);p==null&&(m==null||m==!1)&&(p=null,m=null);const C=t(n.aggFunc,n.initialAggFunc);return{colId:e.getColId(),sort:r,sortIndex:i,hide:s,pinned:o,width:l,flex:c,rowGroup:f,rowGroupIndex:d,pivot:m,pivotIndex:p,aggFunc:C}}function CL(e,t,n){if(!e.applyOrder||!e.state)return;const r=[];e.state.forEach(i=>{i.colId!=null&&r.push(i.colId)}),vL(t.cols,r,t,n)}function vL(e,t,n,r){if(e==null)return;let i=[];const s={};t.forEach(l=>{if(s[l])return;const c=e.map[l];c&&(i.push(c),s[l]=!0)});let o=0;if(e.list.forEach(l=>{const c=l.getColId();if(s[c]!=null)return;c.startsWith(yh)?i.splice(o++,0,l):i.push(l)}),i=JE(i,r),!XE(i,n.getColTree())){he(39);return}e.list=i}function wL(e,t,n,r,i){const s={};t.forEach(f=>s[f.colId]=f);const o={};e.forEach(f=>{s[f.colId]&&(o[f.colId]=!0)});const l=e.filter(f=>o[f.colId]),c=t.filter(f=>o[f.colId]),d=[];c.forEach((f,p)=>{const m=l&&l[p];if(m&&m.colId!==f.colId){const C=r.getCol(m.colId);C&&d.push(C)}}),d.length&&i.dispatchEvent({type:"columnMoved",columns:d,column:d.length===1?d[0]:null,finished:!0,source:n})}var NS=(e,t,n,r)=>{const i=e[n.getId()],s=e[r.getId()],o=i!=null,l=s!=null;if(o&&l)return i-s;if(o)return-1;if(l)return 1;const c=t.indexOf(n),d=t.indexOf(r),f=c>=0,p=d>=0;return f&&p?c-d:f?-1:1},yL=class extends te{constructor(){super(...arguments),this.beanName="colModel",this.pivotMode=!1,this.ready=!1,this.changeEventsDispatching=!1}postConstruct(){this.pivotMode=this.gos.get("pivotMode"),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],e=>this.refreshAll(ia(e.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],this.recreateColumnDefs.bind(this)),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gos.get("pivotMode"),ia(e.source)))}createColsFromColDefs(e){var E,P,D;const{beans:t}=this,{valueCache:n,colAutosize:r,rowGroupColsSvc:i,pivotColsSvc:s,valueColsSvc:o,visibleCols:l,colViewport:c,eventSvc:d}=t,f=this.colDefs?t0(t,e):void 0;n==null||n.expire();const p=(E=this.colDefCols)==null?void 0:E.list,m=(P=this.colDefCols)==null?void 0:P.tree,C=oL(t,this.colDefs,!0,m,e);Wd(t,(D=this.colDefCols)==null?void 0:D.tree,C.columnTree);const y=C.columnTree,b=C.treeDept,R=KE(y),x={};R.forEach(A=>x[A.getId()]=A),this.colDefCols={tree:y,treeDepth:b,list:R,map:x},i==null||i.extractCols(e,p),s==null||s.extractCols(e,p),o==null||o.extractCols(e,p),this.ready=!0,this.refreshCols(!0),l.refresh(e),c.checkViewportColumns(),d.dispatchEvent({type:"columnEverythingChanged",source:e}),f&&(this.changeEventsDispatching=!0,f(),this.changeEventsDispatching=!1),d.dispatchEvent({type:"newColumnsLoaded",source:e}),e==="gridInitializing"&&(r==null||r.applyAutosizeStrategy())}refreshCols(e){var b;if(!this.colDefCols)return;const t=(b=this.cols)==null?void 0:b.tree;this.saveColOrder();const{autoColSvc:n,selectionColSvc:r,rowNumbersSvc:i,quickFilter:s,pivotResultCols:o,showRowGroupCols:l,rowAutoHeight:c,visibleCols:d,colViewport:f,eventSvc:p}=this.beans,m=this.selectCols(o,this.colDefCols);this.createColumnsForService([n,r,i],m);const C=FO(this.gos,this.showingPivotResult);(!e||C)&&this.restoreColOrder(m),this.positionLockedCols(m),l==null||l.refresh(),s==null||s.refreshCols(),this.setColSpanActive(),c==null||c.setAutoHeightActive(m),d.clear(),f.clear(),!Co(t,this.cols.tree)&&p.dispatchEvent({type:"gridColumnsChanged"})}createColumnsForService(e,t){for(const n of e)n&&(n.createColumns(t,r=>{this.lastOrder=r(this.lastOrder),this.lastPivotOrder=r(this.lastPivotOrder)}),n.addColumns(t))}selectCols(e,t){const n=(e==null?void 0:e.getPivotResultCols())??null;this.showingPivotResult=n!=null;const{map:r,list:i,tree:s,treeDepth:o}=n??t;return this.cols={list:i.slice(),map:{...r},tree:s.slice(),treeDepth:o},n&&(n.list.some(c=>{var d;return((d=this.cols)==null?void 0:d.map[c.getColId()])!==void 0})||(this.lastPivotOrder=null)),this.cols}getColsToShow(){var r;if(!this.cols)return[];const e=this.isPivotMode()&&!this.showingPivotResult,t=(r=this.beans.valueColsSvc)==null?void 0:r.columns;return this.cols.list.filter(i=>{const s=pC(i);if(e){const o=t==null?void 0:t.includes(i);return s||o}else return s||i.isVisible()})}refreshAll(e){this.ready&&(this.refreshCols(!1),this.beans.visibleCols.refresh(e))}setColsVisible(e,t=!1,n){or(this.beans,{state:e.map(r=>({colId:typeof r=="string"?r:r.getColId(),hide:!t}))},n)}restoreColOrder(e){const t=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!t)return;const n=new Map(t.map((d,f)=>[d,f]));if(!e.list.some(d=>n.has(d)))return;const i=new Map(e.list.map(d=>[d,!0])),s=t.filter(d=>i.has(d)),o=new Map(s.map(d=>[d,!0])),l=e.list.filter(d=>!o.has(d)),c=s.slice();l.forEach(d=>{let f=d.getOriginalParent();if(!f){c.push(d);return}const p=[];for(;!p.length&&f;)f.getLeafColumns().forEach(b=>{const R=c.indexOf(b)>=0,x=p.indexOf(b)<0;R&&x&&p.push(b)}),f=f.getOriginalParent();if(!p.length){c.push(d);return}const m=p.map(y=>c.indexOf(y)),C=Math.max(...m);c.splice(C+1,0,d)}),e.list=c}positionLockedCols(e){e.list=JE(e.list,this.gos)}saveColOrder(){var e,t;this.showingPivotResult?this.lastPivotOrder=((e=this.cols)==null?void 0:e.list)??null:this.lastOrder=((t=this.cols)==null?void 0:t.list)??null}getColumnDefs(){var e,t;return this.colDefCols?(t=this.beans.colDefFactory)==null?void 0:t.getColumnDefs(this.colDefCols.list,this.showingPivotResult,this.lastOrder,((e=this.cols)==null?void 0:e.list)??[]):void 0}setColSpanActive(){var e;this.colSpanActive=!!((e=this.cols)!=null&&e.list.some(t=>t.getColDef().colSpan!=null))}isPivotMode(){return this.pivotMode}setPivotMode(e,t){if(e===this.pivotMode||(this.pivotMode=e,!this.ready))return;this.refreshCols(!1);const{visibleCols:n,eventSvc:r}=this.beans;n.refresh(t),r.dispatchEvent({type:"columnPivotModeChanged"})}isPivotActive(){var t;const e=(t=this.beans.pivotColsSvc)==null?void 0:t.columns;return this.pivotMode&&!!(e!=null&&e.length)}recreateColumnDefs(e){var n;if(!this.cols)return;(n=this.beans.autoColSvc)==null||n.updateColumns(e);const t=ia(e.source);this.createColsFromColDefs(t)}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){var e;Wd(this.beans,(e=this.colDefCols)==null?void 0:e.tree),super.destroy()}getColTree(){var e;return((e=this.cols)==null?void 0:e.tree)??[]}getColDefColTree(){var e;return((e=this.colDefCols)==null?void 0:e.tree)??[]}getColDefCols(){var e;return((e=this.colDefCols)==null?void 0:e.list)??null}getCols(){var e;return((e=this.cols)==null?void 0:e.list)??[]}getAllCols(){var i,s,o,l;const{pivotResultCols:e,autoColSvc:t,selectionColSvc:n}=this.beans,r=(i=e==null?void 0:e.getPivotResultCols())==null?void 0:i.list;return[((s=this.colDefCols)==null?void 0:s.list)??[],((o=t==null?void 0:t.columns)==null?void 0:o.list)??[],((l=n==null?void 0:n.columns)==null?void 0:l.list)??[],r??[]].flat()}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){var t;return(t=this.colDefCols)!=null&&t.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColFromCollection(e,t){var i,s;if(t==null)return null;const{map:n,list:r}=t;if(typeof e=="string"&&n[e])return n[e];for(let o=0;o<r.length;o++)if(qE(r[o],e))return r[o];return((i=this.beans.autoColSvc)==null?void 0:i.getColumn(e))??((s=this.beans.selectionColSvc)==null?void 0:s.getColumn(e))??null}},r0=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let n;return typeof t!="number"?n=0:n=t+1,this.existingIds[e]=n,n}},Aa=class extends te{};function wu(e,t,n){return n&&e.addDestroyFunc(()=>t.destroyBean(n)),n??e}var yu=class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){this.addOrRemoveCssClass(e,!0)}removeCssClass(e){this.addOrRemoveCssClass(e,!1)}containsCssClass(e){const t=this.getGui();return t?t.classList.contains(e):!1}addOrRemoveCssClass(e,t){if(!e)return;if(e.indexOf(" ")>=0){const r=(e||"").split(" ");if(r.length>1){r.forEach(i=>this.addOrRemoveCssClass(i,t));return}}if(this.cssClassStates[e]!==t&&e.length){const r=this.getGui();r&&r.classList.toggle(e,t),this.cssClassStates[e]=t}}},SL=0,Ie=null,Pt=class extends te{constructor(e,t){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=SL++,this.cssClassManager=new yu(()=>this.eGui),this.componentSelectors=new Map((t??[]).map(n=>[n.selector,n])),e&&this.setTemplate(e)}preConstruct(){var t,n,r;this.wireTemplate(this.getGui());const e="component-"+((n=(t=Object.getPrototypeOf(this))==null?void 0:t.constructor)==null?void 0:n.name);(r=this.css)==null||r.forEach(i=>this.beans.environment.addGlobalCSS(i,e))}wireTemplate(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t))}getCompId(){return this.compId}getDataRefAttribute(e){return e.getAttribute?e.getAttribute("data-ref"):null}applyElementsToComponent(e,t,n,r=null){if(t===void 0&&(t=this.getDataRefAttribute(e)),t){const i=this[t];if(i===Ie)this[t]=r??e;else{const s=n&&n[t];if(!this.suppressDataRefValidation&&!s)throw new Error(`data-ref: ${t} on ${this.constructor.name} with ${i}`)}}}createChildComponentsFromTags(e,t){gO(e.childNodes).forEach(r=>{if(!(r instanceof HTMLElement))return;const i=this.createComponentFromElement(r,s=>{s.getGui()&&this.copyAttributesFromNode(r,s.getGui())},t);if(i){if(i.addItems&&r.children.length){this.createChildComponentsFromTags(r,t);const s=Array.prototype.slice.call(r.children);i.addItems(s)}this.swapComponentForNode(i,e,r)}else r.childNodes&&this.createChildComponentsFromTags(r,t)})}createComponentFromElement(e,t,n){const r=e.nodeName,i=this.getDataRefAttribute(e),s=r.indexOf("AG-")===0,o=s?this.componentSelectors.get(r):null;let l=null;if(o){const c=n&&i?n[i]:void 0;l=new o.component(c),l.setParentComponent(this),this.createBean(l,null,t)}else if(s)throw new Error(`selector: ${r}`);return this.applyElementsToComponent(e,i,n,l),l}copyAttributesFromNode(e,t){mO(e.attributes,(n,r)=>t.setAttribute(n,r))}swapComponentForNode(e,t,n){const r=e.getGui();t.replaceChild(r,n),t.insertBefore(document.createComment(n.nodeName),r),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e){const t=this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(n=>n.setAttribute("tabindex",t.toString()))}setTemplate(e,t,n){const r=Xl(e);this.setTemplateFromElement(r,t,n)}setTemplateFromElement(e,t,n,r=!1){if(this.eGui=e,this.suppressDataRefValidation=r,t)for(let i=0;i<t.length;i++){const s=t[i];this.componentSelectors.set(s.selector,s)}this.wireTemplate(e,n)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,t){let n=t;return e==null?null:(n||(n=this.eGui),uC(e)?{element:e,parent:n}:{element:e.getGui(),parent:n})}prependChild(e,t){const{element:n,parent:r}=this.getContainerAndElement(e,t)||{};!n||!r||r.insertAdjacentElement("afterbegin",n)}appendChild(e,t){const{element:n,parent:r}=this.getContainerAndElement(e,t)||{};!n||!r||r.appendChild(n)}isDisplayed(){return this.displayed}setVisible(e,t={}){if(e!==this.visible){this.visible=e;const{skipAriaHidden:n}=t;hO(this.eGui,e,{skipAriaHidden:n})}}setDisplayed(e,t={}){if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:n}=t;Ot(this.eGui,e,{skipAriaHidden:n});const r={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(r)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),super.destroy()}addGuiEventListener(e,t,n){this.eGui.addEventListener(e,t,n),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,t))}addCssClass(e){this.cssClassManager.addCssClass(e)}removeCssClass(e){this.cssClassManager.removeCssClass(e)}containsCssClass(e){return this.cssClassManager.containsCssClass(e)}addOrRemoveCssClass(e,t){this.cssClassManager.addOrRemoveCssClass(e,t)}registerCSS(e){this.css||(this.css=[]),this.css.push(e)}},Et=class Ol{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(n=>this.onDone(n),n=>this.onReject(n))}static all(t){return t.length?new Ol(n=>{let r=t.length;const i=new Array(r);t.forEach((s,o)=>{s.then(l=>{i[o]=l,r--,r===0&&n(i)})})}):Ol.resolve()}static resolve(t=null){return new Ol(n=>n(t))}then(t){return new Ol(n=>{this.status===1?n(t(this.resolution)):this.waiters.push(r=>n(t(r)))})}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(n=>n(t))}onReject(t){}};function bL(e){return e?e.prototype&&"getGui"in e.prototype:!1}function i0(e,t,n,r){const{name:i}=n;let s,o,l,c,d,f;if(t){const p=t,m=p[i+"Selector"],C=m?m(r):null,y=b=>{typeof b=="string"?s=b:b!=null&&b!==!0&&(e.isFrameworkComponent(b)?l=b:o=b)};C?(y(C.component),c=C.params,d=C.popup,f=C.popupPosition):y(p[i])}return{compName:s,jsComp:o,fwComp:l,paramsFromSelector:c,popupFromSelector:d,popupPositionFromSelector:f}}var RL=class extends te{constructor(){super(...arguments),this.beanName="userCompFactory"}wireBeans(e){this.agCompUtils=e.agCompUtils,this.registry=e.registry,this.frameworkCompWrapper=e.frameworkCompWrapper,this.gridOptions=e.gridOptions}getCompDetailsFromGridOptions(e,t,n,r=!1){return this.getCompDetails(this.gridOptions,e,t,n,r)}getCompDetails(e,t,n,r,i=!1){var E;const{name:s,cellRenderer:o}=t;let{compName:l,jsComp:c,fwComp:d,paramsFromSelector:f,popupFromSelector:p,popupPositionFromSelector:m}=i0(this.beans.frameworkOverrides,e,t,r),C;const y=P=>{const D=this.registry.getUserComponent(s,P);D&&(c=D.componentFromFramework?void 0:D.component,d=D.componentFromFramework?D.component:void 0,C=D.params)};if(l!=null&&y(l),c==null&&d==null&&n!=null&&y(n),c&&o&&!bL(c)&&(c=(E=this.agCompUtils)==null?void 0:E.adaptFunction(t,c)),!c&&!d){const{validation:P}=this.beans;i&&(l!==n||!n)?l?P!=null&&P.isProvidedUserComp(l)||ut(50,{compName:l}):n?P||ut(260,{...this.gos.getModuleErrorParams(),propName:s,compName:n}):ut(216,{name:s}):n&&!P&&ut(146,{comp:n});return}const b=this.mergeParams(e,t,r,f,C),R=c==null,x=c??d;return{componentFromFramework:R,componentClass:x,params:b,type:t,popupFromSelector:p,popupPositionFromSelector:m,newAgStackInstance:()=>this.newAgStackInstance(x,R,b,t)}}newAgStackInstance(e,t,n,r){var l;const i=!t;let s;i?s=new e:s=this.frameworkCompWrapper.wrap(e,r.mandatoryMethods,r.optionalMethods,r),this.createBean(s);const o=(l=s.init)==null?void 0:l.call(s,n);return o==null?Et.resolve(s):o.then(()=>s)}mergeParams(e,t,n,r=null,i){const s={...n,...i},o=e,l=o&&o[t.name+"Params"];if(typeof l=="function"){const c=l(n);Dn(s,c)}else typeof l=="object"&&Dn(s,l);return Dn(s,r),s}},xL={name:"dateComponent",mandatoryMethods:["getDate","setDate"],optionalMethods:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","refresh"]},EL={name:"dragAndDropImageComponent",mandatoryMethods:["setIcon","setLabel"]},FL={name:"headerComponent",optionalMethods:["refresh"]},PL={name:"innerHeaderComponent"},DL={name:"innerHeaderGroupComponent"},TL={name:"headerGroupComponent"},AL={name:"cellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},ML={name:"loadingCellRenderer",cellRenderer:!0},kL={name:"cellEditor",mandatoryMethods:["getValue"],optionalMethods:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},IL={name:"loadingOverlayComponent",optionalMethods:["refresh"]},OL={name:"noRowsOverlayComponent",optionalMethods:["refresh"]},LL={name:"tooltipComponent"},gC={name:"filter",mandatoryMethods:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethods:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},NL={name:"floatingFilterComponent",mandatoryMethods:["onParentModelChanged"],optionalMethods:["afterGuiAttached","refresh"]},BL={name:"fullWidthCellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},HL={name:"loadingCellRenderer",cellRenderer:!0},GL={name:"groupRowRenderer",optionalMethods:["afterGuiAttached"],cellRenderer:!0},VL={name:"detailCellRenderer",optionalMethods:["refresh"],cellRenderer:!0};function WL(e,t){return e.getCompDetailsFromGridOptions(EL,"agDragAndDropImage",t,!0)}function _L(e,t,n){return e.getCompDetails(t,FL,"agColumnHeader",n)}function zL(e,t,n){return e.getCompDetails(t,PL,void 0,n)}function jL(e,t){const n=t.columnGroup.getColGroupDef();return e.getCompDetails(n,TL,"agColumnGroupHeader",t)}function UL(e,t,n){return e.getCompDetails(t,DL,void 0,n)}function $L(e,t){return e.getCompDetailsFromGridOptions(BL,void 0,t,!0)}function KL(e,t){return e.getCompDetailsFromGridOptions(HL,"agLoadingCellRenderer",t,!0)}function qL(e,t){return e.getCompDetailsFromGridOptions(GL,"agGroupRowRenderer",t,!0)}function YL(e,t){return e.getCompDetailsFromGridOptions(VL,"agDetailCellRenderer",t,!0)}function QL(e,t,n){return e.getCompDetails(t,AL,void 0,n)}function JL(e,t,n){return e.getCompDetails(t,ML,"agSkeletonCellRenderer",n,!0)}function BS(e,t,n){return e.getCompDetails(t,kL,"agCellEditor",n,!0)}function XL(e,t,n,r){return e.getCompDetails(t,gC,r,n,!0)}function ZL(e,t){return e.getCompDetailsFromGridOptions(xL,"agDateInput",t,!0)}function eN(e,t){return e.getCompDetailsFromGridOptions(IL,"agLoadingOverlay",t,!0)}function tN(e,t){return e.getCompDetailsFromGridOptions(OL,"agNoRowsOverlay",t,!0)}function nN(e,t){return e.getCompDetails(t.colDef,LL,"agTooltipComponent",t,!0)}function rN(e,t,n,r){return e.getCompDetails(t,NL,r,n)}function iN(e,t){return i0(e,t,gC)}function sN(e,t,n){return e.mergeParams(t,gC,n)}function ru(e){const t=e;return t!=null&&t.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var s0=new Set,zd={},eo={},cd,o0=!1,oN=!1;function aN(e){const[t,n]=e.version.split(".")||[],[r,i]=cd.split(".")||[];return t===r&&n===i}function lN(e){cd||(cd=e.version);const t=n=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${n} Please update all modules to the same version.`;if(e.version?aN(e)||ta(t(`'${e.moduleName}' is version ${e.version} but the other modules are version ${cd}.`)):ta(t(`'${e.moduleName}' is incompatible.`)),e.validate){const n=e.validate();n.isValid||ta(`${n.message}`)}}function iu(e,t){lN(e);const n=e.rowModels??["all"];s0.add(e);let r;t!==void 0?(o0=!0,eo[t]===void 0&&(eo[t]={}),r=eo[t]):r=zd,n.forEach(i=>{r[i]===void 0&&(r[i]={}),r[i][e.moduleName]=e}),e.dependsOn&&e.dependsOn.forEach(i=>iu(i,t))}function uN(e){delete eo[e]}function a0(e,t,n){const r=i=>{var s,o,l;return!!((s=zd[i])!=null&&s[e])||!!((l=(o=eo[t])==null?void 0:o[i])!=null&&l[e])};return r(n)||r("all")}function mC(){return o0}function cN(e,t){const n=eo[e]??{};return[...Object.values(zd.all??{}),...Object.values(n.all??{}),...Object.values(zd[t]??{}),...Object.values(n[t]??{})]}function dN(){return new Set(s0)}function hN(e,t){const n=eo[e]??{};return[...Object.values(n.all??{}),...Object.values(n[t]??{})]}function fN(){return oN}var pN=class{static register(e){iu(e,void 0)}static registerModules(e){e.forEach(t=>iu(t,void 0))}},gN=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){var t;for(const n of Object.keys(e.providedBeanInstances))this.beans[n]=e.providedBeanInstances[n];e.beanClasses.forEach(n=>{const r=new n;r.beanName?this.beans[r.beanName]=r:console.error(`Bean ${n.name} is missing beanName`),this.createdBeans.push(r)}),(t=e.derivedBeans)==null||t.forEach(n=>{const{beanName:r,bean:i}=n(this);this.beans[r]=i,this.createdBeans.push(i)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){if(!e)throw Error("null bean");return this.initBeans([e],t),e}initBeans(e,t){e.forEach(n=>{var r,i;(r=n.preWireBeans)==null||r.call(n,this.beans),(i=n.wireBeans)==null||i.call(n,this.beans)}),e.forEach(n=>{var r;return(r=n.preConstruct)==null?void 0:r.call(n)}),t&&e.forEach(t),e.forEach(n=>{var r;return(r=n.postConstruct)==null?void 0:r.call(n)})}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){var t;(t=e==null?void 0:e.destroy)==null||t.call(e)}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}},mN=class extends gN{init(e){this.gridId=e.gridId,this.beans.context=this,this.destroyCallback=e.destroyCallback,super.init(e)}destroy(){var e;super.destroy(),uN(this.gridId),(e=this.destroyCallback)==null||e.call(this)}getGridId(){return this.gridId}},CN="ag-column-first",vN="ag-column-last";function l0(e,t,n,r){return Ft(e)?[]:yN(e.headerClass,e,t,n,r)}function u0(e,t,n){e.addOrRemoveCssClass(CN,n.isColAtEdge(t,"first")),e.addOrRemoveCssClass(vN,n.isColAtEdge(t,"last"))}function wN(e,t,n,r){return Le(t,{colDef:e,column:n,columnGroup:r})}function yN(e,t,n,r,i){if(Ft(e))return[];let s;if(typeof e=="function"){const o=wN(t,n,r,i);s=e(o)}else s=e;return typeof s=="string"?[s]:Array.isArray(s)?[...s]:[]}function ki(e,t){const n=OE(e);n.requestAnimationFrame?n.requestAnimationFrame(t):n.webkitRequestAnimationFrame?n.webkitRequestAnimationFrame(t):n.setTimeout(t,0)}var SN=class extends te{constructor(){super(...arguments),this.beanName="animationFrameSvc",this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}setScrollTop(e){const{gos:t,pagination:n}=this.beans,r=t.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,r&&e===0){const i=(n==null?void 0:n.getCurrentPage())??0;i!==this.lastPage&&(this.lastPage=i,this.scrollGoingDown=!0)}this.lastScrollTop=e}postConstruct(){this.active=!this.gos.get("suppressAnimationFrame")}verifyAnimationFrameOn(e){this.active===!1&&he(92,{methodName:e})}createTask(e,t,n){this.verifyAnimationFrameOn(n);const r={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[n],r),this.schedule()}cancelTask(e){this.cancelledTasks.add(e)}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((n,r)=>n.index!==r.index?t*(r.index-n.index):r.createOrder-n.createOrder),e.sorted=!0}addDestroyTask(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()}executeFrame(e){this.verifyAnimationFrameOn("executeFrame");const t=this.createTasksP1,n=t.list,r=this.createTasksP2,i=r.list,s=this.destroyTasks,o=new Date().getTime();let l=new Date().getTime()-o;const c=e<=0,d=this.beans.ctrlsSvc.getScrollFeature();for(;c||l<e;){if(!d.scrollGridIfNeeded()){let p;if(n.length)this.sortTaskList(t),p=n.pop().task;else if(i.length)this.sortTaskList(r),p=i.pop().task;else if(s.length)p=s.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(p)||p()}l=new Date().getTime()-o}n.length||i.length||s.length?this.requestFrame():this.ticking=!1}flushAllFrames(){this.active&&this.executeFrame(-1)}schedule(){this.active&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);ki(this.beans,e)}isQueueEmpty(){return!this.ticking}},X={BACKSPACE:"Backspace",TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",DELETE:"Delete",F2:"F2",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",PAGE_HOME:"Home",PAGE_END:"End",A:"KeyA",C:"KeyC",D:"KeyD",V:"KeyV",X:"KeyX",Y:"KeyY",Z:"KeyZ"},om=!1,jd=0;function bN(e){jd>0||(e.addEventListener("keydown",Ud),e.addEventListener("mousedown",Ud))}function RN(e){jd>0||(e.removeEventListener("keydown",Ud),e.removeEventListener("mousedown",Ud))}function Ud(e){const t=om,n=e.type==="keydown";n&&(e.ctrlKey||e.metaKey||e.altKey)||t!==n&&(om=n)}function xN(e){const t=Gt(e);return bN(t),jd++,()=>{jd--,RN(t)}}function EN(){return om}function FN(e,t,n){t.addManagedElementListeners(n,{keydown:r=>{if(!r.defaultPrevented&&r.key===X.TAB){const i=r.shiftKey;vo(e,n,!1,i)||Ca(e,i)&&r.preventDefault()}}})}function sa(e,t,n=!1){const r=dO;let i=bE;t&&(i+=", "+t),n&&(i+=', [tabindex="-1"]');const s=Array.prototype.slice.apply(e.querySelectorAll(r)).filter(c=>Xr(c)),o=Array.prototype.slice.apply(e.querySelectorAll(i));return o.length?((c,d)=>c.filter(f=>d.indexOf(f)===-1))(s,o):s}function ho(e,t=!1,n=!1,r=!1){const i=sa(e,r?".ag-tab-guard":null,n),s=t?lt(i):i[0];return s?(s.focus({preventScroll:!0}),!0):!1}function vo(e,t,n,r){const i=sa(t,n?':not([tabindex="-1"])':null),s=Nt(e);let o;n?o=i.findIndex(c=>c.contains(s)):o=i.indexOf(s);const l=o+(r?-1:1);return l<0||l>=i.length?null:i[l]}function c0(e,t=5){let n=0;for(;e&&Jg(e)===null&&++n<=t;)e=e.parentElement;return Jg(e)===null?null:e}function PN(e,t){return e.ctrlsSvc.get("gridCtrl").focusInnerElement(t)}function to(e){var t;return e.gos.get("suppressHeaderFocus")||!!((t=e.overlays)!=null&&t.isExclusive())}function Sh(e){var t;return e.gos.get("suppressCellFocus")||!!((t=e.overlays)!=null&&t.isExclusive())}function Ca(e,t,n=!1){const r=e.ctrlsSvc.get("gridCtrl");return!n&&r.focusNextInnerContainer(t)?!0:((n||!t&&!r.isDetailGrid())&&r.forceFocusOutOfContainer(t),!1)}function DN(e,t=!1){return e===X.DELETE?!0:!t&&e===X.BACKSPACE?wE():!1}var TN=class extends te{constructor(e,t,n,r){super(),this.cellCtrl=e,this.rowNode=n,this.rowCtrl=r,this.beans=t}init(){this.eGui=this.cellCtrl.eGui}onKeyDown(e){const t=e.key;switch(t){case X.ENTER:this.onEnterKeyDown(e);break;case X.F2:this.onF2KeyDown(e);break;case X.ESCAPE:this.onEscapeKeyDown(e);break;case X.TAB:this.onTabKeyDown(e);break;case X.BACKSPACE:case X.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case X.DOWN:case X.UP:case X.RIGHT:case X.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){var n;if(!this.cellCtrl.editing){if(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled())this.onShiftRangeSelect(e);else{const r=this.cellCtrl.getFocusedCellPosition();(n=this.beans.navigation)==null||n.navigateToNextCell(e,t,r,!0)}e.preventDefault()}}onShiftRangeSelect(e){const{rangeSvc:t,navigation:n}=this.beans;if(!t)return;const r=t.extendLatestRangeInDirection(e);r&&(n==null||n.ensureCellVisible(r))}onTabKeyDown(e){var t;(t=this.beans.navigation)==null||t.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){var c;const{cellCtrl:n,beans:r,rowNode:i}=this,{gos:s,rangeSvc:o,eventSvc:l}=r;if(!n.editing){if(l.dispatchEvent({type:"keyShortcutChangedCellStart"}),DN(e,s.get("enableCellEditingOnBackspace"))){if(o&&ms(s))o.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(n.isCellEditable()){const{column:d}=n,f=this.beans.valueSvc.getDeleteValue(d,i);i.setDataValue(d,f,"cellClear")}}else(c=r.editSvc)==null||c.startRowOrCellEdit(n,e,t);l.dispatchEvent({type:"keyShortcutChangedCellEnd"})}}onEnterKeyDown(e){var r,i;const{cellCtrl:t,beans:n}=this;if(t.editing||this.rowCtrl.editing)t.stopEditingAndFocus(!1,e.shiftKey);else if(n.gos.get("enterNavigatesVertically")){const s=e.shiftKey?X.UP:X.DOWN;(r=n.navigation)==null||r.navigateToNextCell(null,s,t.cellPosition,!1)}else(i=n.editSvc)==null||i.startRowOrCellEdit(t,X.ENTER,e),t.editing&&e.preventDefault()}onF2KeyDown(e){var r;const{cellCtrl:t,beans:n}=this;t.editing||(r=n.editSvc)==null||r.startRowOrCellEdit(t,X.F2,e)}onEscapeKeyDown(e){var r;const{cellCtrl:t,beans:n}=this;t.editing&&((r=n.editSvc)==null||r.stopRowOrCellEdit(t,!0),t.focusCell(!0))}processCharacter(e){var i;if(e.target!==this.eGui||this.cellCtrl.editing)return;const r=e.key;r===X.SPACE?this.onSpaceKeyDown(e):(i=this.beans.editSvc)!=null&&i.startRowOrCellEdit(this.cellCtrl,r,e)&&e.preventDefault()}onSpaceKeyDown(e){var n;const{gos:t}=this.beans;!this.cellCtrl.editing&&Xs(t)&&((n=this.beans.selectionSvc)==null||n.handleSelectionEvent(e,this.rowNode,"spaceKey")),e.preventDefault()}destroy(){super.destroy()}},AN=class extends te{constructor(e,t,n){super(),this.cellCtrl=e,this.column=n,this.beans=t}onMouseEvent(e,t){if(!Si(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){var d;if((d=this.beans.touchSvc)!=null&&d.handleCellDoubleClick(this,e))return;const{eventSvc:t,rangeSvc:n,gos:r,editSvc:i}=this.beans,s=e.ctrlKey||e.metaKey;n&&s&&n.getCellRangeCount(this.cellCtrl.cellPosition)>1&&n.intersectLastRange(!0);const o=this.cellCtrl.createEvent(e,"cellClicked");t.dispatchEvent(o);const l=this.column.getColDef();l.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{l.onCellClicked(o)})},0),(r.get("singleClickEdit")||l.singleClickEdit)&&!r.get("suppressClickEdit")&&!(e.shiftKey&&(n==null?void 0:n.getCellRanges().length)!=0)&&(i==null||i.startRowOrCellEdit(this.cellCtrl,void 0,e))}onCellDoubleClicked(e){const{column:t,beans:n,cellCtrl:r}=this,{eventSvc:i,frameworkOverrides:s,gos:o,editSvc:l}=n,c=t.getColDef(),d=r.createEvent(e,"cellDoubleClicked");i.dispatchEvent(d),typeof c.onCellDoubleClicked=="function"&&window.setTimeout(()=>{s.wrapOutgoing(()=>{c.onCellDoubleClicked(d)})},0),!o.get("singleClickEdit")&&!o.get("suppressClickEdit")&&(l==null||l.startRowOrCellEdit(r,null,e))}onMouseDown(e){const{ctrlKey:t,metaKey:n,shiftKey:r}=e,i=e.target,{cellCtrl:s,beans:o}=this,{eventSvc:l,rangeSvc:c,rowNumbersSvc:d,focusSvc:f,gos:p}=o;if(this.isRightClickInExistingRange(e))return;const m=c&&!c.isEmpty(),C=this.containsWidget(i),{cellPosition:y}=s,b=vu(y.column);if(d&&b&&!d.handleMouseDownOnCell(y,e)){c&&e.preventDefault(),e.stopImmediatePropagation();return}if(!r||!m){const x=p.get("enableCellTextSelection")&&e.defaultPrevented,E=(bs()||x)&&!s.editing&&!oC(i)&&!C;s.focusCell(E)}if(r&&m&&!f.isCellFocused(y)){e.preventDefault();const R=f.getFocusedCell();if(R){const{column:x,rowIndex:E,rowPinned:P}=R,D=o.rowRenderer.getRowByPosition({rowIndex:E,rowPinned:P}),A=D==null?void 0:D.getCellCtrl(x);A!=null&&A.editing&&A.stopEditing(),f.setFocusedCell({column:x,rowIndex:E,rowPinned:P,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!C){if(c)if(b&&e.preventDefault(),r)c.extendLatestRangeToCell(y);else{const R=t||n;c.setRangeToCell(y,R)}l.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){const{rangeSvc:t}=this.beans;if(t){const n=t.isCellInAnyRange(this.cellCtrl.cellPosition),r=e.button===2||e.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(n&&r)return!0}return!1}containsWidget(e){return Qs(e,"ag-selection-checkbox",3)||Qs(e,"ag-drag-handle",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),n==null||n.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),n==null||n.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.eGui,n=t.contains(e.target),r=t.contains(e.relatedTarget);return n&&r}destroy(){super.destroy()}},MN=class extends te{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.column,this.rowNode=e.rowNode}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}init(){this.eSetLeft=this.cellCtrl.getRootElement(),this.eContent=this.cellCtrl.eGui;const e=this.cellCtrl.getCellSpan();e||(this.setupColSpan(),this.setupRowSpan()),this.onLeftChanged(),this.onWidthChanged(),e||this._legacyApplyRowSpan(),e&&(this.refreshSpanHeight(e),this.addManagedListeners(this.beans.eventSvc,{modelUpdated:this.refreshSpanHeight.bind(this,e),recalculateRowBounds:this.refreshSpanHeight.bind(this,e)}))}refreshSpanHeight(e){const t=e.getCellHeight();t!=null&&(this.eContent.style.height=`${t}px`)}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this._legacyApplyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();Co(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eContent)return;const e=this.getCellWidth();this.eContent.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const{column:e,rowNode:t}=this,n=e.getColSpan(t),r=[];if(n===1)r.push(e);else{let i=e;const s=e.getPinned();for(let o=0;i&&o<n&&(r.push(i),i=this.beans.visibleCols.getColAfter(i),!(!i||Ft(i)||s!==i.getPinned()));o++);}return r}onLeftChanged(){if(!this.eSetLeft)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eSetLeft.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=lt(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.printLayout||this.column.getPinned()==="left")return e;const{visibleCols:t}=this.beans,n=t.getColsLeftWidth();if(this.column.getPinned()==="right"){const r=t.bodyWidth;return n+r+(e||0)}return n+(e||0)}_legacyApplyRowSpan(e){if(this.rowSpan===1&&!e)return;const n=Zs(this.beans)*this.rowSpan;this.eContent.style.height=`${n}px`,this.eContent.style.zIndex="1"}destroy(){super.destroy()}},kN="ag-cell",IN="ag-cell-auto-height",ON="ag-cell-normal-height",LN="ag-cell-focus",NN="ag-cell-first-right-pinned",BN="ag-cell-last-left-pinned",HN="ag-cell-not-inline-editing",GN="ag-cell-wrap-text",$d="cellCtrl";function d0(e,t){return _E(e,t,$d)}var VN=0,Vl=class extends te{constructor(e,t,n,r){super(),this.column=e,this.rowNode=t,this.rowCtrl=r,this.rangeFeature=void 0,this.positionFeature=void 0,this.customStyleFeature=void 0,this.tooltipFeature=void 0,this.mouseListener=void 0,this.keyboardListener=void 0,this.suppressRefreshCell=!1,this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.beans=n;const{colId:i,colIdSanitised:s}=e;this.instanceId=i+"-"+VN++,this.colIdSanitised=s,this.createCellPosition(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusSvc.shouldRestoreFocus(this.cellPosition)}onFocusOut(){this.beans.focusSvc.clearRestoreFocus()}addFeatures(){var r;const{beans:e}=this;this.positionFeature=new MN(this,e),this.customStyleFeature=(r=e.cellStyles)==null?void 0:r.createCellCustomStyleFeature(this,e),this.mouseListener=new AN(this,e,this.column),this.keyboardListener=new TN(this,e,this.rowNode,this.rowCtrl),this.column.isTooltipEnabled()&&this.enableTooltipFeature();const{rangeSvc:t}=e;t&&ms(e.gos)&&(this.rangeFeature=t.createCellRangeFeature(e,this))}isCellSpanning(){return!1}getCellSpan(){}removeFeatures(){const e=this.beans.context;this.positionFeature=e.destroyBean(this.positionFeature),this.customStyleFeature=e.destroyBean(this.customStyleFeature),this.mouseListener=e.destroyBean(this.mouseListener),this.keyboardListener=e.destroyBean(this.keyboardListener),this.rangeFeature=e.destroyBean(this.rangeFeature),this.disableTooltipFeature()}enableTooltipFeature(e,t){var n;this.tooltipFeature=(n=this.beans.tooltipSvc)==null?void 0:n.enableCellTooltipFeature(this,e,t)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}setComp(e,t,n,r,i,s,o){var l,c,d,f,p,m;this.comp=e,this.eGui=t,this.printLayout=i,o??(o=this),this.addDomData(o),this.addFeatures(),o.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(r,o),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),(l=this.positionFeature)==null||l.init(),(c=this.customStyleFeature)==null||c.setComp(e),(d=this.tooltipFeature)==null||d.refreshTooltip(),(f=this.keyboardListener)==null||f.init(),(p=this.rangeFeature)==null||p.setComp(e),s&&this.isCellEditable()?(m=this.beans.editSvc)==null||m.startEditing(this):this.showValue(!1,!0),this.onCompAttachedFuncs.length&&(this.onCompAttachedFuncs.forEach(C=>C()),this.onCompAttachedFuncs=[])}setupAutoHeight(e,t){var n;this.isAutoHeight=((n=this.beans.rowAutoHeight)==null?void 0:n.setupCellAutoHeight(this,e,t))??!1}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}showValue(e,t){var f;const{beans:n,column:r,rowNode:i,rangeFeature:s}=this,{userCompFactory:o}=n,l=this.getValueToDisplay();let c;if(i.stub&&((f=i.groupData)==null?void 0:f[r.getId()])==null){const p=this.createCellRendererParams();c=JL(o,r.getColDef(),p)}else if(this.isCellRenderer()){const p=this.createCellRendererParams();c=QL(o,r.getColDef(),p)}this.comp.setRenderDetails(c,l,e),!t&&s&&ki(n,()=>s==null?void 0:s.refreshHandle())}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(e)),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.comp.setIncludeSelection(this.includeSelection),this.comp.setIncludeDndSource(this.includeDndSource),this.comp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e){return this.rowNode.rowPinned!=null?!1:typeof e=="function"||e===!0}isCheckboxSelection(e){const{rowSelection:t}=this.beans.gridOptions;return e.checkboxSelection||Ei(this.column)&&t&&typeof t!="string"&&ra(t)}refreshShouldDestroy(){const e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(e)),n=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),r=this.includeDndSource!=this.isIncludeControl(e.dndSource),i=this.isAutoHeight!=this.column.isAutoHeight();return t||n||r||i}onPopupEditorClosed(){this.editing&&this.stopEditingAndFocus()}stopEditing(e=!1){var t;return((t=this.beans.editSvc)==null?void 0:t.stopEditing(this,e))??!1}createCellRendererParams(){const{value:e,valueFormatted:t,column:n,rowNode:r,comp:i,eGui:s,beans:{valueSvc:o,gos:l}}=this;return Le(l,{value:e,valueFormatted:t,getValue:()=>o.getValueForDisplay(n,r),setValue:d=>o.setValue(r,n,d),formatValue:this.formatValue.bind(this),data:r.data,node:r,pinned:n.getPinned(),colDef:n.getColDef(),column:n,refreshCell:this.refreshCell.bind(this),eGridCell:s,eParentOfValue:i.getParentOfValue(),registerRowDragger:(d,f,p,m)=>this.registerRowDragger(d,f,m),setTooltip:(d,f)=>{var p;l.assertModuleRegistered("Tooltip",3),this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(d,f),(p=this.tooltipFeature)==null||p.refreshTooltip()}})}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){var t;this.refreshShouldDestroy()?(t=this.rowCtrl)==null||t.recreateCell(this):this.refreshCell(e)}refreshCell(e){var d,f,p,m,C,y;if(this.suppressRefreshCell||this.editing)return;const t=this.column.getColDef(),n=e!=null&&!!e.newData,r=e!=null&&!!e.suppressFlash,i=t.field==null&&t.valueGetter==null&&t.showRowGroup==null,s=e&&e.forceRefresh||i||n,o=!!this.comp,l=this.updateAndFormatValue(o),c=s||l;if(o){if(c){this.showValue(n,!1);const b=(d=this.beans.filterManager)==null?void 0:d.isSuppressFlashingCellsBecauseFiltering();!r&&!b&&t.enableCellChangeFlash&&((f=this.beans.cellFlashSvc)==null||f.flashCell(this)),(p=this.customStyleFeature)==null||p.applyUserStyles(),(m=this.customStyleFeature)==null||m.applyClassesFromColDef()}(C=this.tooltipFeature)==null||C.refreshTooltip(),(y=this.customStyleFeature)==null||y.applyCellClassRules()}}stopEditingAndFocus(e=!1,t=!1){var n;(n=this.beans.editSvc)==null||n.stopEditingAndFocus(this,e,t)}isCellEditable(){return this.column.isCellEditable(this.rowNode)}formatValue(e){return this.callValueFormatter(e)??e}callValueFormatter(e){return this.beans.valueSvc.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){const t=this.value,n=this.valueFormatted;return this.value=this.beans.valueSvc.getValueForDisplay(this.column,this.rowNode),this.valueFormatted=this.callValueFormatter(this.value),e?!this.valuesAreEqual(t,this.value)||this.valueFormatted!=n:!0}valuesAreEqual(e,t){const n=this.column.getColDef();return n.equals?n.equals(e,t):e===t}addDomData(e){const t=this.eGui;co(this.beans.gos,t,$d,this),e.addDestroyFunc(()=>co(this.beans.gos,t,$d,null))}createEvent(e,t){const{rowNode:n,column:r,value:i,beans:s}=this;return Le(s.gos,{type:t,node:n,data:n.data,value:i,column:r,colDef:r.getColDef(),rowPinned:n.rowPinned,event:e,rowIndex:n.rowIndex})}processCharacter(e){var t;(t=this.keyboardListener)==null||t.processCharacter(e)}onKeyDown(e){var t;(t=this.keyboardListener)==null||t.onKeyDown(e)}onMouseEvent(e,t){var n;(n=this.mouseListener)==null||n.onMouseEvent(e,t)}getColSpanningList(){return this.positionFeature.getColSpanningList()}onLeftChanged(){var e;this.comp&&((e=this.positionFeature)==null||e.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{comp:e,column:t,beans:n}=this;u0(e,t,n.visibleCols)}refreshAriaColIndex(){const e=this.beans.visibleCols.getAriaColIndex(this.column);mE(this.eGui,e)}onWidthChanged(){var e;return(e=this.positionFeature)==null?void 0:e.onWidthChanged()}getRowPosition(){const{rowIndex:e,rowPinned:t}=this.cellPosition;return{rowIndex:e,rowPinned:t}}updateRangeBordersIfRangeCount(){var e;this.comp&&((e=this.rangeFeature)==null||e.updateRangeBordersIfRangeCount())}onCellSelectionChanged(){var e;this.comp&&((e=this.rangeFeature)==null||e.onCellSelectionChanged())}isRangeSelectionEnabled(){return this.rangeFeature!=null}focusCell(e=!1){this.beans.focusSvc.setFocusedCell({...this.getFocusedCellPosition(),forceBrowserFocus:e})}onRowIndexChanged(){var e;this.createCellPosition(),this.onCellFocused(),(e=this.rangeFeature)==null||e.onCellSelectionChanged()}onSuppressCellFocusChanged(e){const t=this.eGui;t&&(vu(this.column)&&(e=!0),sr(t,"tabindex",e?void 0:-1))}onFirstRightPinnedChanged(){if(!this.comp)return;const e=this.column.isFirstRightPinned();this.comp.addOrRemoveCssClass(NN,e)}onLastLeftPinnedChanged(){if(!this.comp)return;const e=this.column.isLastLeftPinned();this.comp.addOrRemoveCssClass(BN,e)}isCellFocused(){return this.beans.focusSvc.isCellFocused(this.cellPosition)}onCellFocused(e){var i;const{beans:t}=this;if(Sh(t))return;const n=this.isCellFocused();if(!this.comp){n&&(e!=null&&e.forceBrowserFocus)&&(this.focusEventToRestore=e);return}if(this.focusEventToRestore=void 0,this.comp.addOrRemoveCssClass(LN,n),n&&e&&e.forceBrowserFocus){let s=this.comp.getFocusableElement();if(this.editing){const o=sa(s,null,!0);o.length&&(s=o[0])}s.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}const r=t.gos.get("editType")==="fullRow";!n&&!r&&this.editing&&((i=t.editSvc)==null||i.stopRowOrCellEdit(this)),n&&this.rowCtrl.announceDescription()}createCellPosition(){const{rowIndex:e,rowPinned:t}=this.rowNode;this.cellPosition={rowIndex:e,rowPinned:yi(t),column:this.column}}setInlineEditingCss(){var e;(e=this.beans.editSvc)==null||e.setInlineEditingCss(this.rowCtrl)}applyStaticCssClasses(){const{comp:e}=this;e.addOrRemoveCssClass(kN,!0),e.addOrRemoveCssClass(HN,!0);const t=this.column.isAutoHeight()==!0;e.addOrRemoveCssClass(IN,t),e.addOrRemoveCssClass(ON,!t)}onColumnHover(){var e;(e=this.beans.colHover)==null||e.onCellColumnHover(this.column,this.comp)}onColDefChanged(){var e;this.comp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing?(e=this.beans.editSvc)==null||e.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0}))}setWrapText(){const e=this.column.getColDef().wrapText==!0;this.comp.addOrRemoveCssClass(GN,e)}dispatchCellContextMenuEvent(e){const t=this.column.getColDef(),n=this.createEvent(e,"cellContextMenu"),{beans:r}=this;r.eventSvc.dispatchEvent(n),t.onCellContextMenu&&window.setTimeout(()=>{r.frameworkOverrides.wrapOutgoing(()=>{t.onCellContextMenu(n)})},0)}getCellRenderer(){var e;return((e=this.comp)==null?void 0:e.getCellRenderer())??null}destroy(){this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){var t;const e=(t=this.beans.selectionSvc)==null?void 0:t.createCheckboxSelectionComponent();if(e)return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=this.beans.registry.createDynamicBean("dndSourceComp",!1,this.rowNode,this.column,this.eGui);return e&&this.beans.context.createBean(e),e}registerRowDragger(e,t,n){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,t);return}const r=this.createRowDragComp(e,t,n);r&&(this.customRowDragComp=r,this.addDestroyFunc(()=>{this.beans.context.destroyBean(r),this.customRowDragComp=null}))}createRowDragComp(e,t,n){var i;const r=(i=this.beans.rowDragSvc)==null?void 0:i.createRowDragCompForCell(this.rowNode,this.column,()=>this.value,e,t,n);if(r)return this.beans.context.createBean(r),r}cellEditorAttached(){this.onEditorAttachedFuncs.forEach(e=>e()),this.onEditorAttachedFuncs=[]}setFocusedCellPosition(e){}getFocusedCellPosition(){return this.cellPosition}refreshAriaRowIndex(){}getRootElement(){return this.eGui}},h0="__ag_grid_instance";function f0(e,t){t[h0]=e.gridInstanceId}function Kd(e,t){return p0(e,t.target)}function p0(e,t){let n=t;for(;n;){const r=n[h0];if(Ce(r))return r===e.gridInstanceId;n=n.parentElement}return!1}function WN(e,t){var n;return((n=d0(e,t.target))==null?void 0:n.getFocusedCellPosition())??null}function og(e,t){const n=tn(e.gos,"normal"),r=t;let i,s;if(r.clientX!=null||r.clientY!=null?(i=r.clientX,s=r.clientY):(i=r.x,s=r.y),n){const o=e.ctrlsSvc.getScrollFeature(),l=o.getVScrollPosition(),c=o.getHScrollPosition();i+=c.left,s+=l.top}return{x:i,y:s}}var _N=class extends te{constructor(){super(...arguments),this.beanName="dragAndDrop",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.dragSvc=e.dragSvc,this.environment=e.environment,this.userCompFactory=e.userCompFactory}addDragSource(e,t=!1){const n={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:n,dragSource:e}),this.dragSvc.addDragSource(n)}getDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;return!e||!e.comp?null:e.comp}removeDragSource(e){const{dragSourceAndParamsList:t,dragSvc:n}=this,r=t.find(i=>i.dragSource===e);r&&(n.removeDragSource(r.params),Pr(t,r))}destroy(){const{dragSourceAndParamsList:e,dragSvc:t,dropTargets:n}=this;e.forEach(r=>t.removeDragSource(r.params)),e.length=0,n.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){var n;this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=e.getDragItem(),(n=e.onDragStarted)==null||n.call(e),this.createDragAndDropImageComponent()}onDragStop(e){var n,r;(r=(n=this.dragSource)==null?void 0:n.onDragStopped)==null||r.call(n);const{lastDropTarget:t}=this;if(t!=null&&t.onDragStop){const i=this.createDropTargetEvent(t,e,null,null,!1);t.onDragStop(i)}this.clearDragAndDropProperties()}onDragCancel(){var n;const{dragSource:e,lastDropTarget:t}=this;(n=e==null?void 0:e.onDragCancelled)==null||n.call(e),t!=null&&t.onDragCancel&&t.onDragCancel(this.createDropTargetEvent(t,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e,t=!1){var f,p;const n=this.getHorizontalDirection(e),r=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);const i=this.dropTargets.filter(m=>this.isMouseOnDropTarget(e,m)),s=this.findCurrentDropTarget(e,i),{lastDropTarget:o,dragSource:l,dragAndDropImageComp:c,dragItem:d}=this;if(s!==o){if(this.leaveLastTargetIfExists(e,n,r,t),o!==null&&s===null&&((f=l==null?void 0:l.onGridExit)==null||f.call(l,d)),o===null&&s!==null&&((p=l==null?void 0:l.onGridEnter)==null||p.call(l,d)),this.enterDragTargetIfExists(s,e,n,r,t),s&&c){const{comp:m,promise:C}=c;m?m.setIcon(s.getIconName?s.getIconName():null,!1):C.then(y=>{y&&y.setIcon(s.getIconName?s.getIconName():null,!1)})}this.lastDropTarget=s}else if(s&&s.onDragging){const m=this.createDropTargetEvent(s,e,n,r,t);s.onDragging(m)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,n=[[e.getContainer()]];return t?n.concat(t):n}isMouseOnDropTarget(e,t){const n=this.getAllContainersFromDropTarget(t);let r=!1;const i=(l,c)=>{for(const d of c){const{width:f,height:p,left:m,right:C,top:y,bottom:b}=d.getBoundingClientRect();if(f===0||p===0)return!1;const R=l.clientX>=m&&l.clientX<C,x=l.clientY>=y&&l.clientY<b;if(!R||!x)return!1}return!0};for(const l of n)if(i(e,l)){r=!0;break}const{eElement:s,type:o}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(s)?!1:r&&t.isInterestedIn(o,s)}findCurrentDropTarget(e,t){const n=t.length;if(n===0)return null;if(n===1)return t[0];const i=eu(this.beans).elementsFromPoint(e.clientX,e.clientY);for(const s of i)for(const o of t)if(this.getAllContainersFromDropTarget(o).flatMap(c=>c).indexOf(s)!==-1)return o;return null}enterDragTargetIfExists(e,t,n,r,i){if(e&&e.onDragEnter){const s=this.createDropTargetEvent(e,t,n,r,i);e.onDragEnter(s)}}leaveLastTargetIfExists(e,t,n,r){const{lastDropTarget:i}=this;if(!i)return;if(i.onDragLeave){const o=this.createDropTargetEvent(i,e,t,n,r);i.onDragLeave(o)}const s=this.getDragAndDropImageComponent();s&&s.setIcon(null,!1)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(n=>n.external).find(n=>n.getContainer()===e.getContainer())||null}isDropZoneWithinThisGrid(e){const n=this.ctrlsSvc.getGridBodyCtrl().eGridBody,{dropZoneTarget:r}=e;return n.contains(r)}getHorizontalDirection(e){var r;const t=(r=this.eventLastTime)==null?void 0:r.clientX,n=e.clientX;return t===n?null:t>n?"left":"right"}getVerticalDirection(e){var r;const t=(r=this.eventLastTime)==null?void 0:r.clientY,n=e.clientY;return t===n?null:t>n?"up":"down"}createDropTargetEvent(e,t,n,r,i){const s=e.getContainer(),o=s.getBoundingClientRect(),{dragItem:l,dragSource:c,gos:d}=this,f=t.clientX-o.left,p=t.clientY-o.top;return Le(d,{event:t,x:f,y:p,vDirection:r,hDirection:n,dragSource:c,fromNudge:i,dragItem:l,dropZoneTarget:s})}positionDragAndDropImageComp(e){const t=this.getDragAndDropImageComponent();t&&AO(t.getGui(),e,this.beans)}removeDragAndDropImageComponent(){var t;const{dragAndDropImageComp:e}=this;if(e){const{comp:n}=e;if(n){const r=n.getGui();(t=this.dragAndDropImageParent)==null||t.removeChild(r),this.destroyBean(n)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){const{dragSource:e,gos:t,userCompFactory:n}=this;if(!e)return;const r=WL(n,Le(t,{dragSource:e}));if(!r)return;const i=r.newAgStackInstance();this.dragAndDropImageComp={promise:i},i.then(s=>{!s||!this.isAlive()||(this.processDragAndDropImageComponent(s),this.dragAndDropImageComp.comp=s)})}processDragAndDropImageComponent(e){const{dragSource:t,environment:n}=this;if(!t)return;const r=e.getGui();r.style.setProperty("position","absolute"),r.style.setProperty("z-index","9999"),f0(this.gos,r),n.applyThemeClasses(r),e.setIcon(null,!1);let{dragItemName:i}=t;typeof i=="function"&&(i=i()),e.setLabel(i||""),r.style.top="20px",r.style.left="20px";const s=dC(this.beans);this.dragAndDropImageParent=s,s?s.appendChild(r):he(54)}registerGridDropTarget(e,t){const n={getContainer:e,isInterestedIn:r=>r===1||r===0,getIconName:()=>"notAllowed"};this.addDropTarget(n),t.addDestroyFunc(()=>this.removeDropTarget(n))}},zN=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){const n=t||this.shouldSkipVerticalScroll();if(n&&this.shouldSkipHorizontalScroll())return;const r=this.scrollContainer.getBoundingClientRect(),i=this.scrollByTick;this.tickLeft=e.clientX<r.left+i,this.tickRight=e.clientX>r.right-i,this.tickUp=e.clientY<r.top+i&&!n,this.tickDown=e.clientY>r.bottom-i&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}};function jN(e){const{rowIndex:t,rowPinned:n,column:r}=e;return`${t}.${n??"null"}.${r.getId()}`}function am(e,t){const n=e.column===t.column,r=e.rowPinned===t.rowPinned,i=e.rowIndex===t.rowIndex;return n&&r&&i}function UN(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(Ce(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}function $N(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}function KN(e){let t=0,n;const{pinnedRowModel:r,rowModel:i,pageBounds:s}=e;return r!=null&&r.getPinnedTopRowCount()?n="top":i.getRowCount()?(n=null,t=s.getFirstRow()):r!=null&&r.getPinnedBottomRowCount()&&(n="bottom"),n===void 0?null:{rowIndex:t,rowPinned:n}}function qN(e){let t,n=null;const{pinnedRowModel:r,pageBounds:i}=e,s=r==null?void 0:r.getPinnedBottomRowCount(),o=r==null?void 0:r.getPinnedTopRowCount();return s?(n="bottom",t=s-1):e.rowModel.getRowCount()?(n=null,t=i.getLastRow()):o&&(n="top",t=o-1),t===void 0?null:{rowIndex:t,rowPinned:n}}function qd(e,t){var n,r;switch(t.rowPinned){case"top":return(n=e.pinnedRowModel)==null?void 0:n.getPinnedTopRow(t.rowIndex);case"bottom":return(r=e.pinnedRowModel)==null?void 0:r.getPinnedBottomRow(t.rowIndex);default:return e.rowModel.getRow(t.rowIndex)}}function Zo(e,t){var i;const n=(i=e.spannedRowRenderer)==null?void 0:i.getCellByPosition(t);if(n)return n;const r=e.rowRenderer.getRowByPosition(t);return r?r.getCellCtrl(t.column):null}var YN=class extends te{constructor(e){super(),this.eContainer=e}postConstruct(){const{rowModel:e,gos:t,ctrlsSvc:n}=this.beans;un(t)&&(this.clientSideRowModel=e),n.whenReady(this,r=>{const i=r.gridBodyCtrl;this.autoScrollService=new zN({scrollContainer:i.eBodyViewport,scrollAxis:"y",getVerticalPosition:()=>i.scrollFeature.getVScrollPosition().top,setVerticalPosition:s=>i.scrollFeature.setVerticalScrollPosition(s),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){const{rowGroupColsSvc:e,filterManager:t,sortSvc:n}=this.beans;return!!(((e==null?void 0:e.columns)??[]).length||(t==null?void 0:t.isAnyFilterPresent())||(n==null?void 0:n.isSortActive()))}getRowNodes(e){var r;if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const i=[...((r=this.beans.selectionSvc)==null?void 0:r.getSelectedNodes())??[]].sort((s,o)=>s.rowIndex==null||o.rowIndex==null?0:this.getRowIndexNumber(s)-this.getRowIndexNumber(o));if(i.indexOf(t)!==-1)return i}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}onEnterOrDragging(e){this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e;const t=og(this.beans,e).y;this.gos.get("rowDragManaged")&&this.doManagedDrag(e,t),this.autoScrollService.check(e.event)}doManagedDrag(e,t){const{dragAndDrop:n,gos:r}=this.beans,i=this.isFromThisGrid(e),s=r.get("rowDragManaged"),o=e.dragItem.rowNodes;s&&this.shouldPreventRowMove()||(r.get("suppressMoveWhenRowDragging")||!i?n.isDropZoneWithinThisGrid(e)&&this.clientSideRowModel.highlightRowAtPixel(o[0],t):this.moveRows(o,t))}getRowIndexNumber(e){const t=e.getRowIndexString();return parseInt(lt(t.split("-")),10)}moveRowAndClearHighlight(e){const t=this.clientSideRowModel,n=t.getLastHighlightedRowNode(),r=n&&n.highlighted==="Below",i=og(this.beans,e).y,s=e.dragItem.rowNodes;let o=r?1:0;if(this.isFromThisGrid(e))s.forEach(l=>{l.rowTop<i&&(o-=1)}),this.moveRows(s,i,o);else{const l=pa(this.gos);let c=t.getRowIndexAtPixel(i)+1;t.getHighlightPosition(i)==="Above"&&c--,t.updateRowData({add:s.filter(d=>!t.getRowNode((l==null?void 0:l({data:d.data,level:0,rowPinned:d.rowPinned}))??d.data.id)).map(d=>d.data),addIndex:c})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(e,t,n=0){const r=this.beans.focusSvc,i=r.getFocusedCell(),s=i&&Zo(this.beans,i);this.clientSideRowModel.ensureRowsAtPixel(e,t,n)&&(s?s.focusCell():r.clearFocusedCell())}addRowDropZone(e){if(!e.getContainer()){he(55);return}const t=this.beans.dragAndDrop;if(t.findExternalZone(e)){he(56);return}let n={getContainer:e.getContainer};e.fromGrid?n=e:(e.onDragEnter&&(n.onDragEnter=i=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",i))}),e.onDragLeave&&(n.onDragLeave=i=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",i))}),e.onDragging&&(n.onDragging=i=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",i))}),e.onDragStop&&(n.onDragStop=i=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",i))}),e.onDragCancel&&(n.onDragCancel=i=>{e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",i))}));const r={isInterestedIn:i=>i===2,getIconName:()=>"move",external:!0,...n};t.addDropTarget(r),this.addDestroyFunc(()=>t.removeDropTarget(r))}getRowDropZone(e){const t=this.getContainer.bind(this),n=this.onDragEnter.bind(this),r=this.onDragLeave.bind(this),i=this.onDragging.bind(this),s=this.onDragStop.bind(this),o=this.onDragCancel.bind(this);let l;return e?l={getContainer:t,onDragEnter:e.onDragEnter?c=>{n(c),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",c))}:n,onDragLeave:e.onDragLeave?c=>{r(c),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",c))}:r,onDragging:e.onDragging?c=>{i(c),e.onDragging(this.draggingToRowDragEvent("rowDragMove",c))}:i,onDragStop:e.onDragStop?c=>{s(c),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",c))}:s,onDragCancel:e.onDragCancel?c=>{o(c),e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",c))}:o,fromGrid:!0}:l={getContainer:t,onDragEnter:n,onDragLeave:r,onDragging:i,onDragStop:s,onDragCancel:o,fromGrid:!0},l}draggingToRowDragEvent(e,t){const n=this.beans,{pageBounds:r,rowModel:i,gos:s}=n,o=og(n,t).y,l=o>r.getCurrentPageHeight();let c=-1,d;return l||(c=i.getRowIndexAtPixel(o),d=i.getRow(c)),Le(s,{type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:c,overNode:d,y:o,vDirection:t.vDirection})}dispatchGridEvent(e,t){const n=this.draggingToRowDragEvent(e,t);this.eventSvc.dispatchEvent(n)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.clearRowHighlight()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e);const{dragAndDrop:t,gos:n}=this.beans;n.get("rowDragManaged")&&(n.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e);const{dragAndDrop:t,gos:n}=this.beans;n.get("rowDragManaged")&&(n.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)&&this.clearRowHighlight()}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!1)})}setRowNodeDragging(e,t){e.dragging!==t&&(e.dragging=t,e.dispatchRowEvent("draggingChanged"))}};function g0(e,t,n){if(n===0)return!1;const r=Math.abs(e.clientX-t.clientX),i=Math.abs(e.clientY-t.clientY);return Math.max(r,i)<=n}var QN=class extends te{constructor(){super(...arguments),this.beanName="dragSvc",this.dragEndFunctions=[],this.dragSources=[]}destroy(){const{dragSources:e}=this;e.forEach(this.removeListener.bind(this)),e.length=0,super.destroy()}removeListener(e){const t=e.dragSource.eElement,n=e.mouseDownListener;if(t.removeEventListener("mousedown",n),e.touchEnabled){const r=e.touchStartListener;t.removeEventListener("touchstart",r,{passive:!0})}}removeDragSource(e){const{dragSources:t}=this,n=t.find(r=>r.dragSource===e);n&&(this.removeListener(n),Pr(t,n))}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:n,includeTouch:r,stopPropagationForTouch:i}=e;n.addEventListener("mousedown",t);let s=null;const o=this.gos.get("suppressTouch");r&&!o&&(s=l=>{oC(l.target)||(i&&l.stopPropagation(),this.onTouchStart(e,l))},n.addEventListener("touchstart",s,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:s,touchEnabled:!!r})}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const n=t.touches[0];this.touchLastTime=n,this.touchStart=n;const r=c=>this.onTouchMove(c,e.eElement),i=c=>this.onTouchUp(c,e.eElement),s=c=>{c.cancelable&&c.preventDefault()},o=t.target,l=[{target:eu(this.beans),type:"touchmove",listener:s,options:{passive:!1}},{target:o,type:"touchmove",listener:r,options:{passive:!0}},{target:o,type:"touchend",listener:i,options:{passive:!0}},{target:o,type:"touchcancel",listener:i,options:{passive:!0}}];this.addTemporaryEvents(l),e.dragStartPixels===0&&this.onCommonMove(n,this.touchStart,e.eElement)}onMouseDown(e,t){const n=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||n._alreadyProcessedByDragService||(n._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const r=d=>this.onMouseMove(d,e.eElement),i=d=>this.onMouseUp(d,e.eElement),s=d=>d.preventDefault(),o=d=>{d.key===X.ESCAPE&&this.cancelDrag(e.eElement)},l=eu(this.beans),c=[{target:l,type:"mousemove",listener:r},{target:l,type:"mouseup",listener:i},{target:l,type:"contextmenu",listener:s},{target:l,type:"keydown",listener:o}];this.addTemporaryEvents(c),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{const{target:n,type:r,listener:i,options:s}=t;n.addEventListener(r,i,s)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{const{target:n,type:r,listener:i,options:s}=t;n.removeEventListener(r,i,s)})})}isEventNearStartEvent(e,t){const{dragStartPixels:n}=this.currentDragParams,r=Ce(n)?n:4;return g0(e,t,r)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,n){var r;if(!this.dragging){if(this.isEventNearStartEvent(e,t))return;if(this.dragging=!0,this.eventSvc.dispatchEvent({type:"dragStarted",target:n}),this.currentDragParams.onDragStart(t),!this.currentDragParams){this.dragging=!1;return}this.currentDragParams.onDragging(t)}(r=this.currentDragParams)==null||r.onDragging(e)}onTouchMove(e,t){const n=this.getFirstActiveTouch(e.touches);n&&this.onCommonMove(n,this.touchStart,t)}onMouseMove(e,t){var n;bs()&&((n=Gt(this.beans).getSelection())==null||n.removeAllRanges()),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const{gos:t}=this,n=t.get("enableCellTextSelection"),r=e.type==="mousemove",i=s=>{const o=s.target,l=o==null?void 0:o.tagName.toLocaleLowerCase();return!!(l!=null&&l.match("^a$|textarea|input|select|button"))};return n&&r&&e.cancelable&&Kd(t,e)&&!i(e)}onTouchUp(e,t){let n=this.getFirstActiveTouch(e.changedTouches);n||(n=this.touchLastTime),this.onUpCommon(n,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventSvc.dispatchEvent({type:"dragStopped",target:t})),this.resetDragProperties()}cancelDrag(e){var t,n;this.eventSvc.dispatchEvent({type:"dragCancelled",target:e}),(n=(t=this.currentDragParams)==null?void 0:t.onDragCancel)==null||n.call(t),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null;const{dragEndFunctions:e}=this;e.forEach(t=>t()),e.length=0}};function m0(e,t){return e+"_"+t}function It(e){return e instanceof C0}var C0=class extends te{constructor(e,t,n,r){super(),this.providedColumnGroup=e,this.groupId=t,this.partId=n,this.pinned=r,this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}getUniqueId(){return m0(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{It(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const t=lt(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){var t;let e=0;return(t=this.displayedChildren)==null||t.forEach(n=>{e+=n.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){var e;return!!((e=this.getColGroupDef())!=null&&e.autoHeaderHeight)}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{Cs(t)?e.push(t):It(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{Cs(t)?e.push(t):It(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(n=>{if(It(n)&&(!n.displayedChildren||!n.displayedChildren.length))return;switch(n.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(n);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(n);break;default:this.displayedChildren.push(n);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},lm="row-group-",v0="t-",w0="b-",JN=0,va=class{constructor(e){this.master=!1,this.detail=void 0,this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped={},this.treeNode=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=JN++,this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.__selected=!1,this.beans=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){var l;const{valueCache:n,selectionSvc:r,rowSpanSvc:i}=this.beans,s=this.data;this.data=e,n==null||n.onDataChanged(),this.updateDataOnDetailNode(),r==null||r.updateRowSelectable(this),this.resetQuickFilterAggregateText();const o=this.createDataChangedEvent(e,s,t);(l=this.__localEventService)==null||l.dispatchEvent(o),i==null||i.onRowDataUpdated(this)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(e,t,n){return{type:"dataChanged",node:this,oldData:t,newData:e,update:n}}getRowIndexString(){return this.rowIndex==null?(ut(13),null):this.rowPinned==="top"?v0+this.rowIndex:this.rowPinned==="bottom"?w0+this.rowIndex:this.rowIndex.toString()}setDataAndId(e,t){var o,l;const{selectionSvc:n}=this.beans,r=(o=n==null?void 0:n.createDaemonNode)==null?void 0:o.call(n,this),i=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),n&&(n.updateRowSelectable(this),n.syncInRowNode(this,r));const s=this.createDataChangedEvent(e,i,!1);(l=this.__localEventService)==null||l.dispatchEvent(s)}setId(e){var n;const t=pa(this.beans.gos);if(t)if(this.data){const r=((n=this.parent)==null?void 0:n.getRoute())??[];this.id=t({data:this.data,parentKeys:r.length>0?r:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(lm)&&ut(14,{groupPrefix:lm})}else this.id=void 0;else this.id=e}setRowTop(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.dispatchRowEvent("topChanged"),this.setDisplayed(e!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(e){this.hovered=e}isHovered(){return this.hovered}setRowHeight(e,t=!1){this.rowHeight=e,this.rowHeightEstimated=t,this.dispatchRowEvent("heightChanged")}setExpanded(e,t,n){var r;(r=this.beans.expansionSvc)==null||r.setExpanded(this,e,t,n)}setDataValue(e,t,n){const{colModel:r,valueSvc:i,gos:s,selectionSvc:o,rowSpanSvc:l}=this.beans,c=typeof e!="string"?e:r.getCol(e)??r.getColDefCol(e);if(!c)return!1;const d=i.getValueForDisplay(c,this);if(s.get("readOnlyEdit")){const{beans:{eventSvc:p},data:m,rowIndex:C,rowPinned:y}=this;return p.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:C,rowPinned:y,column:c,colDef:c.colDef,data:m,node:this,oldValue:d,newValue:t,value:t,source:n}),!1}const f=i.setValue(this,c,t,n);return this.dispatchCellChangedEvent(c,t,d),o==null||o.updateRowSelectable(this),l==null||l.onRowDataUpdated(this),f}updateHasChildren(){let e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;const{rowChildrenSvc:t}=this.beans;t&&(e=t.getHasChildrenValue(this)),e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(e,t,n){var i;const r={type:"cellChanged",node:this,column:e,newValue:t,oldValue:n};(i=this.__localEventService)==null||i.dispatchEvent(r)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){var e;return((e=this.beans.expansionSvc)==null?void 0:e.isExpandable(this))??!1}isSelected(){return this.footer?this.sibling.isSelected():this.__selected}depthFirstSearch(e){var t;(t=this.childrenAfterGroup)==null||t.forEach(n=>n.depthFirstSearch(e)),e(this)}dispatchRowEvent(e){var t;(t=this.__localEventService)==null||t.dispatchEvent({type:e,node:this})}setSelected(e,t=!1,n="api"){var r;(r=this.beans.selectionSvc)==null||r.setNodesSelected({nodes:[this],newValue:e,clearSelection:t,source:n})}isRowPinned(){return!!this.rowPinned}__addEventListener(e,t){this.__localEventService||(this.__localEventService=new ao),this.__localEventService.addEventListener(e,t)}__removeEventListener(e,t){this.removeLocalListener(e,t)}addEventListener(e,t){var r,i,s,o;(r=this.beans.validation)==null||r.checkRowEvents(e),this.__localEventService||(this.__localEventService=new ao),this.frameworkEventListenerService=(s=(i=this.beans.frameworkOverrides).createLocalEventListenerWrapper)==null?void 0:s.call(i,this.frameworkEventListenerService,this.__localEventService);const n=((o=this.frameworkEventListenerService)==null?void 0:o.wrap(t))??t;this.__localEventService.addEventListener(e,n)}removeEventListener(e,t){var r;const n=((r=this.frameworkEventListenerService)==null?void 0:r.unwrap(t))??t;this.removeLocalListener(e,n)}removeLocalListener(e,t){var n,r;(n=this.__localEventService)==null||n.removeEventListener(e,t),(r=this.__localEventService)!=null&&r.noRegisteredListenersExist()&&(this.__localEventService=null)}isFullWidthCell(){if(he(61),this.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;const e=[];let t=this;for(;t&&t.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}setFirstChild(e){this.firstChild!==e&&(this.firstChild=e,this.dispatchRowEvent("firstChildChanged"))}setDisplayed(e){this.displayed!==e&&(this.displayed=e,this.dispatchRowEvent("displayedChanged"))}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.dispatchRowEvent("rowIndexChanged"))}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.dispatchRowEvent("allChildrenCountChanged"))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.dispatchRowEvent("uiLevelChanged"))}};function XN(e,t,n){return Le(t,{type:n,node:e,data:e.data,rowIndex:e.rowIndex,rowPinned:e.rowPinned})}var ZN=class extends Pt{constructor(e,t){super('<div class="ag-filter"></div>'),this.column=e,this.source=t,this.filterWrapper=null}postConstruct(){this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return!!this.filterWrapper}getFilter(){var e;return((e=this.filterWrapper)==null?void 0:e.filterPromise)??null}afterInit(){var e,t;return((t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null?void 0:t.then(()=>{}))??Et.resolve()}afterGuiAttached(e){var t,n;(n=(t=this.filterWrapper)==null?void 0:t.filterPromise)==null||n.then(r=>{var i;(i=r==null?void 0:r.afterGuiAttached)==null||i.call(r,e)})}afterGuiDetached(){var e,t;(t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null||t.then(n=>{var r;(r=n==null?void 0:n.afterGuiDetached)==null||r.call(n)})}createFilter(e){var r,i;const{column:t,source:n}=this;this.filterWrapper=((r=this.beans.filterManager)==null?void 0:r.getOrCreateFilterWrapper(t))??null,(i=this.filterWrapper)!=null&&i.filterPromise&&this.filterWrapper.filterPromise.then(s=>{const o=s.getGui();Ce(o)||he(69,{guiFromFilter:o}),this.appendChild(o),e&&this.eventSvc.dispatchEvent({type:"filterOpened",column:t,source:n,eGui:this.getGui()})})}onFilterDestroyed(e){(e.source==="api"||e.source==="paramsUpdated")&&e.column.getId()===this.column.getId()&&this.beans.colModel.getColDefCol(this.column)&&(zn(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}},y0="ag-resizer-wrapper",ns=(e,t)=>`<div data-ref="${e}Resizer" class="ag-resizer ag-resizer-${t}"></div>`,eB=`<div class="${y0}">
        ${ns("eTopLeft","topLeft")}
        ${ns("eTop","top")}
        ${ns("eTopRight","topRight")}
        ${ns("eRight","right")}
        ${ns("eBottomRight","bottomRight")}
        ${ns("eBottom","bottom")}
        ${ns("eBottomLeft","bottomLeft")}
        ${ns("eLeft","left")}
    </div>`,tB=class extends te{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupSvc=e.popupSvc,this.dragSvc=e.dragSvc}center(){const{clientHeight:e,clientWidth:t}=this.offsetParent,n=t/2-this.getWidth()/2,r=e/2-this.getHeight()/2;this.offsetElement(n,r)}initialisePosition(){if(this.positioned)return;const{centered:e,forcePopupParentAsOffsetParent:t,minWidth:n,width:r,minHeight:i,height:s,x:o,y:l}=this.config;this.offsetParent||this.setOffsetParent();let c=0,d=0;const f=Xr(this.element);if(f){const p=this.findBoundaryElement(),m=window.getComputedStyle(p);if(m.minWidth!=null){const C=p.offsetWidth-this.element.offsetWidth;d=parseInt(m.minWidth,10)-C}if(m.minHeight!=null){const C=p.offsetHeight-this.element.offsetHeight;c=parseInt(m.minHeight,10)-C}}if(this.minHeight=i||c,this.minWidth=n||d,r&&this.setWidth(r),s&&this.setHeight(s),(!r||!s)&&this.refreshSize(),e)this.center();else if(o||l)this.offsetElement(o,l);else if(f&&t){let p=this.boundaryEl,m=!0;if(p||(p=this.findBoundaryElement(),m=!1),p){const C=parseFloat(p.style.top),y=parseFloat(p.style.left);m?this.offsetElement(isNaN(y)?0:y,isNaN(C)?0:C):this.setPosition(y,C)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){var r,i;if(!this.config.popup||e===this.movable)return;this.movable=e;const n=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?((r=this.dragSvc)==null||r.addDragSource(n),this.moveElementDragListener=n):((i=this.dragSvc)==null||i.removeDragSource(n),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{var o;const r=!!e[t],i=this.getResizerElement(t),s={dragStartPixels:0,eElement:i,onDragStart:l=>this.onResizeStart(l,t),onDragging:this.onResize.bind(this),onDragStop:l=>this.onResizeEnd(l,t)};(r||!this.isAlive()&&!r)&&(r?((o=this.dragSvc)==null||o.addDragSource(s),this.resizeListeners.push(s),i.style.pointerEvents="all"):i.style.pointerEvents="none",this.resizable[t]=r)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,n=this.element;let r=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Bl(n,e),e=RE(n),r=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const i=this.getAvailableHeight();i&&e>i&&(e=i)}this.getHeight()!==e&&(r?(n.style.maxHeight="unset",n.style.minHeight="unset"):t?Bl(n,e):(n.style.height=`${e}px`,n.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:n}=this.offsetParent;if(!n)return null;const r=this.element.getBoundingClientRect(),i=this.offsetParent.getBoundingClientRect(),s=e?this.position.y:r.top,o=e?0:i.top;let l=0;if(t){const d=this.element.parentElement;if(d){const{bottom:f}=d.getBoundingClientRect();l=f-r.bottom}}return n+o-s-l}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:n}=this.config;let r=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Qr(t,e),e=Md(t),r=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:i}=this.offsetParent,s=n?this.position.x:this.element.getBoundingClientRect().left;i&&e+s>i&&(e=i-s)}this.getWidth()!==e&&(r?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?Qr(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0){var i;const{forcePopupParentAsOffsetParent:n}=this.config,r=n?this.boundaryEl:this.element;r&&((i=this.popupSvc)==null||i.positionPopup({ePopup:r,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(r.style.left),parseFloat(r.style.top)))}constrainSizeToAvailableHeight(e){var n;if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const r=this.getAvailableHeight();this.element.style.setProperty("max-height",`${r}px`)};e&&this.popupSvc?this.resizeObserverSubscriber=Mi(this.beans,(n=this.popupSvc)==null?void 0:n.getPopupParent(),t):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:n,isTop:r,anywhereWithin:i,topBuffer:s}=e,o=t.clientX-this.dragStartPosition.x,l=t.clientY-this.dragStartPosition.y,c=this.shouldSkipX(t,!!n,!!i,o)?0:o,d=this.shouldSkipY(t,!!r,s,l)?0:l;return{movementX:c,movementY:d}}shouldSkipX(e,t,n,r){const i=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),l=this.config.popup?this.position.x:i.left;let c=l<=0&&s.left>=e.clientX||s.right<=e.clientX&&s.right<=o.right;return c?!0:(t?c=r<0&&e.clientX>l+s.left||r>0&&e.clientX<l+s.left:n?c=r<0&&e.clientX>o.right||r>0&&e.clientX<l+s.left:c=r<0&&e.clientX>o.right||r>0&&e.clientX<o.right,c)}shouldSkipY(e,t,n=0,r){const i=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),l=this.config.popup?this.position.y:i.top;let c=l<=0&&s.top>=e.clientY||s.bottom<=e.clientY&&s.bottom<=o.bottom;return c?!0:(t?c=r<0&&e.clientY>l+s.top+n||r>0&&e.clientY<l+s.top:c=r<0&&e.clientY>o.bottom||r>0&&e.clientY<o.bottom,c)}createResizeMap(){const e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[data-ref=eTopLeftResizer]")},top:{element:e.querySelector("[data-ref=eTopResizer]")},topRight:{element:e.querySelector("[data-ref=eTopRightResizer]")},right:{element:e.querySelector("[data-ref=eRightResizer]")},bottomRight:{element:e.querySelector("[data-ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[data-ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[data-ref=eBottomLeftResizer]")},left:{element:e.querySelector("[data-ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const e=this.element;if(!e)return;const n=new DOMParser().parseFromString(eB,"text/html").body;e.appendChild(n.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${y0}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:n,forcePopupParentAsOffsetParent:r}=this.config;!n&&!r&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(n=>!n.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,n=0;for(let r=0;r<e.length;r++){const i=e[r],s=!!i.style.flex&&i.style.flex!=="0 0 auto";if(i===this.element)continue;let o=this.minHeight||0,l=this.minWidth||0;if(s){const c=window.getComputedStyle(i);c.minHeight&&(o=parseInt(c.minHeight,10)),c.minWidth&&(l=parseInt(c.minWidth,10))}else o=i.offsetHeight,l=i.offsetWidth;t+=o,n+=l}return{height:t,width:n}}applySizeToSiblings(e){let t=null;const n=this.getSiblings();if(n){for(let r=0;r<n.length;r++){const i=n[r];i!==t&&(e?i.style.height=`${i.offsetHeight}px`:i.style.width=`${i.offsetWidth}px`,i.style.flex="0 0 auto",i===this.element&&(t=n[r+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:n}=this.config,{isTop:r,isRight:i,isBottom:s,isLeft:o}=this.currentResizer,l=i||o,c=s||r,{movementX:d,movementY:f}=this.calculateMouseMovement({e,isLeft:o,isTop:r}),p=this.position.x,m=this.position.y;let C=0,y=0;if(l&&d){const b=o?-1:1,R=this.getWidth(),x=R+d*b;let E=!1;o&&(C=R-x,(p+C<=0||x<=this.minWidth)&&(E=!0,C=0)),E||this.setWidth(x)}if(c&&f){const b=r?-1:1,R=this.getHeight(),x=R+f*b;let E=!1;r?(y=R-x,(m+y<=0||x<=this.minHeight)&&(E=!0,y=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&R<x&&this.getMinSizeOfSiblings().height+x>this.element.parentElement.offsetHeight&&(E=!0),E||this.setHeight(x)}this.updateDragStartPosition(e.clientX,e.clientY),((t||n)&&C||y)&&this.offsetElement(p+C,m+y)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:n}=this.position;let r;this.config.calculateTopBuffer&&(r=this.config.calculateTopBuffer());const{movementX:i,movementY:s}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:r});this.offsetElement(t+i,n+s),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent&&this.popupSvc?this.offsetParent=this.popupSvc.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){var e;for(;this.resizeListeners.length;){const t=this.resizeListeners.pop();(e=this.dragSvc)==null||e.removeDragSource(t)}}destroy(){var e;super.destroy(),this.moveElementDragListener&&((e=this.dragSvc)==null||e.removeDragSource(this.moveElementDragListener)),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},nB="ag-focus-managed",Ma=class extends te{constructor(e,t={}){super(),this.eFocusable=e,this.callbacks=t,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:n=>{if(n.defaultPrevented)return;const r=vo(this.beans,this.eFocusable,!1,n.shiftKey);r&&(r.focus(),n.preventDefault())},...t}}postConstruct(){const{eFocusable:e,callbacks:{onFocusIn:t,onFocusOut:n}}=this;e.classList.add(nB),this.addKeyDownListeners(e),t&&this.addManagedElementListeners(e,{focusin:t}),n&&this.addManagedElementListeners(e,{focusout:n})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:t=>{if(t.defaultPrevented||Si(t))return;const{callbacks:n}=this;if(n.shouldStopEventPropagation(t)){ga(t);return}t.key===X.TAB?n.onTabKeyDown(t):n.handleKeyDown&&n.handleKeyDown(t)}})}},S0={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};function CC(e,t){const{debounceMs:n}=e;return Yd(e)?(n!=null&&he(71),0):n??t}function Yd(e){var t;return(((t=e.buttons)==null?void 0:t.indexOf("apply"))??-1)>=0}var rB=class extends Pt{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.eFilterBody=Ie,this.buttonListeners=[],this.defaultDebounceMs=0}postConstruct(){this.resetTemplate(),this.createManagedBean(new Ma(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new tB(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit);const n=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" data-ref="eFilterBody">
                    ${this.createBodyTemplate()}
                </div>
            </form>`;this.setTemplate(n,this.getAgComponents(),e),t=this.getGui(),t==null||t.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.params.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(e){this.params=e,this.applyActive=Yd(e),this.resetButtonsPanel(e)}updateParams(e){this.params=e,this.applyActive=Yd(e),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(e,t){const{buttons:n,readOnly:r}=t??{},{buttons:i,readOnly:s}=e;if(r===s&&Zl(n,i))return;const o=i&&i.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(zn(this.eButtonsPanel),this.buttonListeners.forEach(d=>d()),this.buttonListeners=[]):o&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!o){this.eButtonsPanel&&lo(this.eButtonsPanel);return}const l=document.createDocumentFragment(),c=d=>{let f;const p=d?this.translate(`${d}Filter`):void 0;switch(d){case"apply":f=y=>this.onBtApply(!1,!1,y);break;case"clear":f=()=>this.onBtClear();break;case"reset":f=()=>this.onBtReset();break;case"cancel":f=y=>{this.onBtCancel(y)};break;default:he(75);return}const C=Xl(`<button
                    type="${d==="apply"?"submit":"button"}"
                    data-ref="${d}FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >${p}
                </button>`);this.buttonListeners.push(...this.addManagedElementListeners(C,{click:f})),l.append(C)};i.forEach(d=>c(d)),this.eButtonsPanel.append(l),this.getGui().appendChild(this.eButtonsPanel)}setupOnBtApplyDebounce(){const e=CC(this.params,this.defaultDebounceMs),t=en(this,this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel??null}setModel(e){return(e!=null?this.setModelIntoUi(e):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(e)})}handleCancelEnd(e){this.params.closeOnApply&&this.close(e)}resetUiToActiveModel(e,t){const n=()=>{this.onUiChanged(!1,"prevent"),t==null||t()};e!=null?this.setModelIntoUi(e).then(n):this.resetUiToDefaults().then(n)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(e="api"){const t=this.getModelFromUi();if(!this.isModelValid(t))return!1;const n=this.appliedModel;return this.appliedModel=t,!this.areModelsEqual(n,t)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(e=!1,t=!1,n){n&&n.preventDefault(),this.applyModel(t?"rowDataUpdated":"ui")&&this.params.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t,source:"columnFilter"});const{closeOnApply:r}=this.params;r&&this.applyActive&&!e&&!t&&this.close(n)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;const t=e,n=t&&t.key;let r;(n==="Enter"||n==="Space")&&(r={keyboardEvent:t}),this.hidePopup(r),this.hidePopup=null}onUiChanged(e=!1,t){if(this.updateUiVisibility(),this.params.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const n=this.isModelValid(this.getModelFromUi()),r=this.queryForHtmlElement('[data-ref="applyFilterButton"]');r&&Ql(r,!n)}e&&!t||t==="immediately"?this.onBtApply(e):(!this.applyActive&&!t||t==="debounce")&&this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e==null?void 0:e.container)}refreshFilterResizer(e){const{positionableFeature:t,gos:n}=this;if(!t||e==="toolPanel")return;e==="floatingFilter"||e==="columnFilter"?(t.restoreLastSize(),t.setResizable(n.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(t.removeSizeFromEl(),t.setResizable(!1)),t.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){var e;this.checkApplyDebounce(),(e=this.positionableFeature)==null||e.constrainSizeToAvailableHeight(!1)}refresh(e){const t=this.params;return this.params=e,this.resetButtonsPanel(e,t),!0}destroy(){const e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(e){return this.getLocaleTextFunc()(e,S0[e])}getCellValue(e){return this.params.getValue(e)}getPositionableElement(){return this.eFilterBody}};function iB(e,t,n){if(t==null)return null;let r=null;const{compName:i,jsComp:s,fwComp:o}=iN(e,t);return i?r={agSetColumnFilter:"agSetColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[i]:s==null&&o==null&&t.filter===!0&&(r=n()),r}var dd={AUTO_HEIGHT:"ag-layout-auto-height",NORMAL:"ag-layout-normal",PRINT:"ag-layout-print"},vC=class extends te{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.gos.get("domLayout"),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},n=t.autoHeight?dd.AUTO_HEIGHT:t.print?dd.PRINT:dd.NORMAL;this.view.updateLayoutClasses(n,t)}},rs="Viewport",HS="fakeVScrollComp",GS=["fakeHScrollComp","centerHeader","topCenter","bottomCenter","stickyTopCenter","stickyBottomCenter"],VS=100,ag=150,sB=class extends te{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.scrollTimer=0,this.needsRefreshedScrollPosition=!0,this.eBodyViewport=e,this.resetLastHScrollDebounced=en(this,()=>this.lastScrollSource[1]=null,ag),this.resetLastVScrollDebounced=en(this,()=>this.lastScrollSource[0]=null,ag)}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.animationFrameSvc=e.animationFrameSvc,this.visibleCols=e.visibleCols}destroy(){super.destroy(),window.clearTimeout(this.scrollTimer)}postConstruct(){this.enableRtl=this.gos.get("enableRtl");const e=this.requireUpdatedScrollPosition.bind(this);this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),gridSizeChanged:e}),this.addManagedElementListeners(this.eBodyViewport,{scroll:e}),this.ctrlsSvc.whenReady(this,t=>{this.centerRowsCtrl=t.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}requireUpdatedScrollPosition(){this.needsRefreshedScrollPosition=!0}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.eViewport,{scroll:this.onHScroll.bind(this,rs)});for(const e of GS){const t=this.ctrlsSvc.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsSvc.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),n=t?en(this,this.onVScroll.bind(this,rs),VS):this.onVScroll.bind(this,rs),r=t?en(this,this.onVScroll.bind(this,HS),VS):this.onVScroll.bind(this,HS);this.addManagedElementListeners(this.eBodyViewport,{scroll:n}),this.registerScrollPartner(e,r)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...GS,rs]){if(this.lastScrollSource[1]===t)continue;const n=this.getViewportForSource(t);Od(n,e,this.enableRtl)}}getViewportForSource(e){return e===rs?this.centerRowsCtrl.eViewport:this.ctrlsSvc.get(e).eViewport}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.eViewport,{scrollLeft:n}=t;if(this.shouldBlockScrollUpdate(1,n,!0))return;const r=Id(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(r),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;if(e===rs?t=this.eBodyViewport.scrollTop:t=this.ctrlsSvc.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0))return;const{animationFrameSvc:n}=this;n==null||n.setScrollTop(t),this.nextScrollTop=t,e===rs?this.ctrlsSvc.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,!n||this.gos.get("suppressAnimationFrame")?this.scrollGridIfNeeded(!0):n.schedule(),this.resetLastVScrollDebounced()}doHorizontalScroll(e){const t=this.ctrlsSvc.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){const t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventSvc.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout(()=>{this.scrollTimer=0,this.eventSvc.dispatchEvent({...t,type:"bodyScrollEnd"})},ag)}shouldBlockScrollUpdate(e,t,n=!1){return n&&!Ys()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=aC(this.eBodyViewport),{scrollHeight:n}=this.eBodyViewport;return e<0||e+t>n}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:n}=this.centerRowsCtrl.eViewport;if(this.enableRtl&&kd()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>n}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScroll(rs)}scrollGridIfNeeded(e=!1){const t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,e&&this.requireUpdatedScrollPosition(),this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(e,t=!1){const r=this.centerRowsCtrl.eViewport.scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl&&kd()?e=e>0?0:r:e=Math.min(Math.max(e,0),r)),Od(this.centerRowsCtrl.eViewport,Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.requireUpdatedScrollPosition(),this.eBodyViewport.scrollTop=e}getVScrollPosition(){if(!this.needsRefreshedScrollPosition){const{lastOffsetHeight:n,lastScrollTop:r}=this;return{top:r,bottom:r+n}}this.needsRefreshedScrollPosition=!1;const{scrollTop:e,offsetHeight:t}=this.eBodyViewport;return this.lastScrollTop=e,this.lastOffsetHeight=t,{top:e,bottom:e+t}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowsCtrl.isHorizontalScrollShowing()}scrollHorizontally(e){const t=this.centerRowsCtrl.eViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.eViewport.scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const{rowModel:n}=this.beans,r=n.getRowCount();let i=-1;for(let s=0;s<r;s++){const o=n.getRow(s);if(typeof e=="function"){if(o&&e(o)){i=s;break}}else if(e===o||e===o.data){i=s;break}}i>=0&&this.ensureIndexVisible(i,t)}ensureIndexVisible(e,t){if(tn(this.gos,"print"))return;const{rowModel:n}=this.beans,r=n.getRowCount();if(typeof e!="number"||e<0||e>=r){he(88,{index:e});return}const s=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel"),{frameworkOverrides:o,pagination:l,pageBounds:c,rowContainerHeight:d,rowRenderer:f}=this.beans;o.wrapIncoming(()=>{var R;s||l==null||l.goToPageWithIndex(e);const p=this.ctrlsSvc.getGridBodyCtrl(),m=p.stickyTopHeight,C=p.stickyBottomHeight,y=n.getRow(e);let b;do{const x=y.rowTop,E=y.rowHeight,P=c.getPixelOffset(),D=y.rowTop-P,A=D+y.rowHeight,O=this.getVScrollPosition(),T=d.divStretchOffset,G=O.top+T,$=O.bottom+T,U=$-G,J=d.getScrollPositionForPixel(D),K=d.getScrollPositionForPixel(A-U),Y=Math.min((J+K)/2,D),le=G+m>D,fe=$-C<A;let ue=null;t==="top"?ue=J:t==="bottom"?ue=K:t==="middle"?ue=Y:le?ue=J-m:fe&&(ue=K+C),ue!==null&&(this.setVerticalScrollPosition(ue),f.redraw({afterScroll:!0})),b=x!==y.rowTop||E!==y.rowHeight}while(b);(R=this.animationFrameSvc)==null||R.flushAllFrames()})}ensureColumnVisible(e,t="auto"){const{colModel:n,frameworkOverrides:r}=this.beans,i=n.getCol(e);if(!i||i.isPinned()||!this.visibleCols.isColDisplayed(i))return;const s=this.getPositionedHorizontalScroll(i,t);r.wrapIncoming(()=>{var o;s!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(s),this.centerRowsCtrl.onHorizontalViewportChanged(),(o=this.animationFrameSvc)==null||o.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:n,columnAfterEnd:r}=this.isColumnOutsideViewport(e),i=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),s=this.centerRowsCtrl.getCenterWidth(),o=this.enableRtl;let l=(o?n:r)||i,c=o?r:n;t!=="auto"&&(l=t==="start",c=t==="end");const d=t==="middle";if(l||c||d){const{colLeft:f,colMiddle:p,colRight:m}=this.getColumnBounds(e);return d?p-s/2:l?o?m:f:o?f-s:m-s}return null}isColumnOutsideViewport(e){const{start:t,end:n}=this.getViewportBounds(),{colLeft:r,colRight:i}=this.getColumnBounds(e),s=this.enableRtl,o=s?t>i:n<i,l=s?n<r:t>r;return{columnBeforeStart:o,columnAfterEnd:l}}getColumnBounds(e){const t=this.enableRtl,n=this.visibleCols.bodyWidth,r=e.getActualWidth(),i=e.getLeft(),s=t?-1:1,o=t?n-i:i,l=o+r*s,c=o+r/2*s;return{colLeft:o,colMiddle:c,colRight:l}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),n=t,r=e+t;return{start:n,end:r,width:e}}},wC=class extends te{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=tn(this.gos,"print"),{visibleCols:t,scrollVisibleSvc:n}=this.beans,r=t.bodyWidth,i=t.getColsLeftWidth(),s=t.getDisplayedColumnsRightWidth();let o;e?o=r+i+s:(o=r,this.addSpacer&&(this.gos.get("enableRtl")?i:s)===0&&n.verticalScrollShowing&&(o+=n.getScrollbarWidth())),this.callback(o)}},oB=class extends te{constructor(e){super(),this.centerContainerCtrl=e}wireBeans(e){this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const{beans:e,centerContainerCtrl:t,gridBodyCtrl:n}=this,r=()=>{ki(e,()=>{this.onCenterViewportResized()})};t.registerViewportResizeListener(r),n.registerBodyViewportResizeListener(r)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleSvc.updateScrollGap(),this.centerContainerCtrl.isViewportInTheDOMTree()){const{pinnedCols:e,colFlex:t}=this.beans;e==null||e.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const n=this.centerContainerCtrl.getCenterWidth();n!==this.centerWidth&&(this.centerWidth=n,t==null||t.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.scrollFeature.checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.eBodyViewport,t=aC(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventSvc.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.centerContainerCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleSvc.setScrollsVisible(e)}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.beans.colViewport.setScrollPosition(e,t)}};function yC(e,t,n,r,i,s){if(n==null&&t==null)return;const o={},l={},c=(d,f)=>{d.split(" ").forEach(p=>{p.trim()!=""&&f(p)})};if(n){const d=Object.keys(n);for(let f=0;f<d.length;f++){const p=d[f],m=n[p];let C;typeof m=="string"?C=e?e.evaluate(m,r):!0:typeof m=="function"&&(C=m(r)),c(p,y=>{C?o[y]=!0:l[y]=!0})}}t&&s&&Object.keys(t).forEach(d=>c(d,f=>{o[f]||(l[f]=!0)})),s&&Object.keys(l).forEach(s),Object.keys(o).forEach(i)}function WS(e){if(e.group)return e.level;const t=e.parent;return t?t.level+1:0}var aB=class extends te{constructor(){super(...arguments),this.beanName="rowStyleSvc"}processClassesFromGridOptions(e,t){const n=this.gos,r=o=>{typeof o=="string"?e.push(o):Array.isArray(o)&&o.forEach(l=>e.push(l))},i=n.get("rowClass");i&&r(i);const s=n.getCallback("getRowClass");if(s){const o={data:t.data,node:t,rowIndex:t.rowIndex},l=s(o);r(l)}}preProcessRowClassRules(e,t){this.processRowClassRules(t,n=>{e.push(n)},()=>{})}processRowClassRules(e,t,n){const{gos:r,expressionSvc:i}=this.beans,s=Le(r,{data:e.data,node:e,rowIndex:e.rowIndex});yC(i,void 0,r.get("rowClassRules"),s,t,n)}processStylesFromGridOptions(e){const t=this.gos,n=t.get("rowStyle"),r=t.getCallback("getRowStyle");let i;if(r){const s={data:e.data,node:e,rowIndex:e.rowIndex};i=r(s)}if(i||n)return Object.assign({},n,i)}},lB=0,su="renderedRow",Qd=class extends te{constructor(e,t,n,r,i){var s;super(),this.rowNode=e,this.useAnimationFrameForCreate=r,this.printLayout=i,this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKey=null,this.beans=t,this.gos=t.gos,this.paginationPage=((s=t.pagination)==null?void 0:s.getCurrentPage())??0,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+lB++,this.rowId=bi(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=WS(this.rowNode),this.setRowType(),this.setAnimateFlags(n),this.rowStyles=this.processStylesFromGridOptions(),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKey=bi(e)}updateGui(e,t){e==="left"?this.leftGui=t:e==="right"?this.rightGui=t:e==="fullWidth"?this.fullWidthGui=t:this.centerGui=t}setComp(e,t,n,r){r=wu(this,this.beans.context,r);const i={rowComp:e,element:t,containerType:n,compBean:r};this.allRowGuis.push(i),this.updateGui(n,i),this.initialiseRowComp(i),!(this.rowType==="FullWidthLoading"||this.rowNode.stub)&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(e){this.allRowGuis=this.allRowGuis.filter(t=>t.containerType!==e),this.updateGui(e,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(e){const t=e?"none":"";this.allRowGuis.forEach(n=>n.element.style.display=t)}initialiseRowComp(e){const t=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(e),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),Xs(t)&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);const n=e.rowComp;this.getInitialRowClasses(e.containerType).forEach(i=>n.addOrRemoveCssClass(i,!0)),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&Kg(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(n),this.setRowCompRowBusinessKey(n),co(t,e.element,su,this),e.compBean.addDestroyFunc(()=>co(t,e.element,su,null)),this.useAnimationFrameForCreate?this.beans.animationFrameSvc.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(e),this.isFullWidth()&&this.setupFullWidth(e),t.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameSvc.addDestroyTask(()=>{this.isAlive()&&e.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKey!=null&&e.setRowBusinessKey(this.businessKey)}setRowCompRowId(e){const t=bi(this.rowNode.id);this.rowId=t,t!=null&&e.setRowId(t)}executeSlideAndFadeAnimations(e){const{containerType:t}=e;this.slideInAnimation[t]&&(DS(()=>{this.onTopChanged()}),this.slideInAnimation[t]=!1),this.fadeInAnimation[t]&&(DS(()=>{e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){var r;const t=(r=this.beans.rowDragSvc)==null?void 0:r.createRowDragCompForRow(this.rowNode,e.element);if(!t)return;const n=this.createBean(t,this.beans.context);this.rowDragComps.push(n),e.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(i=>i!==n),this.destroyBean(n,this.beans.context)})}setupFullWidth(e){const t=this.getPinnedForContainer(e.containerType),n=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(n)}getFullWidthCellRenderers(){var e,t;return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(n=>{var r;return(r=n==null?void 0:n.rowComp)==null?void 0:r.getFullWidthCellRenderer()}):[(t=(e=this.fullWidthGui)==null?void 0:e.rowComp)==null?void 0:t.getFullWidthCellRenderer()]}executeProcessRowPostCreateFunc(){const e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;const t={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(t)}areAllContainersReady(){const{leftGui:e,centerGui:t,rightGui:n,beans:{visibleCols:r}}=this,i=!!e||!r.isPinningLeft(),s=!!t,o=!!n||!r.isPinningRight();return i&&s&&o}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this.rowNode}):!1}setRowType(){const e=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),t=this.isNodeFullWidthCell(),n=this.gos.get("masterDetail")&&this.rowNode.detail,r=this.beans.colModel.isPivotMode(),s=!!this.rowNode.group&&!this.rowNode.footer&&hC(this.gos,r);e?this.rowType="FullWidthLoading":n?this.rowType="FullWidthDetail":t?this.rowType="FullWidth":s?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(e=!1,t=!1){if(this.isFullWidth())return;const{animationFrameSvc:n}=this.beans;if(!n||e||this.gos.get("suppressAnimationFrame")||this.printLayout){this.updateColumnListsImpl(t);return}this.updateColumnListsPending||(n.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}getNewCellCtrl(e){var n;if(!((n=this.beans.rowSpanSvc)!=null&&n.isCellSpanning(e,this.rowNode)))return new Vl(e,this.rowNode,this.beans,this)}shouldRecreateCellCtrl(e){var t;return!!((t=this.beans.rowSpanSvc)!=null&&t.isCellSpanning(e.column,this.rowNode))}createCellCtrls(e,t,n=null){const r={list:[],map:{}},i=(o,l,c)=>{c!=null?r.list.splice(c,0,l):r.list.push(l),r.map[o]=l},s=[];for(const o of t){const l=o.getInstanceId();let c=e.map[l];c&&this.shouldRecreateCellCtrl(c)&&(c.destroy(),c=void 0),c||(c=this.getNewCellCtrl(o)),c&&i(l,c)}for(const o of e.list){const l=o.column.getInstanceId();if(r.map[l]!=null)continue;!this.isCellEligibleToBeRemoved(o,n)?s.push([l,o]):o.destroy()}if(s.length)for(const[o,l]of s){const c=r.list.findIndex(f=>f.column.getLeft()>l.column.getLeft()),d=c===-1?void 0:Math.max(c-1,0);i(o,l,d)}return r}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){this.allRowGuis.forEach(t=>{const n=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(n,e)})}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const e=this.beans.colViewport,t=this.beans.visibleCols;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.allCols),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const n=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);const r=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,r,"left");const i=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,i,"right")}}isCellEligibleToBeRemoved(e,t){const{column:i}=e;if(i.getPinned()!=t)return!0;const{editing:s,cellPosition:o}=e,{focusSvc:l,visibleCols:c}=this.beans,d=l.isCellFocused(o);return s||d?!(c.allCols.indexOf(i)>=0):!0}getDomOrder(){return this.gos.get("ensureDomOrder")||tn(this.gos,"print")}listenOnDomOrder(e){const t=()=>{e.rowComp.setDomOrder(this.getDomOrder())};e.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],t)}setAnimateFlags(e){if(this.rowNode.sticky||!e)return;const t=Ce(this.rowNode.oldRowTop),{visibleCols:n}=this.beans,r=n.isPinningLeft(),i=n.isPinningRight();if(t){const{slideInAnimation:s}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){s.fullWidth=!0;return}s.center=!0,s.left=r,s.right=i}else{const{fadeInAnimation:s}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){s.fullWidth=!0;return}s.center=!0,s.left=r,s.right=i}}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const e=(o,l)=>o?o.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(o.element,l).params):!0,t=e(this.fullWidthGui,null),n=e(this.centerGui,null),r=e(this.leftGui,"left"),i=e(this.rightGui,"right");return t&&n&&r&&i}addListeners(){var e;this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),...((e=this.beans.expansionSvc)==null?void 0:e.getRowExpandedListeners(this))??{}}),this.rowNode.detail&&this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this)}),this.addManagedListeners(this.beans.eventSvc,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),this.beans.rowSpanSvc&&this.addManagedListeners(this.beans.rowSpanSvc,{spannedCellsUpdated:({pinned:t})=>{t&&!this.rowNode.rowPinned||this.updateColumnLists()}}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context)}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(this.gos.get("rowDragEntireRow")){this.allRowGuis.forEach(n=>{this.addRowDraggerToRow(n)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onRowIndexChanged())},cellChanged:e=>{this.getAllCellCtrls().forEach(t=>t.onCellChanged(e))}})}onRowNodeDataChanged(e){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(n=>n.refreshCell({suppressFlash:!e.update,newData:!e.update})),this.allRowGuis.forEach(n=>{this.setRowCompRowId(n.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(n.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.rowNode.highlighted;this.allRowGuis.forEach(t=>{const n=e==="Above",r=e==="Below";t.rowComp.addOrRemoveCssClass("ag-row-highlight-above",n),t.rowComp.addOrRemoveCssClass("ag-row-highlight-below",r)})}postProcessRowDragging(){const e=this.rowNode.dragging;this.allRowGuis.forEach(t=>t.rowComp.addOrRemoveCssClass("ag-row-dragging",e))}verifyCells(){this.onDisplayedColumnsChanged()}onDisplayedColumnsChanged(){var e;this.updateColumnLists(!0),(e=this.beans.rowAutoHeight)==null||e.requestCheckAutoHeight()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:yi(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){const t=this.findFullWidthInfoForEvent(e);if(!t)return;const{rowGui:n,column:r}=t;if(!(n.element===e.target))return;const o=this.rowNode,{focusSvc:l,navigation:c}=this.beans,d=l.getFocusedCell(),f={rowIndex:o.rowIndex,rowPinned:o.rowPinned,column:(d==null?void 0:d.column)??r};c==null||c.navigateToNextCell(e,e.key,f,!0),e.preventDefault()}onTabKeyDown(e){var l;if(e.defaultPrevented||Si(e))return;const t=this.allRowGuis.find(c=>c.element.contains(e.target)),n=t?t.element:null,r=n===e.target,i=Nt(this.beans);let s=!1;n&&i&&(s=n.contains(i)&&i.classList.contains("ag-cell"));let o=null;!r&&!s&&(o=vo(this.beans,n,!1,e.shiftKey)),(this.isFullWidth()&&r||!o)&&((l=this.beans.navigation)==null||l.onTabKeyDown(this,e))}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){var t;const e=(t=this.allRowGuis.find(n=>Xr(n.element)))==null?void 0:t.element;return e?e.getBoundingClientRect().top:0}onSuppressCellFocusChanged(e){const t=this.isFullWidth()&&e?void 0:-1;this.allRowGuis.forEach(n=>{sr(n.element,"tabindex",t)})}onFullWidthRowFocused(e){var i;const t=this.rowNode,n=e?this.isFullWidth()&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned:!1,r=this.fullWidthGui?this.fullWidthGui.element:(i=this.centerGui)==null?void 0:i.element;r&&(r.classList.toggle("ag-full-width-focus",n),n&&(e!=null&&e.forceBrowserFocus)&&r.focus({preventScroll:!0}))}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){const n={list:[],map:{}};return e.list.forEach(r=>{r!==t&&(n.list.push(r),n.map[r.column.getInstanceId()]=r)}),n}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t);break}}createRowEvent(e,t){const{rowNode:n}=this;return Le(this.gos,{type:e,node:n,data:n.data,rowIndex:n.rowIndex,rowPinned:n.rowPinned,event:t})}createRowEventWithSource(e,t){const n=this.createRowEvent(e,t);return n.source=this,n}onRowDblClick(e){Si(e)||this.beans.eventSvc.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",e))}findFullWidthInfoForEvent(e){if(!e)return;const t=this.findFullWidthRowGui(e.target),n=this.getColumnForFullWidth(t);if(!(!t||!n))return{rowGui:t,column:n}}findFullWidthRowGui(e){return this.allRowGuis.find(t=>t.element.contains(e))}getColumnForFullWidth(e){const{visibleCols:t}=this.beans;switch(e==null?void 0:e.containerType){case"center":return t.centerCols[0];case"left":return t.leftCols[0];case"right":return t.rightCols[0];default:return t.allCols[0]}}onRowMouseDown(e){if(this.lastMouseDownOnDragger=Qs(e.target,"ag-row-drag",3),!this.isFullWidth())return;const t=this.rowNode,{rangeSvc:n,focusSvc:r}=this.beans;n==null||n.removeAllCellRanges();const i=this.findFullWidthInfoForEvent(e);if(!i)return;const{rowGui:s,column:o}=i,l=s.element,c=e.target;let d=e.defaultPrevented||bs();l&&l.contains(c)&&oC(c)&&(d=!1),r.setFocusedCell({rowIndex:t.rowIndex,column:o,rowPinned:t.rowPinned,forceBrowserFocus:d})}onRowClick(e){if(Si(e)||this.lastMouseDownOnDragger)return;const{eventSvc:n,selectionSvc:r}=this.beans;n.dispatchEvent(this.createRowEventWithSource("rowClicked",e)),r==null||r.handleSelectionEvent(e,this.rowNode,"rowClicked")}setupDetailRowAutoHeight(e){var t;this.rowType==="FullWidthDetail"&&((t=this.beans.masterDetailSvc)==null||t.setupDetailRowAutoHeight(this,e))}createFullWidthCompDetails(e,t){const{gos:n,rowNode:r}=this,i=Le(n,{fullWidth:!0,data:r.data,node:r,value:r.key,valueFormatted:r.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(o,l,c,d)=>this.addFullWidthRowDragging(o,l,c,d),setTooltip:(o,l)=>{n.assertModuleRegistered("Tooltip",3),this.refreshRowTooltip(o,l)}}),s=this.beans.userCompFactory;switch(this.rowType){case"FullWidthDetail":return YL(s,i);case"FullWidthGroup":return qL(s,i);case"FullWidthLoading":return KL(s,i);default:return $L(s,i)}}refreshRowTooltip(e,t){var n;this.fullWidthGui&&(this.tooltipFeature=(n=this.beans.tooltipSvc)==null?void 0:n.refreshRowTooltip(this.tooltipFeature,this,e,t))}addFullWidthRowDragging(e,t,n="",r){const{rowDragSvc:i,context:s}=this.beans;if(!i||!this.isFullWidth())return;const o=i.createRowDragComp(()=>n,this.rowNode,void 0,e,t,r);this.createBean(o,s),this.addDestroyFunc(()=>{this.destroyBean(o,s)})}onUiLevelChanged(){const e=WS(this.rowNode);if(this.rowLevel!=e){const t="ag-row-level-"+e,n="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(r=>{r.rowComp.addOrRemoveCssClass(t,!0),r.rowComp.addOrRemoveCssClass(n,!1)})}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getLastRow()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-first",e))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-last",t)))}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){var t;const e=[];(t=this.beans.rowStyleSvc)==null||t.processClassesFromGridOptions(e,this.rowNode),e.length&&e.forEach(n=>{this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass(n,!0))})}postProcessRowClassRules(){var e;(e=this.beans.rowStyleSvc)==null||e.processRowClassRules(this.rowNode,t=>{this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass(t,!0))},t=>{this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass(t,!1))})}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,n=>n.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e==="left"||e==="right"?e:null}getInitialRowClasses(e){var l;const t=this.getPinnedForContainer(e),n=this.isFullWidth(),{rowNode:r,beans:i}=this,s=[];s.push("ag-row"),s.push(this.rowFocused?"ag-row-focus":"ag-row-no-focus"),this.fadeInAnimation[e]&&s.push("ag-opacity-zero"),s.push(r.rowIndex%2===0?"ag-row-even":"ag-row-odd"),r.isRowPinned()&&s.push("ag-row-pinned"),r.isSelected()&&s.push("ag-row-selected"),r.footer&&s.push("ag-row-footer"),s.push("ag-row-level-"+this.rowLevel),r.stub&&s.push("ag-row-loading"),n&&s.push("ag-full-width-row"),(l=i.expansionSvc)==null||l.addExpandedCss(s,r),r.dragging&&s.push("ag-row-dragging");const{rowStyleSvc:o}=i;return o&&(o.processClassesFromGridOptions(s,r),o.preProcessRowClassRules(s,r)),s.push(this.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),this.isFirstRowOnPage()&&s.push("ag-row-first"),this.isLastRowOnPage()&&s.push("ag-row-last"),n&&(t==="left"&&s.push("ag-cell-last-left-pinned"),t==="right"&&s.push("ag-cell-first-right-pinned")),s}processStylesFromGridOptions(){var e;return((e=this.beans.rowStyleSvc)==null?void 0:e.processStylesFromGridOptions(this.rowNode))??this.emptyStyle}onRowSelected(e){var t;(t=this.beans.selectionSvc)==null||t.onRowCtrlSelected(this,n=>{(n===this.centerGui||n===this.fullWidthGui)&&this.announceDescription()},e)}announceDescription(){var e;(e=this.beans.selectionSvc)==null||e.announceAriaRowSelection(this.rowNode)}addHoverFunctionality(e){if(!this.active)return;const{element:t,compBean:n}=e,{rowNode:r,beans:i,gos:s}=this;n.addManagedListeners(t,{mouseenter:()=>r.dispatchRowEvent("mouseEnter"),mouseleave:()=>r.dispatchRowEvent("mouseLeave")}),n.addManagedListeners(r,{mouseEnter:()=>{var o;!((o=i.dragSvc)!=null&&o.dragging)&&!s.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),r.setHovered(!0))},mouseLeave:()=>{this.resetHoveredStatus(t)}})}resetHoveredStatus(e){const t=e?[e]:this.allRowGuis.map(n=>n.element);for(const n of t)n.classList.remove("ag-row-hover");this.rowNode.setHovered(!1)}roundRowTopToBounds(e){const t=this.beans.ctrlsSvc.getScrollFeature().getApproximateVScollPosition(),n=this.applyPaginationOffset(t.top,!0)-100,r=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(n,e),r)}forEachGui(e,t){e?t(e):this.allRowGuis.forEach(t)}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;const t=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),i=IE(this.gos)?fa(this.beans,this.rowNode).height:void 0,s=i?`${Math.min(n,i)-2}px`:void 0;this.forEachGui(e,o=>{o.element.style.height=`${t}px`,s&&o.element.style.setProperty("--ag-line-height",s)})}destroyFirstPass(e=!1){this.active=!1;const{rowNode:t}=this;if(!e&&na(this.gos)&&!t.sticky)if(t.rowTop!=null){const i=this.roundRowTopToBounds(t.rowTop);this.setRowTop(i)}else this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));t.setHovered(!1);const n=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(n),this.beans.eventSvc.dispatchEvent(n),super.destroy()}destroySecondPass(){var t;this.allRowGuis.length=0,(t=this.beans.editSvc)==null||t.stopRowEditing(this);const e=n=>(n.list.forEach(r=>r.destroy()),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,t=>{t.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),t.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const{focusSvc:e,editSvc:t}=this.beans,n=e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);n!==this.rowFocused&&(this.rowFocused=n,this.setFocusedClasses()),!n&&this.editing&&(t==null||t.stopRowEditing(this,!1))}onPaginationChanged(){var t;const e=((t=this.beans.pagination)==null?void 0:t.getCurrentPage())??0;this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,t=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;const n=this.beans.pageBounds.getPixelOffset();return e+n*(t?1:-1)}setRowTop(e){if(!this.printLayout&&Ce(e)){const t=this.applyPaginationOffset(e),i=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeight.getRealPixelPosition(t)}px`;this.setRowTopStyle(i)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";const t=this.rowNode;let n;if(t.sticky)n=t.stickyRowTop;else{const r=this.slideInAnimation[e]?this.roundRowTopToBounds(t.oldRowTop):t.rowTop,i=this.applyPaginationOffset(r);n=t.isRowPinned()?i:this.beans.rowContainerHeight.getRealPixelPosition(i)}return n+"px"}setRowTopStyle(e){this.allRowGuis.forEach(t=>this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform(`translateY(${e})`))}getCellCtrl(e,t=!1){let n=null;return this.getAllCellCtrls().forEach(r=>{r.column==e&&(n=r)}),n!=null||t||this.getAllCellCtrls().forEach(r=>{r.getColSpanningList().indexOf(e)>=0&&(n=r)}),n}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(e){var s,o;const t=this.rowNode.getRowIndexString();if(t===null)return;const n=(((s=this.beans.ctrlsSvc.getHeaderRowContainerCtrl())==null?void 0:s.getRowCount())??0)+(((o=this.beans.filterManager)==null?void 0:o.getHeaderRowCount())??0),r=this.rowNode.rowIndex%2===0,i=n+this.rowNode.rowIndex+1;this.forEachGui(e,l=>{l.rowComp.setRowIndex(t),l.rowComp.addOrRemoveCssClass("ag-row-even",r),l.rowComp.addOrRemoveCssClass("ag-row-odd",!r),gE(l.element,i)})}};function b0(e){var n;return e.altKey||e.ctrlKey||e.metaKey?!1:((n=e.key)==null?void 0:n.length)===1}function um(e,t,n,r,i){const s=r?r.getColDef().suppressKeyboardEvent:void 0;if(!s)return!1;const o=Le(e,{event:t,editing:i,column:r,node:n,data:n.data,colDef:r.getColDef()});return!!(s&&s(o))}function uB(e){const{pinnedRowModel:t,rowModel:n}=e,[r,i]=[(t==null?void 0:t.isEmpty("top"))??!0,(t==null?void 0:t.isEmpty("bottom"))??!0],s=r?null:"top";let o,l;i?(o=null,l=n.getRowCount()-1):(o="bottom",l=(t==null?void 0:t.getPinnedBottomRowCount())??-1);const{visibleCols:c,rangeSvc:d}=e,f=c.allCols;!d||!(f!=null&&f.length)||d.setCellRange({rowStartIndex:0,rowStartPinned:s,rowEndIndex:l,rowEndPinned:o})}var cB=65,dB=67,hB=86,fB=68,pB=90,gB=89;function mB(e){const{keyCode:t}=e;let n;switch(t){case cB:n=X.A;break;case dB:n=X.C;break;case hB:n=X.V;break;case fB:n=X.D;break;case pB:n=X.Z;break;case gB:n=X.Y;break;default:n=e.code}return n}var CB=class extends te{constructor(e){super(),this.element=e}postConstruct(){var e;this.addKeyboardListeners(),this.addMouseListeners(),(e=this.beans.touchSvc)==null||e.mockRowContextMenu(this)}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",WE("touchstart")?"touchstart":"mousedown"].forEach(n=>{const r=this.processMouseEvent.bind(this,n);this.addManagedElementListeners(this.element,{[n]:r})})}processMouseEvent(e,t){var i;if(!Kd(this.gos,t)||Si(t))return;const{cellCtrl:n,rowCtrl:r}=this.getControlsForEventTarget(t.target);e==="contextmenu"?(n!=null&&n.column&&n.dispatchCellContextMenuEvent(t),(i=this.beans.contextMenuSvc)==null||i.handleContextMenuMouseEvent(t,void 0,r,n)):(n&&n.onMouseEvent(e,t),r&&r.onMouseEvent(e,t))}getControlsForEventTarget(e){const{gos:t}=this;return{cellCtrl:d0(t,e),rowCtrl:_E(t,e,su)}}processKeyboardEvent(e,t){const{cellCtrl:n,rowCtrl:r}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(n?this.processCellKeyboardEvent(n,e,t):r&&r.isFullWidth()&&this.processFullWidthRowKeyboardEvent(r,e,t))}processCellKeyboardEvent(e,t,n){var l;const{rowNode:r,column:i,editing:s}=e;!um(this.gos,n,r,i,s)&&t==="keydown"&&(!s&&((l=this.beans.navigation)!=null&&l.handlePageScrollingKey(n))||e.onKeyDown(n),this.doGridOperations(n,e.editing),b0(n)&&e.processCharacter(n)),t==="keydown"&&this.eventSvc.dispatchEvent(e.createEvent(n,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,n){const{rowNode:r}=e,{focusSvc:i,navigation:s}=this.beans,o=i.getFocusedCell(),l=o&&o.column;if(!um(this.gos,n,r,l,!1)){const d=n.key;if(t==="keydown")switch(d){case X.PAGE_HOME:case X.PAGE_END:case X.PAGE_UP:case X.PAGE_DOWN:s==null||s.handlePageScrollingKey(n,!0);break;case X.UP:case X.DOWN:e.onKeyboardNavigate(n);break;case X.TAB:e.onTabKeyDown(n);break}}t==="keydown"&&this.eventSvc.dispatchEvent(e.createRowEvent("cellKeyDown",n))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!Kd(this.gos,e))return;const n=mB(e),{clipboardSvc:r,undoRedo:i}=this.beans;if(n===X.A)return this.onCtrlAndA(e);if(n===X.C)return this.onCtrlAndC(r,e);if(n===X.D)return this.onCtrlAndD(r,e);if(n===X.V)return this.onCtrlAndV(r,e);if(n===X.X)return this.onCtrlAndX(r,e);if(n===X.Y)return this.onCtrlAndY(i);if(n===X.Z)return this.onCtrlAndZ(i,e)}onCtrlAndA(e){const{beans:{rowModel:t,rangeSvc:n,selectionSvc:r},gos:i}=this;n&&ms(i)&&t.isRowsToRender()?uB(this.beans):r&&(r==null||r.selectAllRowNodes({source:"keyboardSelectAll",selectAll:HE(i)})),e.preventDefault()}onCtrlAndC(e,t){if(!e||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:n,rowCtrl:r}=this.getControlsForEventTarget(t.target);n!=null&&n.editing||r!=null&&r.editing||(t.preventDefault(),e.copyToClipboard())}onCtrlAndX(e,t){if(!e||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:n,rowCtrl:r}=this.getControlsForEventTarget(t.target);n!=null&&n.editing||r!=null&&r.editing||(t.preventDefault(),e.cutToClipboard(void 0,"ui"))}onCtrlAndV(e,t){const{cellCtrl:n,rowCtrl:r}=this.getControlsForEventTarget(t.target);n!=null&&n.editing||r!=null&&r.editing||e&&!this.gos.get("suppressClipboardPaste")&&e.pasteFromClipboard()}onCtrlAndD(e,t){e&&!this.gos.get("suppressClipboardPaste")&&e.copyRangeDown(),t.preventDefault()}onCtrlAndZ(e,t){!this.gos.get("undoRedoCellEditing")||!e||(t.preventDefault(),t.shiftKey?e.redo("ui"):e.undo("ui"))}onCtrlAndY(e){e==null||e.redo("ui")}},R0=class extends te{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this,this.beans.rowContainerHeight)})}onHeightChanged(e){const t=e.uiContainerHeight,n=t!=null?`${t}px`:"";this.eContainer.style.height=n,this.eViewport&&(this.eViewport.style.height=n)}},$c=e=>e.topRowCtrls,Kc=e=>e.getStickyTopRowCtrls(),qc=e=>e.getStickyBottomRowCtrls(),Yc=e=>e.bottomRowCtrls,Qc=e=>e.allRowCtrls,lg=e=>e.getCtrls("top"),ug=e=>e.getCtrls("center"),cg=e=>e.getCtrls("bottom"),vB={center:{type:"center",name:"center-cols",getRowCtrls:Qc,getSpannedRowCtrls:ug},left:{type:"left",name:"pinned-left-cols",pinnedType:"left",getRowCtrls:Qc,getSpannedRowCtrls:ug},right:{type:"right",name:"pinned-right-cols",pinnedType:"right",getRowCtrls:Qc,getSpannedRowCtrls:ug},fullWidth:{type:"fullWidth",name:"full-width",fullWidth:!0,getRowCtrls:Qc},topCenter:{type:"center",name:"floating-top",getRowCtrls:$c,getSpannedRowCtrls:lg},topLeft:{type:"left",name:"pinned-left-floating",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:$c,getSpannedRowCtrls:lg},topRight:{type:"right",name:"pinned-right-floating",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:$c,getSpannedRowCtrls:lg},topFullWidth:{type:"fullWidth",name:"floating-top-full-width",fullWidth:!0,getRowCtrls:$c},stickyTopCenter:{type:"center",name:"sticky-top",getRowCtrls:Kc},stickyTopLeft:{type:"left",name:"pinned-left-sticky-top",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:Kc},stickyTopRight:{type:"right",name:"pinned-right-sticky-top",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:Kc},stickyTopFullWidth:{type:"fullWidth",name:"sticky-top-full-width",fullWidth:!0,getRowCtrls:Kc},stickyBottomCenter:{type:"center",name:"sticky-bottom",getRowCtrls:qc},stickyBottomLeft:{type:"left",name:"pinned-left-sticky-bottom",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:qc},stickyBottomRight:{type:"right",name:"pinned-right-sticky-bottom",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:qc},stickyBottomFullWidth:{type:"fullWidth",name:"sticky-bottom-full-width",fullWidth:!0,getRowCtrls:qc},bottomCenter:{type:"center",name:"floating-bottom",getRowCtrls:Yc,getSpannedRowCtrls:cg},bottomLeft:{type:"left",name:"pinned-left-floating-bottom",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:Yc,getSpannedRowCtrls:cg},bottomRight:{type:"right",name:"pinned-right-floating-bottom",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:Yc,getSpannedRowCtrls:cg},bottomFullWidth:{type:"fullWidth",name:"floating-bottom-full-width",fullWidth:!0,getRowCtrls:Yc}};function x0(e){return`ag-${Su(e).name}-viewport`}function hd(e){const t=Su(e);return t.container??`ag-${t.name}-container`}function wB(e){return`ag-${Su(e).name}-spanned-cells-container`}function Su(e){return vB[e]}var yB=["topCenter","topLeft","topRight"],SB=["bottomCenter","bottomLeft","bottomRight"],bB=["center","left","right"],RB=["center","left","right","fullWidth"],xB=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],EB=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],FB=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],E0=["stickyTopCenter","stickyTopLeft","stickyTopRight"],F0=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],PB=[...E0,"stickyTopFullWidth",...F0,"stickyBottomFullWidth"],DB=[...yB,...SB,...bB,...E0,...F0],TB=class extends te{constructor(e){super(),this.name=e,this.visible=!0,this.EMPTY_CTRLS=[],this.options=Su(e)}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new oB(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.beans.ctrlsSvc.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}setComp(e,t,n,r){this.comp=e,this.eContainer=t,this.eSpannedContainer=n,this.eViewport=r,this.createManagedBean(new CB(this.eViewport??this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const{pinnedCols:i,rangeSvc:s}=this.beans,o=()=>this.onPinnedWidthChanged();this.forContainers(EB,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(i==null?void 0:i.createPinnedWidthFeature(!0,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:o})}),this.forContainers(FB,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(i==null?void 0:i.createPinnedWidthFeature(!1,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:o})}),this.forContainers(RB,()=>this.createManagedBean(new R0(this.eContainer,this.name==="center"?r:void 0))),s&&this.forContainers(DB,()=>this.createManagedBean(s.createDragListenerFeature(this.eContainer))),this.forContainers(xB,()=>this.createManagedBean(new wC(l=>this.comp.setContainerWidth(`${l}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}addListeners(){const{spannedRowRenderer:e,gos:t}=this.beans;this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsChanged.bind(this),displayedRowsChanged:n=>this.onDisplayedRowsChanged(n.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedRowsChanged(),e&&this.options.getSpannedRowCtrls&&t.get("enableCellSpan")&&this.addManagedListeners(e,{spannedRowsUpdated:()=>{const n=this.options.getSpannedRowCtrls(e);n&&this.comp.setSpannedRowCtrls(n,!1)}})}listenOnDomOrder(){if(PB.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const t=()=>{const n=this.gos.get("ensureDomOrder"),r=tn(this.gos,"print");this.comp.setDomOrder(n||r)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const{dragSvc:e}=this.beans;if(!e)return;const t=n=>{e.dragging&&n.cancelable&&n.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),n=this.getCenterViewportScrollLeft();this.beans.colViewport.setScrollPosition(t,n,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return Jl(this.eViewport)}getCenterViewportScrollLeft(){return Id(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=Mi(this.beans,this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return EE(this.eViewport)}getViewportScrollLeft(){return Id(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||fO(this.eViewport)}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){Od(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const t=this.options.getRowCtrls(this.beans.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const n=tn(this.gos,"print"),i=this.gos.get("embedFullWidthRows")||n,s=t.filter(o=>{const l=o.isFullWidth();return this.options.fullWidth?!i&&l:i||!l});this.comp.setRowCtrls({rowCtrls:s,useFlushSync:e})}},AB="ag-force-vertical-scroll",MB="ag-selectable",kB="ag-column-moving",IB=class extends te{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colModel=e.colModel,this.scrollVisibleSvc=e.scrollVisibleSvc,this.pinnedRowModel=e.pinnedRowModel,this.filterManager=e.filterManager,this.rowGroupColsSvc=e.rowGroupColsSvc}setComp(e,t,n,r,i,s,o){var l,c;this.comp=e,this.eGridBody=t,this.eBodyViewport=n,this.eTop=r,this.eBottom=i,this.eStickyTop=s,this.eStickyBottom=o,this.eCenterColsViewport=n.querySelector(`.${x0("center")}`),this.eFullWidthContainer=n.querySelector(`.${hd("fullWidth")}`),this.eStickyTopFullWidthContainer=s.querySelector(`.${hd("stickyTopFullWidth")}`),this.eStickyBottomFullWidthContainer=o.querySelector(`.${hd("stickyBottomFullWidth")}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",d=>this.setCellTextSelection(d.currentValue)),this.createManagedBean(new vC(this.comp)),this.scrollFeature=this.createManagedBean(new sB(this.eBodyViewport)),(l=this.beans.rowDragSvc)==null||l.setupRowDrag(this.eBodyViewport,this),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([r,n,i,s,o]),this.setGridRootRole(),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),(c=this.filterManager)==null||c.setupAdvFilterHeaderComp(r),this.ctrlsSvc.register("gridBodyCtrl",this)}addEventListeners(){const e=this.setFloatingHeights.bind(this),t=this.setGridRootRole.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.updateScrollingClasses.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,headerHeightChanged:this.setStickyTopOffsetTop.bind(this),columnRowGroupChanged:t,columnPivotChanged:t}),this.addManagedPropertyListener("treeData",t)}onGridColumnsChanged(){const e=this.beans.colModel.getCols();this.comp.setColumnCount(e.length)}onScrollVisibilityChanged(){const{scrollVisibleSvc:e}=this,t=e.verticalScrollShowing;this.setVerticalScrollPaddingVisible(t),this.setStickyWidth(t),this.setStickyBottomOffsetBottom();const n=t&&e.getScrollbarWidth()||0,r=SE()?16:0,i=`calc(100% + ${n+r}px)`;ki(this.beans,()=>this.comp.setBodyViewportWidth(i)),this.updateScrollingClasses()}setGridRootRole(){const{rowGroupColsSvc:e,colModel:t}=this;let n=this.gos.get("treeData");if(!n){const r=t.isPivotMode();n=(e?e.columns.length:0)>=(r?2:1)}this.comp.setGridRootRole(n?"treegrid":"grid")}addFocusListeners(e){e.forEach(t=>{this.addManagedElementListeners(t,{focusin:n=>{const{target:r}=n,i=Qs(r,"ag-root",t);t.classList.toggle("ag-has-focus",!i)},focusout:n=>{const{target:r,relatedTarget:i}=n,s=t.contains(i),o=Qs(i,"ag-root",t);Qs(r,"ag-root",t)||(!s||o)&&t.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(kB,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(MB,e)}updateScrollingClasses(){const{eGridBody:{classList:e},scrollVisibleSvc:t}=this;e.toggle("ag-body-vertical-content-no-gap",!t.verticalScrollGap),e.toggle("ag-body-horizontal-content-no-gap",!t.horizontalScrollGap)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){var e;(e=this.beans.editSvc)==null||e.addStopEditingWhenGridLosesFocus([this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom])}updateRowCount(){var i,s;const e=(((i=this.ctrlsSvc.getHeaderRowContainerCtrl())==null?void 0:i.getRowCount())??0)+(((s=this.filterManager)==null?void 0:s.getHeaderRowCount())??0),{rowModel:t}=this.beans,n=t.isLastRowIndexKnown()?t.getRowCount():-1,r=n===-1?-1:e+n;this.comp.setRowCount(r)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?AB:null,n=tn(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||n&&pO(this.eBodyViewport)}setupRowAnimationCssClass(){const{rowContainerHeight:e,environment:t}=this.beans;let n=t.sizesMeasured;const r=()=>{const i=n&&na(this.gos)&&!e.stretching,s=i?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(s,i)};r(),this.addManagedEventListeners({heightScaleChanged:r}),this.addManagedPropertyListener("animateRows",r),this.addManagedEventListeners({gridStylesChanged:()=>{!n&&t.sizesMeasured&&(n=!0,r())}})}addBodyViewportListener(){const{popupSvc:e,touchSvc:t}=this.beans,n=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(this.eBodyViewport,{contextmenu:n}),t==null||t.mockBodyContextMenu(this,n),this.addManagedElementListeners(this.eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this,e)}),this.addManagedElementListeners(this.eStickyTop,{wheel:this.onStickyWheel.bind(this)}),this.addManagedElementListeners(this.eStickyBottom,{wheel:this.onStickyWheel.bind(this)}),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:n,shiftKey:r}=e;(r||Math.abs(t)>Math.abs(n))&&Kd(this.gos,e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaX:t,deltaY:n,shiftKey:r}=e,i=r||Math.abs(t)>Math.abs(n),s=e.target;i?(this.eStickyTopFullWidthContainer.contains(s)||this.eStickyBottomFullWidthContainer.contains(s))&&this.scrollGridBodyToMatchEvent(e):(e.preventDefault(),this.scrollVertically(n))}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:n}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||n})}onBodyViewportContextMenu(e,t,n){var i;if(!e&&!n)return;this.gos.get("preventDefaultOnContextMenu")&&(e||n).preventDefault();const{target:r}=e||t;(r===this.eBodyViewport||r===this.ctrlsSvc.get("center").eViewport)&&((i=this.beans.contextMenuSvc)==null||i.showContextMenu({mouseEvent:e,touchEvent:n,value:null,anchorToElement:this.eGridBody,source:"ui"}))}onBodyViewportWheel(e,t){this.gos.get("suppressScrollWhenPopupsAreOpen")&&e!=null&&e.hasAnchoredPopup()&&t.preventDefault()}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.scrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}setFloatingHeights(){const{pinnedRowModel:e}=this,t=(e==null?void 0:e.getPinnedTopTotalHeight())??0,n=(e==null?void 0:e.getPinnedBottomTotalHeight())??0;this.comp.setTopHeight(t),this.comp.setBottomHeight(n),this.comp.setTopDisplay(t?"inherit":"none"),this.comp.setBottomDisplay(n?"inherit":"none"),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const t=this.scrollVisibleSvc.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}setStickyTopOffsetTop(){var i,s;const t=this.ctrlsSvc.get("gridHeaderCtrl").headerHeight+(((i=this.filterManager)==null?void 0:i.getHeaderHeight())??0),n=((s=this.pinnedRowModel)==null?void 0:s.getPinnedTopTotalHeight())??0;let r=0;t>0&&(r+=t),n>0&&(r+=n),r>0&&(r+=1),this.comp.setStickyTopTop(`${r}px`)}setStickyBottomOffsetBottom(){const{pinnedRowModel:e,scrollVisibleSvc:t,comp:n}=this,r=(e==null?void 0:e.getPinnedBottomTotalHeight())??0,s=t.horizontalScrollShowing&&t.getScrollbarWidth()||0,o=r+s;n.setStickyBottomBottom(`${o}px`)}},P0=class extends Pt{constructor(e,t){super(),this.direction=t,this.eViewport=Ie,this.eContainer=Ie,this.hideTimeout=0,this.setTemplate(e)}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",wE()||Ys())}destroy(){super.destroy(),window.clearTimeout(this.hideTimeout)}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=SE(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0),n=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:n,touchend:n})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),ki(this.beans,()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=0),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=0},400)}})}attemptSettingScrollPosition(e){const t=this.eViewport;vO(()=>Xr(t),()=>this.setScrollPosition(e),100)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}},OB=class extends P0{constructor(){super(`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" data-ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" data-ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" data-ref="eRightSpacer"></div>
        </div>`,"horizontal"),this.eLeftSpacer=Ie,this.eRightSpacer=Ie,this.setScrollVisibleDebounce=0}wireBeans(e){this.visibleCols=e.visibleCols,this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.refreshCompBottom.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.beans.ctrlsSvc.register("fakeHScrollComp",this),this.createManagedBean(new wC(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}destroy(){window.clearTimeout(this.setScrollVisibleDebounce),super.destroy()}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}refreshCompBottom(){var t;if(!this.invisibleScrollbar)return;const e=((t=this.beans.pinnedRowModel)==null?void 0:t.getPinnedBottomTotalHeight())??0;this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleSvc.verticalScrollShowing;let t=this.visibleCols.getDisplayedColumnsRightWidth();const n=!this.enableRtl&&e,r=this.scrollVisibleSvc.getScrollbarWidth();n&&(t+=r),Qr(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=r);let i=this.visibleCols.getColsLeftWidth();this.enableRtl&&e&&(i+=r),Qr(this.eLeftSpacer,i),this.eLeftSpacer.classList.toggle("ag-scroller-corner",i<=r)}setScrollVisible(){const e=this.scrollVisibleSvc.horizontalScrollShowing,t=this.invisibleScrollbar,n=this.gos.get("suppressHorizontalScroll"),r=e&&this.scrollVisibleSvc.getScrollbarWidth()||0,s=n?0:r===0&&t?16:r,o=()=>{this.setScrollVisibleDebounce=0,this.addOrRemoveCssClass("ag-scrollbar-invisible",t),Bl(this.getGui(),s),Bl(this.eViewport,s),Bl(this.eContainer,s),this.setDisplayed(e,{skipAriaHidden:!0})};window.clearTimeout(this.setScrollVisibleDebounce),e?this.setScrollVisibleDebounce=window.setTimeout(o,100):o()}getScrollPosition(){return Id(this.eViewport,this.enableRtl)}setScrollPosition(e){Xr(this.eViewport)||this.attemptSettingScrollPosition(e),Od(this.eViewport,e,this.enableRtl)}},LB=class extends P0{constructor(){super(`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-vertical-scroll-container" data-ref="eContainer"></div>
            </div>
        </div>`,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new R0(this.eContainer));const{ctrlsSvc:e}=this.beans;e.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this,e)})}setScrollVisible(){const{scrollVisibleSvc:e}=this.beans,t=e.verticalScrollShowing,n=this.invisibleScrollbar,r=t&&e.getScrollbarWidth()||0,i=r===0&&n?16:r;this.addOrRemoveCssClass("ag-scrollbar-invisible",n),Qr(this.getGui(),i),Qr(this.eViewport,i),Qr(this.eContainer,i),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(e){const n=e.getGridBodyCtrl().eBodyViewport,r=this.getScrollPosition(),i=n.scrollTop;r!=i&&this.setScrollPosition(i,!0)}getScrollPosition(){return this.eViewport.scrollTop}setScrollPosition(e,t){!t&&!Xr(this.eViewport)&&this.attemptSettingScrollPosition(e),this.eViewport.scrollTop=e}};function NB(e){return e.cols?e.cols.treeDepth+1:-1}function vi(e){var t;return((t=e.ctrlsSvc.getHeaderRowContainerCtrl())==null?void 0:t.getRowCount())??0}function SC(e){const t=[],n=e.ctrlsSvc.getHeaderRowContainerCtrls();for(const r of n){if(!r)continue;const i=r.getGroupRowCount()||0;for(let s=0;s<i;s++){const o=r.getGroupRowCtrlAtIndex(s),l=t[s];if(o){const c=BB(e,o);(l==null||c>l)&&(t[s]=c)}}}return t}function BB(e,t){const n=e.colModel.isPivotMode()?GB(e):T0(e);let r=0;const i=t.getHeaderCtrls();for(const s of i){const{column:o}=s;if(o.isAutoHeaderHeight()){const l=o.getAutoHeaderHeight();l!=null&&l>r&&(r=l)}}return Math.max(n,r)}function bC(e){const t=e.colModel.isPivotMode()?HB(e):bu(e),r=e.visibleCols.allCols.filter(i=>i.isAutoHeaderHeight()).map(i=>i.getAutoHeaderHeight()||0);return Math.max(t,...r)}function bu(e){return e.gos.get("headerHeight")??e.environment.getDefaultHeaderHeight()}function D0(e){return e.gos.get("floatingFiltersHeight")??bu(e)}function T0(e){return e.gos.get("groupHeaderHeight")??bu(e)}function HB(e){return e.gos.get("pivotHeaderHeight")??bu(e)}function GB(e){return e.gos.get("pivotGroupHeaderHeight")??T0(e)}var VB=class extends te{setComp(e,t,n){this.comp=e,this.eGui=t;const{beans:r}=this,{headerNavigation:i,touchSvc:s,ctrlsSvc:o}=r;i&&this.createManagedBean(new Ma(n,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this,r),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this,r)}),this.onPivotModeChanged(r),this.setupHeaderHeight();const l=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:l}),s==null||s.mockHeaderContextMenu(this,l),o.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({displayedColumnsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>ki(this.beans,()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}setHeaderHeight(){var s;const{beans:e}=this;let t=0;const n=SC(e).reduce((o,l)=>o+l,0),r=bC(e);if((s=e.filterManager)!=null&&s.hasFloatingFilters()&&(t+=D0(e)),t+=n,t+=r,this.headerHeight===t)return;this.headerHeight=t;const i=`${t+1}px`;this.comp.setHeightAndMinHeight(i),this.eventSvc.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(e){const t=e.colModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",t),this.comp.addOrRemoveCssClass("ag-pivot-off",!t)}onDisplayedColumnsChanged(e){const n=e.visibleCols.allCols.some(r=>r.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",n)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),n=e.shiftKey,r=n!==t?"LEFT":"RIGHT",{beans:i}=this,{headerNavigation:s,focusSvc:o}=i;(s.navigateHorizontally(r,!0,e)||!n&&o.focusOverlay(!1)||Ca(i,n,!0))&&e.preventDefault()}handleKeyDown(e){let t=null;const{headerNavigation:n}=this.beans;switch(e.key){case X.LEFT:t="LEFT";case X.RIGHT:{Ce(t)||(t="RIGHT"),n.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case X.UP:t="UP";case X.DOWN:{Ce(t)||(t="DOWN"),n.navigateVertically(t,null,e)&&e.preventDefault();break}default:return}}onFocusOut(e){const{relatedTarget:t}=e,{eGui:n,beans:r}=this;!t&&n.contains(Nt(r))||n.contains(t)||(r.focusSvc.focusedHeader=null)}onHeaderContextMenu(e,t,n){var o;const{menuSvc:r,ctrlsSvc:i}=this.beans;if(!e&&!n||!(r!=null&&r.isHeaderContextMenuEnabled()))return;const{target:s}=e??t;(s===this.eGui||s===((o=i.getHeaderRowContainerCtrl())==null?void 0:o.eViewport))&&r.showHeaderContextMenu(void 0,e,n)}},RC=class extends te{constructor(e,t,n,r){super(),this.columnOrGroup=e,this.eCell=t,this.colsSpanning=r,this.columnOrGroup=e,this.ariaEl=t.querySelector("[role=columnheader]")||t,this.beans=n}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){const{beans:e,colsSpanning:t}=this;return e.gos.get("enableRtl")&&t?lt(t):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const{gos:e,colAnimation:t}=this.beans,n=e.get("suppressColumnMoveAnimation"),r=Ce(this.columnOrGroup.getOldLeft());(t==null?void 0:t.isActive())&&r&&!n?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=this.modifyLeftForPrintLayout(e,e.getOldLeft()),n=this.modifyLeftForPrintLayout(e,e.getLeft());this.setLeft(t),this.actualLeft=n,this.beans.colAnimation.executeNextVMTurn(()=>{this.actualLeft===n&&this.setLeft(n)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){const{gos:n,visibleCols:r}=this.beans;if(!tn(n,"print")||e.getPinned()==="left")return t;const s=r.getColsLeftWidth();if(e.getPinned()==="right"){const o=r.bodyWidth;return s+o+t}return s+t}setLeft(e){if(Ce(e)&&(this.eCell.style.left=`${e}px`),It(this.columnOrGroup)){const t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&sO(this.ariaEl,t.length)}}},WB=0,A0="headerCtrl",xC=class extends te{constructor(e,t){super(),this.column=e,this.rowCtrl=t,this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.instanceId=e.getUniqueId()+"-"+WB++}postConstruct(){const e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],e),this.addManagedEventListeners({overlayExclusiveChanged:e})}shouldStopEventPropagation(e){const{headerRowIndex:t,column:n}=this.beans.focusSvc.focusedHeader,r=n.getDefinition(),i=r&&r.suppressHeaderKeyboardEvent;if(!Ce(i))return!1;const s=Le(this.gos,{colDef:r,column:n,headerRowIndex:t,event:e});return!!i(s)}getWrapperHasFocus(){return Nt(this.beans)===this.eGui}setGui(e,t){this.eGui=e,this.addDomData(t),t.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),t.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}refreshHeaderStyles(){const e=this.column.getDefinition();if(!e)return;const{headerStyle:t}=e;let n;if(typeof t=="function"){const r=this.getHeaderClassParams();n=t(r)}else n=t;n&&this.comp.setUserStyles(n)}onGuiFocus(){this.eventSvc.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(e){const{wrapperElement:t,checkMeasuringCallback:n,compBean:r}=e,{beans:i}=this,s=p=>{if(!this.isAlive()||!r.isAlive())return;const{paddingTop:m,paddingBottom:C,borderBottomWidth:y,borderTopWidth:b}=go(this.eGui),R=m+C+y+b,E=t.offsetHeight+R;if(p<5){const P=Gt(i),D=!P||!P.contains(t),A=E==0;if(D||A){ki(i,()=>s(p+1));return}}this.setColHeaderHeight(this.column,E)};let o=!1,l;const c=()=>{const p=this.column.isAutoHeaderHeight();p&&!o&&d(),!p&&o&&f()},d=()=>{o=!0,s(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),l=Mi(this.beans,t,()=>s(0))},f=()=>{o=!1,l&&l(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),l=void 0};c(),r.addDestroyFunc(()=>f()),r.addManagedListeners(this.column,{widthChanged:()=>o&&s(0)}),r.addManagedEventListeners({sortChanged:()=>{o&&window.setTimeout(()=>s(0))}}),n&&n(c)}onDisplayedColumnsChanged(){const{comp:e,column:t,beans:n,eGui:r}=this;!e||!t||!r||(u0(e,t,n.visibleCols),mE(r,n.visibleCols.getAriaColIndex(t)))}addResizeAndMoveKeyboardListeners(e){e.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const e=to(this.beans);this.eGui&&sr(this.eGui,"tabindex",e?null:"-1")}onGuiKeyDown(e){var s;const t=Nt(this.beans),n=e.key===X.LEFT||e.key===X.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),t!==this.eGui||!e.shiftKey&&!e.altKey||((this.isResizing||n)&&(e.preventDefault(),e.stopImmediatePropagation()),!n))return;const i=e.key===X.LEFT!==this.gos.get("enableRtl")?"left":"right";if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const o=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(o,e.shiftKey),(s=this.resizeFeature)==null||s.toggleColumnResizing(!0)}else this.moveHeader(i)}moveHeader(e){var t;(t=this.beans.colMoves)==null||t.moveHeader(e,this.eGui,this.column,this.rowCtrl.pinned,this)}getViewportAdjustedResizeDiff(e){const t=this.getResizeDiff(e),{pinnedCols:n}=this.beans;return n?n.getHeaderResizeDiff(t,this.column):t}getResizeDiff(e){const{gos:t,column:n}=this;let r=e.key===X.LEFT!==t.get("enableRtl");const i=n.getPinned(),s=t.get("enableRtl");return i&&s!==(i==="right")&&(r=!r),(r?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{var e;(e=this.resizeFeature)==null||e.toggleColumnResizing(!1)},150))}handleKeyDown(e){const t=this.getWrapperHasFocus();switch(e.key){case X.PAGE_DOWN:case X.PAGE_UP:case X.PAGE_HOME:case X.PAGE_END:t&&e.preventDefault()}}addDomData(e){const t=A0,{eGui:n,gos:r}=this;co(r,n,t,this),e.addDestroyFunc(()=>co(r,n,t,null))}focus(e){const{eGui:t}=this;return t?(this.lastFocusEvent=e||null,t.focus(),!0):!1}focusThis(){this.beans.focusSvc.focusedHeader={headerRowIndex:this.rowCtrl.rowIndex,column:this.column}}removeDragSource(){var e;this.dragSource&&((e=this.beans.dragAndDrop)==null||e.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,t,n){const r=e??t,{menuSvc:i,gos:s}=this.beans;s.get("preventDefaultOnContextMenu")&&r.preventDefault(),i!=null&&i.isHeaderContextMenuEnabled(n)&&i.showHeaderContextMenu(n,e,t),this.dispatchColumnMouseEvent("columnHeaderContextMenu",n)}dispatchColumnMouseEvent(e,t){this.eventSvc.dispatchEvent({type:e,column:t})}setColHeaderHeight(e,t){if(!e.setAutoHeaderHeight(t))return;const{eventSvc:n}=this;e.isColumn?n.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"}):n.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.rowCtrl=null}},_B=class extends xC{constructor(){super(...arguments),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map}setComp(e,t,n,r,i){this.comp=e;const{rowCtrl:s,column:o,beans:l}=this,{colResize:c,context:d,colHover:f,rangeSvc:p}=l,m=wu(this,d,i);this.setGui(t,m),this.updateState(),this.setupWidth(m),this.setupMovingCss(m),this.setupMenuClass(m),this.setupSortableClass(m),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:r,checkMeasuringCallback:y=>this.setRefreshFunction("measuring",y),compBean:m}),this.addColumnHoverListener(m),this.setupFilterClass(m),this.setupStylesFromColDef(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(m),this.setupSelectAll(m),this.setupUserComp(),this.refreshAria(),c?this.resizeFeature=m.createManagedBean(c.createResizeFeature(s.pinned,o,n,e,this)):Ot(n,!1),f==null||f.createHoverFeature(m,[o],t),p==null||p.createRangeHighlightFeature(m,o,e),m.createManagedBean(new RC(o,t,l)),m.createManagedBean(new Ma(t,{shouldStopEventPropagation:y=>this.shouldStopEventPropagation(y),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(m),m.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader","enableAdvancedFilter"],()=>this.refresh()),m.addManagedListeners(o,{colDefChanged:()=>this.refresh()}),m.addManagedListeners(o,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const C=()=>this.checkDisplayName();m.addManagedEventListeners({columnValueChanged:C,columnRowGroupChanged:C,columnPivotChanged:C,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),m.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){var n;(n=this.beans.colResize)==null||n.resizeHeader(this.column,e,t)}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.colDef;return Le(t.gos,{colDef:n,column:e,floatingFilter:!1})}setupUserComp(){const e=this.lookupUserCompDetails();e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),t=this.column.getColDef();return _L(this.beans.userCompFactory,t,e)}createParams(){const{menuSvc:e,sortSvc:t,colFilter:n,gos:r}=this.beans;return Le(r,{column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&!!(e!=null&&e.isHeaderFilterButtonEnabled(this.column)),enableFilterIcon:!!n&&(!this.openFilterEnabled||Vn(this.gos)),showColumnMenu:(s,o)=>{e==null||e.showColumnMenu({column:this.column,buttonElement:s,positionBy:"button",onClosedCallback:o})},showColumnMenuAfterMouseClick:(s,o)=>{e==null||e.showColumnMenu({column:this.column,mouseEvent:s,positionBy:"mouse",onClosedCallback:o})},showFilter:s=>{e==null||e.showFilterMenu({column:this.column,buttonElement:s,containerType:"columnFilter",positionBy:"button"})},progressSort:s=>{t==null||t.progressSort(this.column,!!s,"uiColumnSorted")},setSort:(s,o)=>{t==null||t.setSortForColumn(this.column,s,!!o,"uiColumnSorted")},eGridHeader:this.eGui,setTooltip:(s,o)=>{r.assertModuleRegistered("Tooltip",3),this.setupTooltip(s,o)}})}setupSelectAll(e){const{selectionSvc:t}=this.beans;t&&(this.selectAllFeature=e.createManagedBean(t.createSelectAllFeature(this.column)),this.selectAllFeature.setComp(this))}getSelectAllGui(){var e;return(e=this.selectAllFeature)==null?void 0:e.getCheckboxGui()}handleKeyDown(e){var t;super.handleKeyDown(e),e.key===X.SPACE&&((t=this.selectAllFeature)==null||t.onSpaceKeyDown(e)),e.key===X.ENTER&&this.onEnterKeyDown(e),e.key===X.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){var t;e.ctrlKey||e.metaKey?this.showMenuOnKeyPress(e,!0):this.sortable&&((t=this.beans.sortSvc)==null||t.progressSort(this.column,e.shiftKey,"uiColumnSorted"))}showMenuOnKeyPress(e,t){const n=this.comp.getUserCompInstance();_S(n)&&n.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription()),EN()&&this.setActiveHeader(!0)}onFocusOut(e){this.eGui.contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){var n;this.tooltipFeature=(n=this.beans.tooltipSvc)==null?void 0:n.setupHeaderTooltip(this.tooltipFeature,this,e,t)}setupStylesFromColDef(){this.setRefreshFunction("headerStyles",this.refreshHeaderStyles.bind(this)),this.refreshHeaderStyles()}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),n=l0(t,this.gos,this.column,null),r=this.userHeaderClasses;this.userHeaderClasses=new Set(n),n.forEach(i=>{r.has(i)?r.delete(i):this.comp.addOrRemoveCssClass(i,!0)}),r.forEach(i=>this.comp.addOrRemoveCssClass(i,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){var t;this.dragSourceElement=e,this.removeDragSource(),!(!e||!this.draggable)&&(this.dragSource=((t=this.beans.colMoves)==null?void 0:t.setDragSourceForHeader(e,this.column,this.displayName))??null)}updateState(){const{menuSvc:e}=this.beans;this.menuEnabled=!!(e!=null&&e.isColumnMenuInHeaderEnabled(this.column)),this.openFilterEnabled=!!(e!=null&&e.isFilterMenuInHeaderEnabled(this.column)),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),Object.values(this.refreshFunctions).forEach(e=>e())}refreshHeaderComp(){const e=this.lookupUserCompDetails();if(!e)return;(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.colNames.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const t=()=>{const n=this.column.getActualWidth();this.comp.setWidth(`${n}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){const t=()=>{var n;(n=this.comp)==null||n.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const t=()=>{const n=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",n),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),t=e===0,n=e===1;this.comp.addOrRemoveCssClass("ag-header-highlight-before",t),this.comp.addOrRemoveCssClass("ag-header-highlight-after",n)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:n,beans:r}=this,i=SC(this.beans),s=i.reduce((f,p)=>f+=p,0)===0;if(n.addOrRemoveCssClass("ag-header-parent-hidden",s),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),n.addOrRemoveCssClass("ag-header-span-height",!1),n.addOrRemoveCssClass("ag-header-span-total",!1);return}const{numberOfParents:o,isSpanningTotal:l}=this.column.getColumnGroupPaddingInfo();n.addOrRemoveCssClass("ag-header-span-height",o>0);const c=bC(r);if(o===0){n.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${c}px`);return}n.addOrRemoveCssClass("ag-header-span-total",l);let d=0;for(let f=0;f<o;f++)d+=i[i.length-1-f];e.style.setProperty("top",`${-d}px`),e.style.setProperty("height",`${c+d}px`)}refreshAriaSort(){var e;if(this.sortable){const t=this.getLocaleTextFunc(),n=((e=this.beans.sortSvc)==null?void 0:e.getDisplaySortForColumn(this.column))||null;this.comp.setAriaSort(Y1(n)),this.setAriaDescriptionProperty("sort",t("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!Vn(this.gos)){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){var t;if(!this.eGui.contains(Nt(this.beans)))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((n,r)=>n==="filter"?-1:r.charCodeAt(0)-n.charCodeAt(0)).map(n=>this.ariaDescriptionProperties.get(n)).join(". ");(t=this.beans.ariaAnnounce)==null||t.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){var t;(t=this.beans.colHover)==null||t.addHeaderColumnHoverListener(e,this.comp,this.column)}addActiveHeaderMouseListeners(e){const t=i=>this.handleMouseOverChange(i.type==="mouseenter"),n=()=>{this.setActiveHeader(!0),this.dispatchColumnMouseEvent("columnHeaderClicked",this.column)},r=i=>this.handleContextMenuMouseEvent(i,void 0,this.column);e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:n,contextmenu:r})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return _S(t)?t.getAnchorElementForMenu(e):this.eGui}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function _S(e){return typeof e.getAnchorElementForMenu=="function"&&typeof e.onMenuKeyboardShortcut=="function"}var zB=0,dg=class extends te{constructor(e,t,n){super(),this.rowIndex=e,this.pinned=t,this.type=n,this.instanceId=zB++;const r=n=="group"?"ag-header-row-column-group":n=="filter"?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${r}`}postConstruct(){this.isPrintLayout=tn(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.getHeaderCellCtrls().every(e=>e.eGui!=null):!1}setComp(e,t,n=!0){this.comp=e,t=wu(this,this.beans.context,t),n&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const t=this.onRowHeightChanged.bind(this),n=this.onDisplayedColumnsChanged.bind(this);e.addManagedEventListeners({columnResized:this.setWidth.bind(this),displayedColumnsChanged:n,virtualColumnsChanged:r=>this.onVirtualColumnsChanged(r.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",n),e.addManagedPropertyListener("ensureDomOrder",r=>this.isEnsureDomOrder=r.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}getHeaderCellCtrl(e){if(this.headerCellCtrls){for(const t of this.headerCellCtrls.values())if(t.column===e)return t}}onDisplayedColumnsChanged(){this.isPrintLayout=tn(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}setWidth(){const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleCols:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){const{filterManager:e}=this.beans,t=[],n=SC(this.beans),r=bC(this.beans);t.push(...n),t.push(r),e!=null&&e.hasFloatingFilters()&&t.push(D0(this.beans));let i=0;for(let o=0;o<this.rowIndex;o++)i+=t[o];const s=t[this.rowIndex];return{topOffset:i,rowHeight:s}}onVirtualColumnsChanged(e=!1){const t=this.getHeaderCtrls(),n=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,n,e)}getHeaderCtrls(){const e=this.headerCellCtrls;this.headerCellCtrls=new Map;const t=this.getColumnsInViewport();for(const r of t)this.recycleAndCreateHeaderCtrls(r,e);const n=r=>{const{focusSvc:i,visibleCols:s}=this.beans;return i.isHeaderWrapperFocused(r)?s.isVisible(r.column):!1};if(e)for(const[r,i]of e)n(i)?this.headerCellCtrls.set(r,i):this.destroyBean(i);return this.getHeaderCellCtrls()}getHeaderCellCtrls(){var e;return Array.from(((e=this.headerCellCtrls)==null?void 0:e.values())??[])}recycleAndCreateHeaderCtrls(e,t){if(!this.headerCellCtrls||e.isEmptyGroup())return;const n=e.getUniqueId();let r;if(t&&(r=t.get(n),t.delete(n)),r&&r.column!=e&&(this.destroyBean(r),r=void 0),r==null)switch(this.type){case"filter":{r=this.createBean(this.beans.registry.createDynamicBean("headerFilterCellCtrl",!0,e,this));break}case"group":r=this.createBean(this.beans.registry.createDynamicBean("headerGroupCellCtrl",!0,e,this));break;default:r=this.createBean(new _B(e,this));break}this.headerCellCtrls.set(n,r)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let e=[];const t=this.getActualDepth(),{colViewport:n}=this.beans;return["left",null,"right"].forEach(r=>{const i=n.getHeadersToRender(r,t);e=e.concat(i)}),e}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.colViewport.getHeadersToRender(this.pinned,this.getActualDepth())}findHeaderCellCtrl(e){if(!this.headerCellCtrls)return;const t=this.getHeaderCellCtrls();let n;return typeof e=="function"?n=t.find(e):n=t.find(r=>r.column==e),n}focusHeader(e,t){const n=this.findHeaderCellCtrl(e);return n?n.focus(t):!1}destroy(){var e;(e=this.headerCellCtrls)==null||e.forEach(t=>{this.destroyBean(t)}),this.headerCellCtrls=void 0,super.destroy()}},jB=class extends te{constructor(e){super(),this.pinned=e,this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[]}setComp(e,t){this.comp=e,this.eViewport=t;const{pinnedCols:n,ctrlsSvc:r,colModel:i,colMoves:s,filterManager:o}=this.beans;this.setupCenterWidth(),n==null||n.setupHeaderPinnedWidth(this),this.setupDragAndDrop(s,this.eViewport);const l=this.onDisplayedColumnsChanged.bind(this,o);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:l,advancedFilterEnabledChanged:l});const c=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;r.register(c,this),i.ready&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const{focusSvc:t,colModel:n,filterManager:r}=this.beans;let i=0;const s=t.getFocusHeaderToUseAfterRefresh(),o=()=>{const f=NB(n)-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let p=0;p<f;p++){const m=this.createBean(new dg(i++,this.pinned,"group"));this.groupsRowCtrls.push(m)}},l=()=>{const f=i++,p=!this.hidden&&(this.columnsRowCtrl==null||!e||this.columnsRowCtrl.rowIndex!==f);(p||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),p&&(this.columnsRowCtrl=this.createBean(new dg(f,this.pinned,"column")))},c=()=>{this.includeFloatingFilter=!!(r!=null&&r.hasFloatingFilters())&&!this.hidden;const f=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){f();return}const p=i++;if(this.filtersRowCtrl){const m=this.filtersRowCtrl.rowIndex!==p;(!e||m)&&f()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new dg(p,this.pinned,"filter")))};o(),l(),c();const d=this.getAllCtrls();this.comp.setCtrls(d),this.restoreFocusOnHeader(t,s)}getHeaderCtrlForColumn(e){var t;if(Cs(e))return(t=this.columnsRowCtrl)==null?void 0:t.getHeaderCellCtrl(e);if(this.groupsRowCtrls.length!==0)for(let n=0;n<this.groupsRowCtrls.length;n++){const r=this.groupsRowCtrls[n].getHeaderCellCtrl(e);if(r)return r}}getHtmlElementForColumnHeader(e){var t;return((t=this.getHeaderCtrlForColumn(e))==null?void 0:t.eGui)??null}getRowType(e){var t;return(t=this.getAllCtrls()[e])==null?void 0:t.type}focusHeader(e,t,n){const i=this.getAllCtrls()[e];return i?i.focusHeader(t,n):!1}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}destroy(){this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl),this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls),super.destroy()}setupDragAndDrop(e,t){const n=e==null?void 0:e.createBodyDropTarget(this.pinned,t);n&&this.createManagedBean(n)}restoreFocusOnHeader(e,t){if(!t)return;const{column:n}=t;n.getPinned()==this.pinned&&e.focusHeaderPosition({headerPosition:t})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(e){const t=!!(e!=null&&e.hasFloatingFilters())&&!this.hidden;this.includeFloatingFilter!==t&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new wC(e=>this.comp.setCenterWidth(`${e}px`),!0))}},UB=class extends te{constructor(){super(...arguments),this.beanName="menuSvc"}postConstruct(){const{enterpriseMenuFactory:e,filterMenuFactory:t}=this.beans;this.activeMenuFactory=e??t}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){const{enterpriseMenuFactory:t,filterMenuFactory:n}=this.beans,r=t&&Vn(this.gos)?t:n;this.showColumnMenuCommon(r,e,e.containerType,!0)}showHeaderContextMenu(e,t,n){var r;(r=this.activeMenuFactory)==null||r.showMenuAfterContextMenuEvent(e,t,n)}hidePopupMenu(){var e,t;(e=this.beans.contextMenuSvc)==null||e.hideActiveMenu(),(t=this.activeMenuFactory)==null||t.hideActiveMenu()}isColumnMenuInHeaderEnabled(e){var n;const{suppressHeaderMenuButton:t}=e.getColDef();return!t&&!!((n=this.activeMenuFactory)!=null&&n.isMenuEnabled(e))&&(Vn(this.gos)||!!this.beans.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){var t;return!e.getColDef().suppressHeaderFilterButton&&!!((t=this.beans.filterManager)!=null&&t.isFilterAllowed(e))}isHeaderContextMenuEnabled(e){const t=e&&Cs(e)?e.getColDef():e==null?void 0:e.getColGroupDef();return!(t!=null&&t.suppressHeaderContextMenu)&&this.gos.get("columnMenu")==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(Ys()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!Vn(this.gos)&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){var t;return!!((t=this.beans.filterManager)!=null&&t.isFilterAllowed(e))&&!Vn(this.gos)&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isFloatingFilterButtonEnabled(e){return!e.getColDef().suppressFloatingFilterButton}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos,t=e.get("suppressMenuHide");return Vn(e)?e.exists("suppressMenuHide")?t:!1:t}showColumnMenuCommon(e,t,n,r){const{positionBy:i,onClosedCallback:s}=t,o=t.column;if(i==="button"){const{buttonElement:l}=t;e==null||e.showMenuAfterButtonClick(o,l,n,s,r)}else if(i==="mouse"){const{mouseEvent:l}=t;e==null||e.showMenuAfterMouseEvent(o,l,n,s,r)}else if(o){const l=this.beans,c=l.ctrlsSvc;c.getScrollFeature().ensureColumnVisible(o,"auto"),ki(l,()=>{var f;const d=(f=c.getHeaderRowContainerCtrl(o.getPinned()))==null?void 0:f.getHeaderCtrlForColumn(o);d&&(e==null||e.showMenuAfterButtonClick(o,d.getAnchorElementForMenu(r),n,s,!0))})}}};function zS(e,t,n){e.menuVisible!==t&&(e.menuVisible=t,e.dispatchColEvent("menuVisibleChanged",n))}var M0=class extends Pt{constructor(){super()}},$B=class extends M0{init(){var t;const e=yi((t=this.gos.get("overlayLoadingTemplate"))==null?void 0:t.trim());if(this.setTemplate(e??'<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>'),!e){const n=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=n("loadingOoo","Loading...")})}}},KB=class extends M0{init(){var t;const e=yi((t=this.gos.get("overlayNoRowsTemplate"))==null?void 0:t.trim());if(this.setTemplate(e??'<span class="ag-overlay-no-rows-center"></span>'),!e){const n=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=n("noRowsToShow","No Rows To Show")})}}};function qB(e,t,n){const r=rr(e,t,n);if(r){const{className:s}=r;if(typeof s=="string"&&s.indexOf("ag-icon")>-1||typeof s=="object"&&s["ag-icon"])return r}const i=document.createElement("span");return i.appendChild(r),i}function rr(e,t,n){var s;let r=null;e==="smallDown"?he(262):e==="smallLeft"?he(263):e==="smallRight"&&he(264);const i=n&&n.getColDef().icons;if(i&&(r=i[e]),t.gos&&!r){const o=t.gos.get("icons");o&&(r=o[e])}if(r){let o;if(typeof r=="function")o=r();else if(typeof r=="string")o=r;else{he(38,{iconName:e});return}if(typeof o=="string")return Xl(o);if(uC(o))return o;he(133,{iconName:e});return}else{const o=document.createElement("span"),l=t.registry.getIcon(e);l||(s=t.validation)==null||s.validateIcon(e);const c=l??e;return o.setAttribute("class",`ag-icon ag-icon-${c}`),o.setAttribute("unselectable","on"),Fr(o,"presentation"),o}}var YB=".ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;display:flex;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2));white-space:nowrap}",QB=class extends Pt{constructor(){super(),this.dragSource=null,this.eIcon=Ie,this.eLabel=Ie,this.registerCSS(YB)}postConstruct(){const e=t=>qB(t,this.beans,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(`<div class="ag-dnd-ghost ag-unselectable">
                <span data-ref="eIcon" class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
                <div data-ref="eLabel" class="ag-dnd-ghost-label"></div>
            </div>`)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t){const{eIcon:n,dragSource:r,dropIconMap:i,gos:s}=this;zn(n);let o=null;e||(e=r!=null&&r.getDefaultIconName?r.getDefaultIconName():"notAllowed"),o=i[e],n.classList.toggle("ag-shake-left-to-right",t),!(o===i.hide&&s.get("suppressDragLeaveHidesColumns"))&&o&&n.appendChild(o)}setLabel(e){this.eLabel.textContent=e}},JB=".ag-label{white-space:nowrap}:where(.ag-ltr) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-label-align-right) .ag-label{order:1}:where(.ag-ltr) :where(.ag-label-align-right) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) :where(.ag-label-align-right) .ag-label{margin-right:var(--ag-spacing)}.ag-label-align-right>*{flex:none}.ag-label-align-top{align-items:flex-start;flex-direction:column;>*{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-label-align-top) .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}",XB=class extends Pt{constructor(e,t,n){super(t,n),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{},this.registerCSS(JB)}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:n,labelAlignment:r,disabled:i}=this.config;i!=null&&this.setDisabled(i),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),n!=null&&this.setLabelWidth(n),this.setLabelAlignment(r||this.labelAlignment),this.refreshLabel()}refreshLabel(){const{label:e,eLabel:t}=this;zn(t),typeof e=="string"?t.innerText=e+this.labelSeparator:e&&t.appendChild(e),e===""?(Ot(t,!1),Fr(t,"presentation")):(Ot(t,!0),Fr(t,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){const e=this.eLabel;return e.id=e.id||`ag-${this.getCompId()}-label`,e.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const n=this.getGui().classList;return n.toggle("ag-label-align-left",e==="left"),n.toggle("ag-label-align-right",e==="right"),n.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(Ld(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return Ql(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},k0=class extends XB{constructor(e,t,n,r){super(e,t,n),this.className=r}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:n}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),n!=null&&this.onValueChange(n),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),n=this.getLabel();n==null||n==""||Q1(e)!==null?$g(e,""):$g(e,t??"")}setAriaLabel(e){return wh(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return Qr(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}},Ks=class extends k0{constructor(e,t,n="text",r="input"){super(e,(e==null?void 0:e.template)??`
            <div role="presentation">
                <div data-ref="eLabel" class="ag-input-field-label"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <${r} data-ref="eInput" class="ag-input-field-input"></${r}>
                </div>
            </div>`,[],t),this.inputType=n,this.displayFieldTag=r,this.eLabel=Ie,this.eWrapper=Ie,this.eInput=Ie}postConstruct(){super.postConstruct(),this.setInputType();const{eLabel:e,eWrapper:t,eInput:n,className:r}=this;e.classList.add(`${r}-label`),t.classList.add(`${r}-input-wrapper`),n.classList.add(`${r}-input`),this.addCssClass("ag-input-field"),n.id=n.id||`ag-${this.getCompId()}-input`;const{inputName:i,inputWidth:s}=this.config;i!=null&&this.setInputName(i),s!=null&&this.setInputWidth(s),this.addInputListeners(),this.activateTabIndex([n])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return Ld(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return sr(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return wh(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return Ql(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)sr(this.eInput,"autocomplete",null);else{const t=typeof e=="string"?e:"off";sr(this.eInput,"autocomplete",t)}return this}},EC=class extends Ks{constructor(e,t="ag-checkbox",n="checkbox"){super(e,t,n),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){if(this.isSelected()===e)return;this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0;const n=this.eInput;n.checked=e,n.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue)}dispatchChange(e,t,n){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:n});const r=this.getInputElement();this.eventSvc.dispatchEvent({type:"checkboxChanged",id:r.id,name:r.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),n=this.selected=e.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,t,e)}refreshSelectedClass(e){const t=this.eWrapper.classList;t.toggle("ag-checked",e===!0),t.toggle("ag-indeterminate",e==null)}},FC={selector:"AG-CHECKBOX",component:EC},ZB=".ag-checkbox-cell{height:100%}",eH=class extends Pt{constructor(){super(`
            <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[FC]),this.eCheckbox=Ie,this.registerCSS(ZB)}init(e){this.refresh(e);const{eCheckbox:t,beans:n}=this,r=t.getInputElement();r.setAttribute("tabindex","-1"),fE(r,"polite"),this.addManagedListeners(r,{click:i=>{if(ga(i),t.isDisabled())return;const s=t.getValue();this.onCheckboxChanged(s)},dblclick:i=>{ga(i)}}),this.addManagedElementListeners(e.eGridCell,{keydown:i=>{if(i.key===X.SPACE&&!t.isDisabled()){e.eGridCell===Nt(n)&&t.toggle();const s=t.getValue();this.onCheckboxChanged(s),i.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,n=!0;const{value:r,column:i,node:s}=e;if(s.group&&i)if(typeof r=="boolean")t=r;else{const p=i.getColId();p.startsWith(yh)?t=r==null||r===""?void 0:r==="true":s.aggData&&s.aggData[p]!==void 0?t=r??void 0:n=!1}else t=r??void 0;const{eCheckbox:o}=this;if(!n){o.setDisplayed(!1);return}o.setValue(t);const l=e.disabled??!(i!=null&&i.isCellEditable(s));o.setDisabled(l);const c=this.getLocaleTextFunc(),d=sC(c,t),f=l?d:`${c("ariaToggleCellValue","Press SPACE to toggle cell value")} (${d})`;o.setInputAriaLabel(f)}onCheckboxChanged(e){const{eventSvc:t,params:n}=this,{column:r,node:i,value:s}=n,o={column:r,colDef:r.getColDef(),data:i.data,node:i,rowIndex:i.rowIndex,rowPinned:i.rowPinned,value:s};t.dispatchEvent({type:"cellEditingStarted",...o});const l=i.setDataValue(r,e,"edit");t.dispatchEvent({type:"cellEditingStopped",...o,oldValue:s,newValue:e,valueChanged:l}),l||this.updateCheckbox(n)}},tH="ROOT_NODE_ID",nH=class extends te{constructor(){super(...arguments),this.nextId=0,this.allNodesMap={},this.rootNode=null}get treeData(){return!1}getRowNode(e){return this.allNodesMap[e]}extractRowData(){var e,t;return(t=(e=this.rootNode)==null?void 0:e.allLeafChildren)==null?void 0:t.map(n=>n.data)}activate(e){this.rootNode=e,e.group=!0,e.level=-1,e.id=tH,e.allLeafChildren=[],e.childrenAfterGroup=[],e.childrenAfterSort=[],e.childrenAfterAggFilter=[],e.childrenAfterFilter=[],this.updateRootSiblingArrays(e)}deactivate(){this.rootNode&&(this.allNodesMap={},this.rootNode=null)}destroy(){super.destroy(),this.allNodesMap={},this.rootNode=null}setNewRowData(e){const t=this.rootNode;t&&(this.dispatchRowDataUpdateStartedEvent(e),t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.allNodesMap={},this.nextId=0,this.loadNewRowData(e),this.updateRootSiblingArrays(t))}updateRootSiblingArrays(e){const t=e.sibling;t&&(t.childrenAfterFilter=e.childrenAfterFilter,t.childrenAfterGroup=e.childrenAfterGroup,t.childrenAfterAggFilter=e.childrenAfterAggFilter,t.childrenAfterSort=e.childrenAfterSort,t.childrenMapped=e.childrenMapped,t.allLeafChildren=e.allLeafChildren)}loadNewRowData(e){this.rootNode.allLeafChildren=(e==null?void 0:e.map((t,n)=>this.createRowNode(t,n)))??[]}setImmutableRowData(e,t){const n=pa(this.gos),r=!this.gos.get("suppressMaintainUnsortedOrder"),i=e.changedRowNodes,s=new Set,o=this.rootNode,l=o.allLeafChildren,c=l.length;let d=!1,f=!1,p=!1,m=!1;for(let y=0,b=-1,R=t.length;y<R;y++){const x=t[y];let E=this.getRowNode(n({data:x,level:0}));if(!E)d=!0,E=this.createRowNode(x,-1),i.add(E);else{if(r){const P=E.sourceRowIndex;m||(m=P<=b||d),b=P}E.data!==x&&(p=!0,E.updateData(x),i.update(E))}s.add(E)}const C=[];for(let y=0;y<c;y++){const b=l[y];s.has(b)||(f=!0,b.isSelected()&&C.push(b),this.rowNodeDeleted(b),i.remove(b))}if(d||f||m){const y=new Array(s.size);let b=0;if(!r)for(let x=0;x<c;++x){const E=l[x];s.delete(E)&&(E.sourceRowIndex=b,y[b++]=E)}for(const x of s)x.sourceRowIndex=b,y[b++]=x;o.allLeafChildren=y;const R=o.sibling;R&&(R.allLeafChildren=y),e.rowNodesOrderChanged||(e.rowNodesOrderChanged=m)}(d||f||m||p)&&(this.deselectNodes(C),e.rowDataUpdated=!0)}rowNodeDeleted(e){e.clearRowTopAndRowIndex();const t=e.id,n=this.allNodesMap;n[t]===e&&delete n[t]}updateRowData(e,t){this.dispatchRowDataUpdateStartedEvent(e.add);const n={changedRowNodes:t,rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},r=[],i=pa(this.gos);return this.executeRemove(i,e,n,r),this.executeUpdate(i,e,n,r),this.executeAdd(e,n),this.deselectNodes(r),n}executeAdd(e,t){const n=e.add;if(!(n!=null&&n.length))return;let r=this.rootNode.allLeafChildren,i=r.length;if(typeof e.addIndex=="number"&&(i=this.sanitizeAddIndex(e.addIndex),i>0&&this.gos.get("treeData")&&this.gos.get("getDataPath")))for(let p=0;p<r.length;p++){const m=r[p];if((m==null?void 0:m.rowIndex)==i-1){i=p+1;break}}const s=n.length,o=t.changedRowNodes,l=new Array(s);for(let f=0;f<s;f++){const p=this.createRowNode(n[f],i+f);o.add(p),l[f]=p}const c=this.rootNode;if(i<r.length){const f=r.slice(0,i),p=r.slice(i,r.length),m=f.length+l.length;for(let C=0,y=p.length;C<y;++C)p[C].sourceRowIndex=m+C;r=[...f,...l,...p],t.rowsInserted=!0}else r=r.concat(l);c.allLeafChildren=r;const d=c.sibling;d&&(d.allLeafChildren=r),t.rowNodeTransaction.add=l}executeRemove(e,t,{changedRowNodes:n,rowNodeTransaction:r},i){var d,f;const{remove:s}=t;if(!(s!=null&&s.length))return;const o={};s.forEach(p=>{const m=this.lookupRowNode(e,p);m&&(m.isSelected()&&i.push(m),m.clearRowTopAndRowIndex(),o[m.id]=!0,delete this.allNodesMap[m.id],r.remove.push(m),n.remove(m))});const l=this.rootNode;l.allLeafChildren=((d=l.allLeafChildren)==null?void 0:d.filter(p=>!o[p.id]))??null,(f=l.allLeafChildren)==null||f.forEach((p,m)=>{p.sourceRowIndex=m});const c=l.sibling;c&&(c.allLeafChildren=l.allLeafChildren)}executeUpdate(e,t,{changedRowNodes:n,rowNodeTransaction:r},i){const{update:s}=t;s!=null&&s.length&&s.forEach(o=>{const l=this.lookupRowNode(e,o);l&&(l.updateData(o),!l.selectable&&l.isSelected()&&i.push(l),r.update.push(l),n.update(l))})}dispatchRowDataUpdateStartedEvent(e){this.eventSvc.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e!=null&&e.length?e[0]:null})}deselectNodes(e){var i;const t="rowDataChanged",n=this.beans.selectionSvc,r=e.length>0;r&&(n==null||n.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t})),(i=n==null?void 0:n.updateGroupsFromChildrenSelections)==null||i.call(n,t),r&&this.eventSvc.dispatchEvent({type:"selectionChanged",source:t})}sanitizeAddIndex(e){var n;const t=((n=this.rootNode.allLeafChildren)==null?void 0:n.length)??0;return e<0||e>=t||Number.isNaN(e)?t:Math.ceil(e)}createRowNode(e,t){const n=new va(this.beans);return n.parent=this.rootNode,n.level=0,n.group=!1,n.expanded=!1,n.sourceRowIndex=t,n.setDataAndId(e,String(this.nextId)),this.allNodesMap[n.id]&&he(2,{nodeId:n.id}),this.allNodesMap[n.id]=n,this.nextId++,n}lookupRowNode(e,t){var r,i;let n;if(e){const s=e({data:t,level:0});if(n=this.allNodesMap[s],!n)return ut(4,{id:s}),null}else if(n=(i=(r=this.rootNode)==null?void 0:r.allLeafChildren)==null?void 0:i.find(s=>s.data===t),!n)return ut(5,{data:t}),null;return n||null}},rH=class extends Pt{constructor(){super(`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[FC]),this.eCheckbox=Ie}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.getLocaleTextFunc(),{rowNode:t,eCheckbox:n}=this,r=t.isSelected(),i=sC(e,r),[s,o]=t.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],l=e(s,o);n.setValue(r,!0),n.setInputAriaLabel(`${l} (${i})`)}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:ga,click:r=>{var i;ga(r),(i=this.beans.selectionSvc)==null||i.handleSelectionEvent(r,this.rowNode,"checkboxSelected")}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",({currentValue:r,previousValue:i})=>{const s=typeof r=="object"?rg(r):void 0,o=typeof i=="object"?rg(i):void 0;s!==o&&this.onSelectableChanged()}),im(this.gos)||typeof this.getIsVisible()=="function"){const r=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:r}),this.addManagedListeners(this.rowNode,{dataChanged:r,cellChanged:r}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}showOrHideSelect(){const{column:e,rowNode:t,overrides:n,gos:r}=this;let i=t.selectable;const s=this.getIsVisible();if(i)if(typeof s=="function"){const c=n==null?void 0:n.callbackParams;if(!e)i=s({...c,node:t,data:t.data});else{const d=e.createColumnFunctionCallbackParams(t);i=s({...c,...d})}}else i=s??!1;const o=r.get("rowSelection");if(o&&typeof o!="string"?!rg(o):e==null?void 0:e.getColDef().showDisabledCheckboxes){this.eCheckbox.setDisabled(!i),this.setVisible(!0),this.setDisplayed(!0);return}if(n!=null&&n.removeHidden){this.setDisplayed(i);return}this.setVisible(i)}getIsVisible(){var n,r;const e=this.overrides;if(e)return e.isVisible;const t=this.gos.get("rowSelection");return t&&typeof t!="string"?ra(t):(r=(n=this.column)==null?void 0:n.getColDef())==null?void 0:r.checkboxSelection}},iH=class{constructor(e){this.rowModel=e,this.selectAll=!1,this.rootId=null,this.endId=null,this.cachedRange=[]}reset(){this.rootId=null,this.endId=null,this.cachedRange.length=0}setRoot(e){this.rootId=e.id,this.endId=null,this.cachedRange.length=0}setEndRange(e){this.endId=e.id,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){const e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.rowModel.getNodesInRangeForSelection(e,t)??[]}return this.cachedRange}isInRange(e){return this.rootId===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(e){return this.rootId?this.rowModel.getRowNode(this.rootId)??null:e?(this.setRoot(e),e):null}getEnd(){return this.endId?this.rowModel.getRowNode(this.endId)??null:null}truncate(e){const t=this.getRange();if(t.length===0)return{keep:[],discard:[]};const n=t[0].id===this.rootId,r=t.findIndex(i=>i.id===e.id);if(r>-1){const i=t.slice(0,r),s=t.slice(r+1);return this.setEndRange(e),n?{keep:i,discard:s}:{keep:s,discard:i}}else return{keep:t,discard:[]}}extend(e,t=!1){const n=this.getRoot();if(n==null){const i=this.getRange().slice();return t&&e.depthFirstSearch(s=>!s.group&&i.push(s)),i.push(e),this.setRoot(e),{keep:i,discard:[]}}const r=this.rowModel.getNodesInRangeForSelection(n,e);if(!r)return this.setRoot(e),{keep:[e],discard:[]};if(r.find(i=>i.id===this.endId))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const i=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:i}}}},sH=class extends te{constructor(e){super(),this.column=e,this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(Nt(this.beans))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e;const t=this.createManagedBean(new EC);this.cbSelectAll=t,t.addCssClass("ag-header-select-all"),Fr(t.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedEventListeners({newColumnsLoaded:()=>this.showOrHideSelectAll(),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:this.onSelectionChanged.bind(this),paginationChanged:this.onSelectionChanged.bind(this),modelUpdated:this.onModelChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",({currentValue:n,previousValue:r})=>{const i=s=>typeof s=="string"||!s||s.mode==="singleRow"?void 0:s.selectAll;i(n)!==i(r)&&this.showOrHideSelectAll()}),this.addManagedListeners(t,{fieldValueChanged:this.onCbSelectAll.bind(this)}),t.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onDisplayedColumnsChanged(e){this.isAlive()&&this.showOrHideSelectAll(e.source==="uiColumnMoved")}showOrHideSelectAll(e=!1){const t=this.isCheckboxSelection();this.cbSelectAllVisible=t,this.cbSelectAll.setDisplayed(t),t&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel(e)}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.getSelectAllMode(),t=this.beans.selectionSvc,n=this.cbSelectAll,r=t.getSelectAllState(e);n.setValue(r);const i=t.hasNodesToSelect(e);n.setDisabled(!i),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(e=!1){const t=this.getLocaleTextFunc(),{headerCellCtrl:n,cbSelectAll:r,cbSelectAllVisible:i}=this,o=r.getValue()?t("ariaChecked","checked"):t("ariaUnchecked","unchecked"),l=t("ariaRowSelectAll","Press Space to toggle all rows selection");n.setAriaDescriptionProperty("selectAll",i?`${l} (${o})`:null),r.setInputAriaLabel(t("ariaHeaderSelection","Column with Header Selection")),e||n.announceAriaDescription()}checkSelectionType(e){return Gd(this.gos)?!0:(he(128,{feature:e}),!1)}checkRightRowModelType(e){const{gos:t,rowModel:n}=this.beans;return un(t)||mo(t)?!0:(he(129,{feature:e,rowModel:n.getType()}),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.getSelectAllMode();let n="uiSelectAll";t==="currentPage"?n="uiSelectAllCurrentPage":t==="filtered"&&(n="uiSelectAllFiltered");const r={source:n,selectAll:t},i=this.beans.selectionSvc;e?i.selectAllRowNodes(r):i.deselectAllRowNodes(r)}isCheckboxSelection(){var d;const{column:e,gos:t,beans:n}=this,r=t.get("rowSelection"),i=e.getColDef(),{headerCheckboxSelection:s}=i;let o=!1;const l=typeof r=="object";if(l){const f=Ei(e),p=pC(e);(rm(r)==="autoGroupColumn"&&p||f&&((d=n.selectionColSvc)!=null&&d.isSelectionColumnEnabled()))&&(o=ld(r))}else typeof s=="function"?o=s(Le(t,{column:e,colDef:i})):o=!!s;const c=l?"headerCheckbox":"headerCheckboxSelection";return o&&this.checkRightRowModelType(c)&&this.checkSelectionType(c)}getSelectAllMode(){const e=HE(this.gos,!1);if(e)return e;const{headerCheckboxSelectionCurrentPageOnly:t,headerCheckboxSelectionFilteredOnly:n}=this.column.getColDef();return t?"currentPage":n?"filtered":"all"}},oH=class extends te{postConstruct(){const{gos:e,beans:t}=this;this.selectionCtx=new iH(t.rowModel),this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>{const n=im(e);n!==this.isRowSelectable&&(this.isRowSelectable=n,this.updateSelectable())}),this.isRowSelectable=im(e)}destroy(){super.destroy(),this.selectionCtx.reset()}createCheckboxSelectionComponent(){return new rH}createSelectAllFeature(e){return new sH(e)}isMultiSelect(){return Gd(this.gos)}onRowCtrlSelected(e,t,n){const r=!!e.rowNode.isSelected();e.forEachGui(n,i=>{i.rowComp.addOrRemoveCssClass("ag-row-selected",r);const s=i.element;qg(s,r),s.contains(Nt(this.beans))&&t(i)})}announceAriaRowSelection(e){var i;if(this.isRowSelectionBlocked(e))return;const t=e.isSelected();if(!e.selectable)return;const r=this.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row`);(i=this.beans.ariaAnnounce)==null||i.announceValue(r,"rowSelection")}dispatchSelectionChanged(e){this.eventSvc.dispatchEvent({type:"selectionChanged",source:e})}isRowSelectionBlocked(e){return!e.selectable||!!e.rowPinned||!Xs(this.gos)}updateRowSelectable(e,t){var r;const n=((r=this.isRowSelectable)==null?void 0:r.call(this,e))??!0;return this.setRowSelectable(e,n,t),n}setRowSelectable(e,t,n){if(e.selectable!==t){if(e.selectable=t,e.dispatchRowEvent("selectableChanged"),n)return;if(tu(this.gos)){const i=this.calculateSelectedFromChildren(e);this.setNodesSelected({nodes:[e],newValue:i??!1,source:"selectableChanged"});return}e.isSelected()&&!e.selectable&&this.setNodesSelected({nodes:[e],newValue:!1,source:"selectableChanged"})}}calculateSelectedFromChildren(e){var r;let t=!1,n=!1;if(!((r=e.childrenAfterGroup)!=null&&r.length))return e.selectable?e.__selected:null;for(let i=0;i<e.childrenAfterGroup.length;i++){const s=e.childrenAfterGroup[i];let o=s.isSelected();if(!s.selectable){const l=this.calculateSelectedFromChildren(s);if(l===null)continue;o=l}switch(o){case!0:t=!0;break;case!1:n=!0;break;default:return}}if(!(t&&n))return t?!0:n?!1:e.selectable?e.__selected:null}selectRowNode(e,t,n,r="api"){const i=!e.selectable&&t,s=e.__selected===t;if(i||s)return!1;e.__selected=t,e.dispatchRowEvent("rowSelected");const o=e.sibling;return o&&o.footer&&o.__localEventService&&o.dispatchRowEvent("rowSelected"),this.eventSvc.dispatchEvent({...XN(e,this.gos,"rowSelected"),event:n||null,source:r}),!0}isCellCheckboxSelection(e,t){const n=this.gos.get("rowSelection");if(n&&typeof n!="string"){const r=Ei(e)&&ra(n);return e.isColumnFunc(t,r)}else return e.isColumnFunc(t,e.colDef.checkboxSelection)}inferNodeSelections(e,t,n,r){const{gos:i,selectionCtx:s}=this,o=e.isSelected(),l=tu(i),c=LO(i),d=NO(i),f=this.isMultiSelect(),p=r==="rowClicked";if(p&&l&&e.group||p&&!(c||d))return null;if(t&&n&&f){const m=s.getRoot();if(m)if(m.isSelected()){const C=s.isInRange(e)?s.truncate(e):s.extend(e,l);return{deselect:C.discard,select:C.keep,reset:!1}}else{const C=s.extend(e,l);return{select:[],deselect:C.keep,reset:!1}}else return null}else if(t&&f){const m=s.selectAll?this.beans.rowModel.getRow(0):void 0,C=s.getRoot(m),y=s.isInRange(e)?s.truncate(e):s.extend(e,l);return{select:y.keep,deselect:y.discard,reset:s.selectAll||!!(C&&!C.isSelected())}}else{if(n)return s.setRoot(e),p&&o&&!d?null:{node:e,newValue:!o,clearSelection:!f};{s.setRoot(e);const m=BO(i),C=Vd(i)==="filteredDescendants",y=p&&(!m||!c);if(C&&o===void 0&&un(i))return{node:e,newValue:!1,clearSelection:!f||y};if(p){const b=o?!m:c;return b===o&&!y||b&&!c||!b&&!d?null:{node:e,newValue:b,clearSelection:!f||y}}return{node:e,newValue:!o,clearSelection:!f||y}}}}},aH=class extends EC{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){const t=this.eInput;e.selected&&e.name&&t.name&&t.name===e.name&&e.id&&t.id!==e.id&&this.setValue(!1,!0)}},wo=class extends Ks{constructor(e,t="ag-text-field",n="text"){super(e,t,n)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){const n=this.eInput;return n.value!==e&&(n.value=Ce(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),t=n=>{b0(n)&&n.key&&!e.test(n.key)&&n.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:n=>{var i;const r=(i=n.clipboardData)==null?void 0:i.getData("text");r&&r.split("").some(s=>!e.test(s))&&n.preventDefault()}})}},bh={selector:"AG-INPUT-TEXT-FIELD",component:wo},lH=class extends Ks{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const n=super.setValue(e,t);return this.eInput.value=e,n}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},uH={selector:"AG-INPUT-TEXT-AREA",component:lH},PC=class extends wo{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct();const e=this.eInput;this.addManagedListeners(e,{blur:()=>{const s=parseFloat(e.value),o=isNaN(s)?"":this.normalizeValue(s.toString());this.value!==o&&this.setValue(o)},wheel:this.onWheel.bind(this)}),e.step="any";const{precision:t,min:n,max:r,step:i}=this.config;typeof t=="number"&&this.setPrecision(t),typeof n=="number"&&this.setMin(n),typeof r=="number"&&this.setMax(r),typeof i=="number"&&this.setStep(i)}onWheel(e){Nt(this.beans)===this.eInput&&e.preventDefault()}normalizeValue(e){if(e==="")return"";this.precision!=null&&(e=this.adjustPrecision(e));const t=parseFloat(e),{min:n,max:r}=this;return n!=null&&t<n?e=n.toString():r!=null&&t>r&&(e=r.toString()),e}adjustPrecision(e,t){const n=this.precision;if(n==null)return e;if(t){const i=parseFloat(e).toFixed(n);return parseFloat(i).toString()}const r=String(e).split(".");if(r.length>1){if(r[1].length<=n)return e;if(n>0)return`${r[0]}.${r[1].slice(0,n)}`}return r[0]}setMin(e){return this.min===e?this:(this.min=e,sr(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,sr(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,sr(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(n=>super.setValue(n,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,n){if(Ce(n)){let r=this.isScientificNotation(n);if(r&&this.eInput.validity.valid)return e(n);if(!r){n=this.adjustPrecision(n);const i=this.normalizeValue(n);r=n!=i}if(r)return t(n)}return e(n)}getValue(){const e=this.eInput;if(!e.validity.valid)return;const t=e.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},cH={selector:"AG-INPUT-NUMBER-FIELD",component:PC};function Wl(e,t){return e.toString().padStart(t,"0")}function ar(e,t=!0,n="-"){if(!e)return null;let r=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(i=>Wl(i,2)).join(n);return t&&(r+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map(i=>Wl(i,2)).join(":")),r}var hg=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function _l(e,t="YYYY-MM-DD"){const n=Wl(e.getFullYear(),4),r=["January","February","March","April","May","June","July","August","September","October","November","December"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s={YYYY:()=>n.slice(n.length-4,n.length),YY:()=>n.slice(n.length-2,n.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>r[e.getMonth()],MMM:()=>r[e.getMonth()].slice(0,3),MM:()=>Wl(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${hg(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${hg(e.getDate())}`,DD:()=>Wl(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>i[e.getDay()],ddd:()=>i[e.getDay()].slice(0,3),dd:()=>i[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${hg(e.getDay())}`,d:()=>`${e.getDay()}`},o=new RegExp(Object.keys(s).join("|"),"g");return t.replace(o,l=>l in s?s[l]():l)}function Fn(e){if(!e)return null;const[t,n]=e.split(" ");if(!t)return null;const r=t.split("-").map(p=>parseInt(p,10));if(r.filter(p=>!isNaN(p)).length!==3)return null;const[i,s,o]=r,l=new Date(i,s-1,o);if(l.getFullYear()!==i||l.getMonth()!==s-1||l.getDate()!==o)return null;if(!n||n==="00:00:00")return l;const[c,d,f]=n.split(":").map(p=>parseInt(p,10));return c>=0&&c<24&&l.setHours(c),d>=0&&d<60&&l.setMinutes(d),f>=0&&f<60&&l.setSeconds(f),l}var dH=class extends wo{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=bs();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){Nt(this.beans)===this.eInput&&e.preventDefault()}setMin(e){const t=e instanceof Date?ar(e??null,!1)??void 0:e;return this.min===t?this:(this.min=t,sr(this.eInput,"min",t),this)}setMax(e){const t=e instanceof Date?ar(e??null,!1)??void 0:e;return this.max===t?this:(this.max=t,sr(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,sr(this.eInput,"step",e),this)}getDate(){if(this.eInput.validity.valid)return Fn(this.getValue())??void 0}setDate(e,t){this.setValue(ar(e??null,!1),t)}},I0={selector:"AG-INPUT-DATE-FIELD",component:dH},hH=1e3,fH=1e3,jS=100,US,Jc=!1,pH=class extends te{constructor(e,t){super(),this.tooltipCtrl=e,this.getTooltipValue=t,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(e){this.popupSvc=e.popupSvc,this.userCompFactory=e.userCompFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const e=this.tooltipCtrl.getGui();this.tooltipTrigger===0&&this.addManagedListeners(e,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(e,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(e,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(e,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(e){const t=this.gos.get(e);return Math.max(200,t)}getTooltipDelay(e){var t,n,r,i;return e==="show"?((n=(t=this.tooltipCtrl).getTooltipShowDelayOverride)==null?void 0:n.call(t))??this.getGridOptionsTooltipDelay("tooltipShowDelay"):((i=(r=this.tooltipCtrl).getTooltipHideDelayOverride)==null?void 0:i.call(r))??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const e=this.gos.get("tooltipTrigger");return!e||e==="hover"?0:1}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!Ys()&&(Jc?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e)},jS):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){var i;const t=e.relatedTarget,n=this.tooltipCtrl.getGui(),r=(i=this.tooltipComp)==null?void 0:i.getGui();this.isInteractingWithTooltip||n.contains(t)||this.interactionEnabled&&(r!=null&&r.contains(t))||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(e){if(this.state!=0||Jc)return;let t=0;e&&(t=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.state=1}isLastTooltipHiddenRecently(){return new Date().getTime()-US<hH}setToDoNothing(e){!e&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){var o,l,c,d,f,p,m;const e=this.getTooltipValue(),t=this.tooltipCtrl;if(!Ce(e)||t.shouldDisplayTooltip&&!t.shouldDisplayTooltip()){this.setToDoNothing();return}const n=(o=t.getRowNode)==null?void 0:o.call(t),r=Le(this.gos,{location:((l=t.getLocation)==null?void 0:l.call(t))??"UNKNOWN",colDef:(c=t.getColDef)==null?void 0:c.call(t),column:(d=t.getColumn)==null?void 0:d.call(t),rowIndex:(f=t.getRowIndex)==null?void 0:f.call(t),node:n,data:n==null?void 0:n.data,value:e,valueFormatted:(p=t.getValueFormatted)==null?void 0:p.call(t),hideTooltipCallback:()=>this.hideTooltip(!0),...((m=t.getAdditionalParams)==null?void 0:m.call(t))??{}});this.state=2,this.tooltipInstanceCount++;const i=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount),s=nN(this.userCompFactory,r);s==null||s.newAgStackInstance().then(i)}hideTooltip(e){!e&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),US=new Date().getTime()),this.eventSvc.dispatchEvent({type:"tooltipHide",parentGui:this.tooltipCtrl.getGui()}),e&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(e,t){var o;if(this.state!==2||this.tooltipInstanceCount!==e){this.destroyBean(t);return}const r=t.getGui();this.tooltipComp=t,r.classList.contains("ag-tooltip")||r.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&r.classList.add("ag-tooltip-animate"),this.interactionEnabled&&r.classList.add("ag-tooltip-interactive");const i=this.getLocaleTextFunc(),s=(o=this.popupSvc)==null?void 0:o.addPopup({eChild:r,ariaLabel:i("ariaLabelTooltip","Tooltip")});if(s&&(this.tooltipPopupDestroyFunc=s.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){const l=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:l,columnMoved:l})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(r,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(Gt(this.beans),{keydown:l=>{r.contains(l==null?void 0:l.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(r,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventSvc.dispatchEvent({type:"tooltipShow",tooltipGui:r,parentGui:this.tooltipCtrl.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){var n;const e=(n=this.tooltipComp)==null?void 0:n.getGui(),t=Nt(this.beans);return!!e&&e.contains(t)}onTooltipFocusOut(e){const t=this.tooltipCtrl.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,t.contains(e.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){var t,n;const e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?(t=this.popupSvc)==null||t.positionPopupUnderMouseEvent({...e,mouseEvent:this.lastMouseEvent}):(n=this.popupSvc)==null||n.positionPopupByComponent({...e,eventSource:this.tooltipCtrl.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const e=this.tooltipPopupDestroyFunc,t=this.tooltipComp,n=this.tooltipTrigger===0?fH:0;window.setTimeout(()=>{e(),this.destroyBean(t)},n),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(e=>{e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){Jc=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},jS)}unlockService(){Jc=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};function fg(e){return e.get("tooltipShowMode")==="whenTruncated"}function fd(e){return()=>{const t=e();return t?t.scrollWidth>t.clientWidth:!0}}var gH=class extends te{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}postConstruct(){this.refreshTooltip()}setBrowserTooltip(e){const t="title",n=this.ctrl.getGui();n&&(e!=null&&e!=""?n.setAttribute(t,e):n.removeAttribute(t))}updateTooltipText(){const{getTooltipValue:e}=this.ctrl;e&&(this.tooltip=e())}createTooltipFeatureIfNeeded(){this.tooltipManager==null&&(this.tooltipManager=this.createBean(new pH(this.ctrl,()=>this.tooltip),this.beans.context))}setTooltipAndRefresh(e){this.tooltip=e,this.refreshTooltip()}refreshTooltip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}destroy(){this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context),super.destroy()}},mH=class extends Pt{constructor(e="default",t=!1){super(`<div class="ag-list ag-${e}-list" role="listbox"></div>`),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){const t=e.key;switch(t){case X.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{const n=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(n)}break;case X.DOWN:case X.UP:e.preventDefault(),this.navigate(t);break;case X.PAGE_DOWN:case X.PAGE_UP:case X.PAGE_HOME:case X.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}navigate(e){const t=e===X.DOWN;let n;const{itemEls:r,highlightedEl:i}=this;if(!i)n=r[t?0:r.length-1];else{let o=r.indexOf(i)+(t?1:-1);o=Math.min(Math.max(o,0),r.length-1),n=r[o]}this.highlightItem(n)}navigateToPage(e){const{itemEls:t,highlightedEl:n}=this;if(!n||t.length===0)return;const r=t.indexOf(n),i=this.options.length-1,s=t[0].clientHeight,o=Math.floor(this.getGui().clientHeight/s);let l=-1;e===X.PAGE_HOME?l=0:e===X.PAGE_END?l=i:e===X.PAGE_DOWN?l=Math.min(r+o,i):e===X.PAGE_UP&&(l=Math.max(r-o,0)),l!==-1&&this.highlightItem(t[l])}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){const{value:t,text:n}=e,r=n||t;return this.options.push({value:t,text:r}),this.renderOption(t,r),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{lo(e)}),this.itemEls=[]}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");e.forEach((t,n)=>{tO(t,n+1),eO(t,e.length)})}renderOption(e,t){const n=Gt(this.beans),r=n.createElement("div");Fr(r,"option"),r.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);const i=n.createElement("span");r.appendChild(i),i.textContent=t,this.unFocusable||(r.tabIndex=-1),this.itemEls.push(r),this.addManagedListeners(r,{mouseover:()=>this.highlightItem(r),mousedown:s=>{s.preventDefault(),s.stopPropagation(),this.setValue(e)}}),this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getTooltipValue:()=>t,getGui:()=>r,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>i.scrollWidth>i.clientWidth})),this.getGui().appendChild(r)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;const n=this.options.findIndex(r=>r.value===e);if(n!==-1){const r=this.options[n];this.value=r.value,this.displayValue=r.text,this.highlightItem(this.itemEls[n]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!Xr(e))return;this.clearHighlighted(),this.highlightedEl=e,e.classList.add(this.activeClass),qg(e,!0);const t=this.getGui(),{scrollTop:n,clientHeight:r}=t,{offsetTop:i,offsetHeight:s}=e;(i+s>n+r||i<n)&&e.scrollIntoView({block:"nearest"}),this.unFocusable||e.focus()}clearHighlighted(){const e=this.highlightedEl;!e||!Xr(e)||(e.classList.remove(this.activeClass),qg(e,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},CH=".ag-picker-field-display{flex:1 1 auto}.ag-picker-field{align-items:center;display:flex}.ag-picker-field-icon{border:0;cursor:pointer;display:flex;margin:0;padding:0}.ag-picker-field-wrapper{background-color:var(--ag-picker-button-background-color);border:var(--ag-picker-button-border);border-radius:5px;min-height:max(var(--ag-list-item-height),calc(var(--ag-spacing)*4));overflow:hidden;&:disabled{opacity:.5}&.ag-picker-has-focus,&:focus-within{background-color:var(--ag-picker-button-focus-background-color);border:var(--ag-picker-button-focus-border);box-shadow:var(--ag-focus-shadow)}}",vH=class extends k0{constructor(e){if(super(e,(e==null?void 0:e.template)||`
            <div class="ag-picker-field" role="presentation">
                <div data-ref="eLabel"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
                    <div data-ref="eDisplayField" class="ag-picker-field-display"></div>
                    <div data-ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
                </div>
            </div>`,(e==null?void 0:e.agComponents)||[],e==null?void 0:e.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=Ie,this.eWrapper=Ie,this.eDisplayField=Ie,this.eIcon=Ie,this.registerCSS(CH),this.ariaRole=e==null?void 0:e.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:n,variableWidth:r,minPickerWidth:i,maxPickerWidth:s}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!r,n!=null&&this.setPickerMaxHeight(n),i!=null&&this.setPickerMinWidth(i),s!=null&&this.setPickerMaxWidth(s)}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:n,inputWidth:r}=this.config;if(n){const i=rr(n,this.beans);i&&this.eIcon.appendChild(i)}r!=null&&this.setInputWidth(r)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),Kg(e,!1),this.ariaRole&&Fr(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&(e==null?void 0:e.target)===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case X.UP:case X.DOWN:case X.ENTER:case X.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case X.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const t=this.getLocaleTextFunc(),{config:{pickerAriaLabelKey:n,pickerAriaLabelValue:r,modalPicker:i=!0},maxPickerHeight:s,minPickerWidth:o,maxPickerWidth:l,variableWidth:c,beans:d,eWrapper:f}=this,p={modal:i,eChild:e,closeOnEsc:!0,closedCallback:()=>{const b=LE(d);this.beforeHidePicker(),b&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(n,r),anchorToElement:f};e.style.position="absolute";const m=d.popupSvc,C=m.addPopup(p);c?(o&&(e.style.minWidth=o),e.style.width=lC(Md(f)),l&&(e.style.maxWidth=l)):Ld(e,l??Md(f));const y=s??`${aC(m.getPopupParent())}px`;return e.style.setProperty("max-height",y),this.alignPickerToComponent(),C.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerGap:e,config:{pickerType:t},beans:{popupSvc:n,gos:r},eWrapper:i,pickerComponent:s}=this,o=r.get("enableRtl")?"right":"left";n.positionPopupByComponent({type:t,eventSource:i,ePopup:s.getGui(),position:"under",alignSide:o,keepWithinBounds:!0,nudgeY:e})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const t=this.getAriaElement();Kg(t,e);const n=this.eWrapper.classList;n.toggle("ag-picker-expanded",e),n.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){var t;(t=this.pickerComponent)!=null&&t.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){var e;(e=this.hideCurrentPicker)==null||e.call(this)}setInputWidth(e){return Ld(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},wH=".ag-select{align-items:center;display:flex;&.ag-disabled{opacity:.5}}:where(.ag-select){.ag-picker-field-wrapper{cursor:default}&.ag-disabled .ag-picker-field-wrapper:focus{box-shadow:none}&:not(.ag-cell-editor,.ag-label-align-top){min-height:var(--ag-list-item-height)}.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-picker-field-icon{align-items:center;display:flex}}:where(.ag-ltr) :where(.ag-select){.ag-picker-field-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding)/2);padding-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-select){.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-cell-horizontal-padding)/2)}}",DC=class extends vH{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"selectOpen",ariaRole:"combobox",...e}),this.registerCSS(wH)}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{shouldDisplayTooltip:fd(()=>this.eDisplayField),getGui:()=>this.getGui()})),super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:n}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),n&&t==null&&(this.eDisplayField.textContent=n),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){const e=this.createBean(new mH("select",!0));this.listComponent=e,e.setParentComponent(this);const t=e.getAriaElement(),n=`ag-select-list-${e.getCompId()}`;t.setAttribute("id",n),lO(this.getAriaElement(),t),e.addManagedElementListeners(e.getGui(),{mousedown:r=>{r==null||r.preventDefault()}}),e.addManagedListeners(e,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})},fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){var n;const{key:t}=e;switch(t===X.TAB&&this.hidePicker(),t){case X.ENTER:case X.UP:case X.DOWN:case X.PAGE_UP:case X.PAGE_DOWN:case X.PAGE_HOME:case X.PAGE_END:e.preventDefault(),this.isPickerDisplayed?(n=this.listComponent)==null||n.handleKeyDown(e):super.onKeyDown(e);break;case X.ESCAPE:super.onKeyDown(e);break;case X.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){const e=this.listComponent;e&&(super.showPicker(),e.refreshHighlighted())}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){var e;return(e=this.listComponent)==null||e.clearOptions(),this}setValue(e,t,n){const{listComponent:r,config:{placeholder:i},eDisplayField:s,tooltipFeature:o}=this;if(this.value===e||!r)return this;if(n||r.setValue(e,!0),r.getValue()===this.getValue())return this;let c=r.getDisplayValue();return c==null&&i&&(c=i),s.textContent=c,o==null||o.setTooltipAndRefresh(c??null),super.setValue(e,t)}destroy(){this.listComponent=this.destroyBean(this.listComponent),super.destroy()}},yH={selector:"AG-SELECT",component:DC},oa={TAB_GUARD:"ag-tab-guard",TAB_GUARD_TOP:"ag-tab-guard-top",TAB_GUARD_BOTTOM:"ag-tab-guard-bottom"},O0=class extends te{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:t,eTopGuard:n,eBottomGuard:r,focusTrapActive:i,forceFocusOutWhenTabGuardsAreEmpty:s,isFocusableContainer:o,focusInnerElement:l,onFocusIn:c,onFocusOut:d,shouldStopEventPropagation:f,onTabKeyDown:p,handleKeyDown:m,isEmpty:C,eFocusableElement:y}=e;this.comp=t,this.eTopGuard=n,this.eBottomGuard=r,this.providedFocusInnerElement=l,this.eFocusableElement=y,this.focusTrapActive=!!i,this.forceFocusOutWhenTabGuardsAreEmpty=!!s,this.isFocusableContainer=!!o,this.providedFocusIn=c,this.providedFocusOut=d,this.providedShouldStopEventPropagation=f,this.providedOnTabKeyDown=p,this.providedHandleKeyDown=m,this.providedIsEmpty=C}postConstruct(){this.createManagedBean(new Ma(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&(this.providedIsEmpty?this.providedIsEmpty():sa(this.eFocusableElement,".ag-tab-guard").length===0)){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;!(this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t))&&this.forceFocusOutWhenTabGuardsAreEmpty&&this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}findNextElementOutsideAndFocus(e){var c;const t=Gt(this.beans),n=sa(t.body,null,!0),r=n.indexOf(e?this.eTopGuard:this.eBottomGuard);if(r===-1)return;let i,s;e?(i=0,s=r):(i=r+1,s=n.length);const o=n.slice(i,s),l=this.gos.get("tabIndex");o.sort((d,f)=>{const p=parseInt(d.getAttribute("tabindex")||"0"),m=parseInt(f.getAttribute("tabindex")||"0");return m===l?1:p===l?-1:p===0?1:m===0?-1:p-m}),(c=o[e?o.length-1:0])==null||c.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const n=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),n&&(n.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=sa(this.eFocusableElement);return this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length?(t[e?t.length-1:0].focus({preventScroll:!0}),!0):!1}getNextFocusableElement(e){return vo(this.beans,this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},SH=class extends te{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:n,eFocusableElement:r}=this,i=[t,n],s={setTabIndex:R=>{i.forEach(x=>R!=null?x.setAttribute("tabindex",R):x.removeAttribute("tabindex"))}};this.addTabGuards(t,n);const{focusTrapActive:o=!1,onFocusIn:l,onFocusOut:c,focusInnerElement:d,handleKeyDown:f,onTabKeyDown:p,shouldStopEventPropagation:m,isEmpty:C,forceFocusOutWhenTabGuardsAreEmpty:y,isFocusableContainer:b}=e;this.tabGuardCtrl=this.createManagedBean(new O0({comp:s,focusTrapActive:o,eTopGuard:t,eBottomGuard:n,eFocusableElement:r,onFocusIn:l,onFocusOut:c,focusInnerElement:d,handleKeyDown:f,onTabKeyDown:p,shouldStopEventPropagation:m,isEmpty:C,forceFocusOutWhenTabGuardsAreEmpty:y,isFocusableContainer:b}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=Gt(this.beans).createElement("div"),n=e==="top"?oa.TAB_GUARD_TOP:oa.TAB_GUARD_BOTTOM;return t.classList.add(oa.TAB_GUARD,n),Fr(t,"presentation"),t}addTabGuards(e,t){const n=this.eFocusableElement;n.insertAdjacentElement("afterbegin",e),n.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];zn(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,n){uC(t)||(t=t.getGui());const{eBottomGuard:r}=this;r?r.insertAdjacentElement("beforebegin",t):e(t,n)}destroy(){const{eFocusableElement:e,eTopGuard:t,eBottomGuard:n}=this;e.removeChild(t),e.removeChild(n),super.destroy()}},bH=class extends Pt{initialiseTabGuard(t){this.tabGuardFeature=this.createManagedBean(new SH(this)),this.tabGuardFeature.initialiseTabGuard(t)}forceFocusOutOfContainer(t=!1){this.tabGuardFeature.forceFocusOutOfContainer(t)}appendChild(t,n){this.tabGuardFeature.appendChild(super.appendChild.bind(this),t,n)}},ka=class extends Pt{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},Xo=class{constructor(e,t=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new ao,this.preventMouseClick=t;const n=this.onTouchStart.bind(this),r=this.onTouchMove.bind(this),i=this.onTouchEnd.bind(this);e.addEventListener("touchstart",n,{passive:!0}),e.addEventListener("touchmove",r,{passive:!0}),e.addEventListener("touchend",i,{passive:!1}),this.destroyFuncs.push(()=>{e.removeEventListener("touchstart",n,{passive:!0}),e.removeEventListener("touchmove",r,{passive:!0}),e.removeEventListener("touchend",i,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const t=this.touchStart;window.setTimeout(()=>{const n=this.touchStart===t;if(this.touching&&n&&!this.moved){this.moved=!0;const r={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(r)}},500)}onTouchMove(e){if(!this.touching)return;const t=this.getActiveTouch(e.touches);if(!t)return;!g0(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const t={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){const n={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(n),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}},L0=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t(),this.baseDocLink=`${PE}/${this.frameworkName}-data-grid`,yO(this.baseDocLink)}setInterval(e,t){return new Et(n=>{n(window.setInterval(e,t))})}addEventListener(e,t,n,r){let i={};if(typeof r=="object"?i=r:typeof r=="boolean"&&(i={capture:r}),i.passive==null){const s=zE(t);s!=null&&(i.passive=s)}e.addEventListener(t,n,i)}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`${this.baseDocLink}${e?`/${e}`:""}`}};function RH(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionSvc").api}}var xH=["licenseManager","environment","eventSvc","gos","paginationAutoPageSizeSvc","apiFunctionSvc","gridApi","registry","agCompUtils","userCompFactory","rowContainerHeight","horizontalResizeSvc","localeSvc","pinnedRowModel","dragSvc","colGroupSvc","visibleCols","popupSvc","selectionSvc","colFilter","quickFilter","filterManager","colModel","headerNavigation","pageBounds","pagination","rowSpanSvc","pageBoundsListener","stickyRowSvc","rowRenderer","expressionSvc","alignedGridsSvc","navigation","valueCache","valueSvc","autoWidthCalc","filterMenuFactory","dragAndDrop","focusSvc","cellNavigation","cellStyles","scrollVisibleSvc","sortSvc","colHover","colAnimation","autoColSvc","selectionColSvc","changeDetectionSvc","animationFrameSvc","undoRedo","colDefFactory","rowStyleSvc","rowNodeBlockLoader","rowNodeSorter","ctrlsSvc","pinnedCols","dataTypeSvc","syncSvc","overlays","stateSvc","expansionSvc","apiEventSvc","ariaAnnounce","menuSvc","colMoves","colAutosize","colFlex","colResize","pivotColsSvc","valueColsSvc","rowGroupColsSvc","funcColsSvc","colNames","colViewport","pivotResultCols","showRowGroupCols","validation"],$S=Object.fromEntries(xH.map((e,t)=>[e,t]));function EH(e,t){const n=(e.beanName?$S[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,r=(t.beanName?$S[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return n-r}function FH(e,t){return(e==null?void 0:e.beanName)==="gridDestroySvc"?-1:0}var PH=class extends te{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}setComp(e,t,n){this.view=e,this.eGridHostDiv=t,this.eGui=n,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());const{dragAndDrop:r,ctrlsSvc:i}=this.beans;r==null||r.registerGridDropTarget(()=>this.eGui,this),f0(this.gos,t),this.createManagedBean(new vC(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr");const s=Mi(this.beans,this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>s()),i.register("gridCtrl",this)}isDetailGrid(){var t;const e=c0(this.getGui());return((t=e==null?void 0:e.getAttribute("row-id"))==null?void 0:t.startsWith("detail"))||!1}getOptionalSelectors(){var t,n,r,i;const e=this.beans;return{paginationSelector:(t=e.pagination)==null?void 0:t.getPaginationSelector(),gridHeaderDropZonesSelector:e.registry.getSelector("AG-GRID-HEADER-DROP-ZONES"),sideBarSelector:(n=e.sideBar)==null?void 0:n.getSelector(),statusBarSelector:(r=e.registry)==null?void 0:r.getSelector("AG-STATUS-BAR"),watermarkSelector:(i=e.licenseManager)==null?void 0:i.getWatermarkSelector()}}onGridSizeChanged(){this.eventSvc.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:n,nextIndex:r}=this.getNextFocusableIndex(t,e);if(r<0||r>=t.length)return!1;if(r===0){if(n>0){const{visibleCols:i,focusSvc:s}=this.beans,o=i.allCols,l=lt(o);if(s.focusGridView({column:l,backwards:!0}))return!0}return!1}return this.focusContainer(t[r],e)}focusInnerElement(e){const t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;const n=this.getFocusableContainers(),{focusSvc:r,visibleCols:i}=this.beans,s=i.allCols;if(e){if(n.length>1)return this.focusContainer(lt(n),e);const o=lt(s);if(r.focusGridView({column:o,backwards:e}))return!0}if(this.gos.get("headerHeight")===0||to(this.beans)){if(r.focusGridView({column:s[0],backwards:e}))return!0;for(let o=1;o<n.length;o++)if(ho(n[o].getGui(),e))return!0;return!1}return r.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){var s;const t=this.view.getFocusableContainers(),{nextIndex:n,indexWithFocus:r}=this.getNextFocusableIndex(t,e);if(r===-1||n<0||n>=t.length)return;const i=t[n];(s=i.setAllowFocus)==null||s.call(i,!0),setTimeout(()=>{var o;(o=i.setAllowFocus)==null||o.call(i,!1)})}isFocusable(){var t,n;const e=this.beans;return!Sh(e)||!to(e)||!!((n=(t=e.sideBar)==null?void 0:t.comp)!=null&&n.isDisplayed())}getNextFocusableIndex(e,t){const n=Nt(this.beans),r=e.findIndex(s=>s.getGui().contains(n)),i=r+(t?-1:1);return{indexWithFocus:r,nextIndex:i}}focusContainer(e,t){var r,i;(r=e.setAllowFocus)==null||r.call(e,!0);const n=ho(e.getGui(),t,!1,!0);return(i=e.setAllowFocus)==null||i.call(e,!1),n}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},_e=(e,t)=>{for(const n of Object.keys(t))t[n]=e;return t},KS={dispatchEvent:"CommunityCore",..._e("CommunityCore",{destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0}),..._e("GridState",{getState:0}),..._e("SharedRowSelection",{setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0}),..._e("RowApi",{redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRowIndex:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0}),..._e("ScrollApi",{getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0}),..._e("KeyboardNavigation",{getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0}),..._e("EventApi",{addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0}),..._e("ValueCache",{expireValueCache:0}),..._e("CellApi",{getCellValue:0}),..._e("SharedMenu",{showColumnMenu:0,hidePopupMenu:0}),..._e("Sort",{onSortChanged:0}),..._e("PinnedRow",{getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0}),..._e("Overlay",{showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0}),..._e("RenderApi",{setGridAriaProperty:0,refreshCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0}),..._e("HighlightChanges",{flashCells:0}),..._e("RowDrag",{addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0}),..._e("ColumnApi",{getColumnDefs:0,getColumnDef:0,getDisplayNameForColumn:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnsVisible:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0}),..._e("ColumnAutoSize",{sizeColumnsToFit:0,autoSizeColumns:0,autoSizeAllColumns:0}),..._e("ColumnGroup",{setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumnGroup:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0}),..._e("ColumnMove",{moveColumnByIndex:0,moveColumns:0}),..._e("ColumnResize",{setColumnWidths:0}),..._e("ColumnHover",{isColumnHovered:0}),..._e("EditCore",{getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0}),..._e("UndoRedoEdit",{undoCellEditing:0,redoCellEditing:0,getCurrentUndoSize:0,getCurrentRedoSize:0}),..._e("FilterCore",{isAnyFilterPresent:0,onFilterChanged:0}),..._e("ColumnFilter",{isColumnFilterPresent:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0}),..._e("QuickFilter",{isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0}),..._e("Pagination",{paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0}),..._e("CsrmSsrmSharedApi",{expandAll:0,collapseAll:0,onRowHeightChanged:0}),..._e("SsrmInfiniteSharedApi",{setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),..._e("ClientSideRowModelApi",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0}),..._e("CsvExport",{getDataAsCsv:0,exportDataAsCsv:0}),..._e("InfiniteRowModel",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),..._e("AdvancedFilter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),..._e("IntegratedCharts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),..._e("Clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),..._e("ExcelExport",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),..._e("SharedMasterDetail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),..._e("ContextMenu",{showContextMenu:0}),..._e("ColumnMenu",{showColumnChooser:0,hideColumnChooser:0}),..._e("CellSelection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),..._e("SharedRowGrouping",{setRowGroupColumns:0,removeRowGroupColumns:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0}),..._e("SharedAggregation",{addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0}),..._e("SharedPivot",{isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumns:0,addValueColumns:0,setPivotColumns:0,removePivotColumns:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),..._e("ServerSideRowModelApi",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0}),..._e("SideBar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),..._e("StatusBar",{getStatusPanel:0})},pg={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},DH=(e,t)=>e.eventSvc.dispatchEvent(t),N0=class{};Reflect.defineProperty(N0,"name",{value:"GridApi"});var TH=class extends te{constructor(){super(),this.beanName="apiFunctionSvc",this.api=new N0,this.fns={...pg,dispatchEvent:DH},this.preDestroyLink="";const{api:e}=this;for(const t of Object.keys(KS))e[t]=this.makeApi(t)[t]}postConstruct(){this.preDestroyLink=this.beans.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){var i;const{fns:n,beans:r}=this;n!==pg&&(n[e]=((i=r==null?void 0:r.validation)==null?void 0:i.validateApiFunction(e,t))??t)}makeApi(e){return{[e]:(...t)=>{const{beans:n,fns:{[e]:r}}=this;return r?r(n,...t):this.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gos:n,preDestroyLink:r}=this;if(!t)he(26,{fnName:e,preDestroyLink:r});else{const i=KS[e];n.assertModuleRegistered(i,`api.${e}`)&&he(27,{fnName:e,module:i})}}destroy(){super.destroy(),this.fns=pg,this.beans=null}};function AH(e){return e.context.getGridId()}function MH(e){e.gridDestroySvc.destroy()}function kH(e){return e.gridDestroySvc.destroyCalled}function IH(e,t){return e.gos.get(t)}function OH(e,t,n){B0(e,{[t]:n})}function B0(e,t){e.gos.updateGridOptions({options:t})}var LH=class extends Pt{constructor(e,t,n){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=e,this.column=t,this.eCell=n}postConstruct(){this.getGui().appendChild(rr("rowDrag",this.beans,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const{rowNode:t,column:n,eCell:r,gos:i}=this,s=n.getColDef().dndSourceOnRowDrag,o=e.dataTransfer;if(o.setDragImage(r,0,0),s){const l=Le(i,{rowNode:t,dragEvent:e});s(l)}else try{const l=JSON.stringify(t.data);o.setData("application/json",l),o.setData("text/plain",l)}catch{}}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}};function NH(e,t){var n,r;(r=(n=e.rowDragSvc)==null?void 0:n.rowDragFeature)==null||r.addRowDropZone(t)}function BH(e,t){var r,i;const n=(r=e.dragAndDrop)==null?void 0:r.findExternalZone(t);n&&((i=e.dragAndDrop)==null||i.removeDropTarget(n))}function HH(e,t){var n,r;return(r=(n=e.rowDragSvc)==null?void 0:n.rowDragFeature)==null?void 0:r.getRowDropZone(t)}var GH=class extends te{constructor(){super(...arguments),this.beanName="horizontalResizeSvc"}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0},{dragSvc:n}=this.beans;return n.addDragSource(t),()=>n.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const n=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(n)}setResizeIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},VH=class extends Pt{constructor(e,t,n,r,i,s){super(),this.cellValueFn=e,this.rowNode=t,this.column=n,this.customGui=r,this.dragStartPixels=i,this.suppressVisibilityChange=s,this.dragSource=null}isCustomGui(){return this.customGui!=null}postConstruct(){const{beans:e,rowNode:t,column:n,gos:r}=this;if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(rr("rowDrag",e,null)),this.addDragSource()),!this.suppressVisibilityChange){const i=r.get("rowDragManaged")?new _H(this,t,n):new WH(this,t,n);this.createManagedBean(i,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}getSelectedNodes(){var r;const e=this.rowNode;if(!this.gos.get("rowDragMultiRow"))return[e];const n=((r=this.beans.selectionSvc)==null?void 0:r.getSelectedNodes())??[];return n.indexOf(e)!==-1?n:[e]}getDragItem(){const{column:e,rowNode:t}=this;return{rowNode:t,rowNodes:this.getSelectedNodes(),columns:e?[e]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){this.dragSource&&this.removeDragSource();const t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:r=>{r==null||r.preventDefault()}})[0]);const n=this.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{var o;const r=this.getDragItem(),i=((o=r.rowNodes)==null?void 0:o.length)||1,s=this.getRowDragText(this.column);return s?s(r,i):i===1?this.cellValueFn():`${i} ${n("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDrop.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},H0=class extends te{constructor(e,t,n){super(),this.parent=e,this.rowNode=t,this.column=n}setDisplayedOrVisible(e){const t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{let n=!0,r=!1;const{column:i,rowNode:s,parent:o}=this;i&&(n=i.isRowDrag(s)||o.isCustomGui(),r=typeof i.getColDef().rowDrag=="function"),r?(o.setDisplayed(!0,t),o.setVisible(n,t)):(o.setDisplayed(n,t),o.setVisible(!0,t))}}},WH=class extends H0{postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},_H=class extends H0{postConstruct(){const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventSvc,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const{rowDragSvc:e,dragAndDrop:t,gos:n}=this.beans,r=e.rowDragFeature,i=r&&r.shouldPreventRowMove(),s=n.get("suppressRowDrag"),o=t.hasExternalDropZones(),l=i&&!o||s;this.setDisplayedOrVisible(l)}},zH=class extends te{constructor(){super(...arguments),this.beanName="rowDragSvc"}setupRowDrag(e,t){const n=t.createManagedBean(new YN(e)),r=this.beans.dragAndDrop;r.addDropTarget(n),t.addDestroyFunc(()=>r.removeDropTarget(n)),this.rowDragFeature=n}createRowDragComp(e,t,n,r,i,s){return new VH(e,t,n,r,i,s)}createRowDragCompForRow(e,t){if(ms(this.gos))return;const n=this.getLocaleTextFunc();return this.createRowDragComp(()=>`1 ${n("rowDragRow","row")}`,e,void 0,t,void 0,!0)}createRowDragCompForCell(e,t,n,r,i,s){const o=this.gos;return o.get("rowDragManaged")&&(!un(o)||o.get("pagination"))?void 0:this.createRowDragComp(n,e,t,r,i,s)}},G0={moduleName:"Drag",version:ve,beans:[QN]},jH={moduleName:"DragAndDrop",version:ve,dynamicBeans:{dndSourceComp:LH},icons:{rowDrag:"grip"}},V0={moduleName:"SharedDragAndDrop",version:ve,beans:[_N],dependsOn:[G0],userComponents:{agDragAndDropImage:QB},icons:{columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",rowDrag:"grip"}},UH={moduleName:"RowDrag",version:ve,beans:[zH],apiFunctions:{addRowDropZone:NH,removeRowDropZone:BH,getRowDropZoneParams:HH},dependsOn:[V0]},$H={moduleName:"HorizontalResize",version:ve,beans:[GH],dependsOn:[G0]},KH=":where(.ag-ltr) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}:where(.ag-rtl) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}",qH=class extends te{constructor(){super(...arguments),this.beanName="colAnimation",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){if(this.active)return;const{gos:e}=this;e.get("suppressColumnMoveAnimation")||e.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount,{gridBodyCtrl:t}=this;t.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&t.setColumnMovingCss(!1)})}flush(e,t){const{executeNextFuncs:n,executeLaterFuncs:r}=this;if(n.length===0&&r.length===0){e(),t();return}const i=s=>{for(;s.length;){const o=s.pop();o&&o()}};this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e(),i(n)},0),window.setTimeout(()=>{t(),i(r)},200)})}};function YH(e,t,n){var r;(r=e.colMoves)==null||r.moveColumnByIndex(t,n,"api")}function QH(e,t,n){var r;(r=e.colMoves)==null||r.moveColumns(t,n,"api")}var JH=class extends te{constructor(e){super(),this.pinned=e,this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[]}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(n=>{n.isPrimary()&&(n.isAnyFunctionActive()||(n.isAllowValue()?this.columnsToAggregate.push(n):n.isAllowRowGroup()?this.columnsToGroup.push(n):n.isAllowPivot()&&this.columnsToPivot.push(n)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){const{valueColsSvc:t,rowGroupColsSvc:n,pivotColsSvc:r}=this.beans;this.columnsToAggregate.length>0&&(t==null||t.addColumns(this.columnsToAggregate,"toolPanelDragAndDrop")),this.columnsToGroup.length>0&&(n==null||n.addColumns(this.columnsToGroup,"toolPanelDragAndDrop")),this.columnsToPivot.length>0&&(r==null||r.addColumns(this.columnsToPivot,"toolPanelDragAndDrop"))}onDragCancel(){this.clearColumnsList()}};function XH(e,t){!t||t.length<=1||t.filter(r=>e.indexOf(r)<0).length>0||t.sort((r,i)=>{const s=e.indexOf(r),o=e.indexOf(i);return s-o})}function W0(e){const{isFromHeader:t,fromLeft:n,xPosition:r,fromEnter:i,fakeEvent:s,pinned:o,gos:l,colModel:c,colMoves:d,visibleCols:f}=e;let{allMovingColumns:p}=e;if(t){const A=[];p.forEach(O=>{var $;let T=null,G=O.getParent();for(;G!=null&&G.getDisplayedLeafColumns().length===1;)T=G,G=G.getParent();T!=null?(!!(($=T.getColGroupDef())!=null&&$.marryChildren)?T.getProvidedColumnGroup().getLeafColumns():T.getLeafColumns()).forEach(K=>{A.includes(K)||A.push(K)}):A.includes(O)||A.push(O)}),p=A}const m=p.slice();XH(c.getCols(),m);const C=nG({movingCols:m,draggingRight:n,xPosition:r,pinned:o,gos:l,colModel:c,visibleCols:f}),y=ZH(m,c);if(C.length===0)return;const b=C[0];let R=y!==null&&!i;if(t&&(R=y!==null),R&&!s&&(!n&&b>=y||n&&b<=y))return;const x=f.allCols,E=[];let P=null;for(let A=0;A<C.length;A++){const O=C[A],T=d.getProposedColumnOrder(m,O);if(!d.doesOrderPassRules(T))continue;const G=T.filter(U=>x.includes(U));if(P===null)P=G;else if(!Co(G,P))break;const $=eG(T);E.push({move:O,fragCount:$})}if(E.length===0)return;E.sort((A,O)=>A.fragCount-O.fragCount);const D=E[0].move;if(!(D>c.getCols().length-p.length))return{columns:p,toIndex:D}}function _0(e){const{columns:t,toIndex:n}=W0(e)||{},{finished:r,colMoves:i}=e;return!t||n==null?null:(i.moveColumns(t,n,"uiColumnMoved",r),r?null:{columns:t,toIndex:n})}function ZH(e,t){const n=t.getCols(),r=tL(e.map(c=>n.indexOf(c))),i=r[0];return lt(r)-i!==r.length-1?null:i}function eG(e){function t(r){const i=[];let s=r.getOriginalParent();for(;s!=null;)i.push(s),s=s.getOriginalParent();return i}let n=0;for(let r=0;r<e.length-1;r++){let i=t(e[r]),s=t(e[r+1]);[i,s]=i.length>s.length?[i,s]:[s,i],i.forEach(o=>{s.indexOf(o)===-1&&n++})}return n}function tG(e,t){switch(t){case"left":return e.leftCols;case"right":return e.rightCols;default:return e.centerCols}}function nG(e){const{movingCols:t,draggingRight:n,xPosition:r,pinned:i,gos:s,colModel:o,visibleCols:l}=e;if(s.get("suppressMovableColumns")||t.some(P=>P.getColDef().suppressMovable))return[];const d=tG(l,i),f=o.getCols(),p=d.filter(P=>t.includes(P)),m=d.filter(P=>!t.includes(P)),C=f.filter(P=>!t.includes(P));let y=0,b=r;if(n){let P=0;p.forEach(D=>P+=D.getActualWidth()),b-=P}if(b>0){for(let P=0;P<m.length;P++){const D=m[P];if(b-=D.getActualWidth(),b<0)break;y++}n&&y++}let R;if(y>0){const P=m[y-1];R=C.indexOf(P)+1}else R=C.indexOf(m[0]),R===-1&&(R=0);const x=[R],E=(P,D)=>P-D;if(n){let P=R+1;const D=f.length-1;for(;P<=D;)x.push(P),P++;x.sort(E)}else{let P=R;const D=f.length-1;let A=f[P];for(;P<=D&&d.indexOf(A)<0;)P++,x.push(P),A=f[P];P=R-1;const O=0;for(;P>=O;)x.push(P),P--;x.sort(E).reverse()}return x}function cm(e){var d;const{pinned:t,fromKeyboard:n,gos:r,ctrlsSvc:i,useHeaderRow:s,skipScrollPadding:o}=e;let l=(d=i.getHeaderRowContainerCtrl(t))==null?void 0:d.eViewport,{x:c}=e;return l?(n&&(c-=l.getBoundingClientRect().left),r.get("enableRtl")&&(s&&(l=l.querySelector(".ag-header-row")),c=l.clientWidth-c),t==null&&!o&&(c+=i.get("center").getCenterViewportScrollLeft()),c):0}function gg(e,t){for(const n of e)n.moving=t,n.dispatchColEvent("movingChanged","uiColumnMoved")}var qS=7,dm=100,Xc=dm/2,rG=5,iG=100,sG=class extends te{constructor(e){super(),this.pinned=e,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.isCenterContainer=!Ce(e)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){const{pinned:e,lastDraggingEvent:t}=this,n=(t==null?void 0:t.dragItem.columns)??[];for(const r of n){const i=r.getPinned();if(r.getColDef().lockPinned){if(i==e)return"move";continue}if(i===e||!e)return"move";if(!i&&e)return"pinned"}return"notAllowed"}onDragEnter(e){const t=e.dragItem,n=t.columns;if(e.dragSource.type===0)this.setColumnsVisible(n,!0,"uiColumnDragged");else{const i=t.visibleState,s=(n||[]).filter(o=>i[o.getId()]);this.setColumnsVisible(s,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(n,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,n=!1,r=!1){const{gos:i,ctrlsSvc:s}=this.beans,o=i.get("suppressMoveWhenColumnDragging");if(r&&!o){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!r&&Ft(e.hDirection))return;const l=cm({x:e.x,pinned:this.pinned,gos:i,ctrlsSvc:s});t||this.checkCenterForScrolling(l),o?this.handleColumnDragWhileSuppressingMovement(e,t,n,l,r):this.handleColumnDragWhileAllowingMovement(e,t,n,l,r)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,n){if(!e)return;const r=e.filter(i=>!i.getColDef().lockVisible);this.beans.colModel.setColsVisible(r,t,n)}finishColumnMoving(){this.clearHighlighted();const e=this.lastMovedInfo;if(!e)return;const{columns:t,toIndex:n}=e;this.beans.colMoves.moveColumns(t,n,"uiColumnMoved",!0)}handleColumnDragWhileSuppressingMovement(e,t,n,r,i){const s=this.getAllMovingColumns(e,!0);if(i){const o=this.isAttemptingToPin(s);o&&this.attemptToPinColumns(s,void 0,!0);const{fromLeft:l,xPosition:c}=this.getNormalisedXPositionInfo(s,o)||{};if(l==null||c==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:s,xPosition:c,fromEnter:t,fakeEvent:n,fromLeft:l})}else{if(!this.beans.dragAndDrop.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(s,r)}}handleColumnDragWhileAllowingMovement(e,t,n,r,i){const s=this.getAllMovingColumns(e),o=this.normaliseDirection(e.hDirection)==="right",l=e.dragSource.type===1,c=this.getMoveColumnParams({allMovingColumns:s,isFromHeader:l,xPosition:r,fromLeft:o,fromEnter:t,fakeEvent:n}),d=_0({...c,finished:i});d&&(this.lastMovedInfo=d)}getAllMovingColumns(e,t=!1){const n=e.dragSource.getDragItem();let r=null;t?(r=n.columnsInSplit,r||(r=n.columns)):r=n.columns;const i=s=>s.getColDef().lockPinned?s.getPinned()==this.pinned:!0;return r?r.filter(i):[]}getMoveColumnParams(e){const{allMovingColumns:t,isFromHeader:n,xPosition:r,fromLeft:i,fromEnter:s,fakeEvent:o}=e,{gos:l,colModel:c,colMoves:d,visibleCols:f}=this.beans;return{allMovingColumns:t,isFromHeader:n,fromLeft:i,xPosition:r,pinned:this.pinned,fromEnter:s,fakeEvent:o,gos:l,colModel:c,colMoves:d,visibleCols:f}}highlightHoveredColumn(e,t){var f;const{gos:n,colModel:r}=this.beans,i=n.get("enableRtl"),s=r.getCols().filter(p=>p.isVisible()&&p.getPinned()===this.pinned);let o=null,l=null,c=null;for(const p of s){if(l=p.getActualWidth(),o=this.getNormalisedColumnLeft(p,0,i),o!=null){const m=o+l;if(o<=t&&m>=t){c=p;break}}o=null,l=null}if(c)e.indexOf(c)!==-1&&(c=null);else{for(let p=s.length-1;p>=0;p--){const m=s[p],C=s[p].getParent();if(!C){c=m;break}const y=C==null?void 0:C.getDisplayedLeafColumns();if(y.length){c=lt(y);break}}if(!c)return;o=this.getNormalisedColumnLeft(c,0,i),l=c.getActualWidth()}if(((f=this.lastHighlightedColumn)==null?void 0:f.column)!==c&&this.clearHighlighted(),c==null||o==null||l==null)return;let d;t-o<l/2!==i?d=0:d=1,YS(c,d),this.lastHighlightedColumn={column:c,position:d}}getNormalisedXPositionInfo(e,t){const{gos:n,visibleCols:r}=this.beans,i=n.get("enableRtl"),{firstMovingCol:s,column:o,position:l}=this.getColumnMoveAndTargetInfo(e,t,i);if(!s||!o||l==null)return;const c=r.allCols,d=c.indexOf(s),f=c.indexOf(o),p=l===0!==i,m=d<f||d===f&&!p;let C=0;if(p?m&&(C-=1):m||(C+=1),f+C===d)return;const y=c[f+C];if(!y)return;const b=this.getNormalisedColumnLeft(y,20,i);return{fromLeft:m,xPosition:b}}getColumnMoveAndTargetInfo(e,t,n){const r=this.lastHighlightedColumn||{},{firstMovingCol:i,lastMovingCol:s}=oG(e);if(!i||!s||r.column||!t)return{firstMovingCol:i,...r};const l=this.getPinDirection()==="left";return{firstMovingCol:i,position:l?1:0,column:l!==n?i:s}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case"left":return"right";case"right":return"left"}return e}getNormalisedColumnLeft(e,t,n){const{gos:r,ctrlsSvc:i}=this.beans,s=e.getLeft();if(s==null)return null;const o=e.getActualWidth();return cm({x:n?s+o-t:s+t,pinned:e.getPinned(),useHeaderRow:n,skipScrollPadding:!0,gos:r,ctrlsSvc:i})}isAttemptingToPin(e){const t=this.needToMoveLeft||this.needToMoveRight,n=this.failedMoveAttempts>qS;return t&&n||e.some(r=>r.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){const{allMovingColumns:t,xPosition:n,fromEnter:r,fakeEvent:i,fromLeft:s}=e,o=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:n,fromLeft:s,fromEnter:r,fakeEvent:i}),{columns:l,toIndex:c}=W0(o)||{};l&&c!=null&&(this.lastMovedInfo={columns:l,toIndex:c}),this.finishColumnMoving()}clearHighlighted(){const{lastHighlightedColumn:e}=this;e&&(YS(e.column,null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const t=this.beans.ctrlsSvc.get("center"),n=t.getCenterViewportScrollLeft(),r=n+t.getCenterWidth();let i,s;this.gos.get("enableRtl")?(i=e<n+Xc,s=e>r-Xc):(s=e<n+Xc,i=e>r-Xc),this.needToMoveRight=i,this.needToMoveLeft=s,s||i?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){var e;this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),iG),(e=this.beans.dragAndDrop.getDragAndDropImageComponent())==null||e.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){var e;this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,(e=this.beans.dragAndDrop.getDragAndDropImageComponent())==null||e.setIcon(this.getIconName(),!1))}moveInterval(){var r,i;let e;this.intervalCount++,e=10+this.intervalCount*rG,e>dm&&(e=dm);let t=null;const n=this.gridBodyCon.scrollFeature;if(this.needToMoveLeft?t=n.scrollHorizontally(-e):this.needToMoveRight&&(t=n.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const{pinnedCols:s,dragAndDrop:o,gos:l}=this.beans;if(this.failedMoveAttempts<=qS+1||!s)return;if((r=o.getDragAndDropImageComponent())==null||r.setIcon("pinned",!1),!l.get("suppressMoveWhenColumnDragging")){const c=(i=this.lastDraggingEvent)==null?void 0:i.dragItem.columns;this.attemptToPinColumns(c,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,n=!1){const r=(e||[]).filter(o=>!o.getColDef().lockPinned);if(!r.length)return 0;n&&(t=this.getPinDirection());const{pinnedCols:i,dragAndDrop:s}=this.beans;return i==null||i.setColsPinned(r,t,"uiColumnDragged"),n&&s.nudge(),r.length}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}};function YS(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchColEvent("headerHighlightChanged","uiColumnMoved"))}function oG(e){const t=e.length;let n,r;for(let i=0;i<t;i++){if(!n){const s=e[i];s.getLeft()!=null&&(n=s)}if(!r){const s=e[t-1-i];s.getLeft()!=null&&(r=s)}if(n&&r)break}return{firstMovingCol:n,lastMovingCol:r}}var aG=class extends te{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){const{ctrlsSvc:e,dragAndDrop:t}=this.beans,n=this.pinned;e.whenReady(this,r=>{let i;const s=r.gridBodyCtrl.eBodyViewport;switch(n){case"left":i=[[s,r.left.eContainer],[r.bottomLeft.eContainer],[r.topLeft.eContainer]];break;case"right":i=[[s,r.right.eContainer],[r.bottomRight.eContainer],[r.topRight.eContainer]];break;default:i=[[s,r.center.eViewport],[r.bottomCenter.eViewport],[r.topCenter.eViewport]];break}this.eSecondaryContainers=i}),this.moveColumnFeature=this.createManagedBean(new sG(n)),this.bodyDropPivotTarget=this.createManagedBean(new JH(n)),t.addDropTarget(this),this.addDestroyFunc(()=>t.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.beans.colModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},lG=class extends te{constructor(){super(...arguments),this.beanName="colMoves"}moveColumnByIndex(e,t,n){const r=this.beans.colModel.getCols();if(!r)return;const i=r[e];this.moveColumns([i],t,n)}moveColumns(e,t,n,r=!0){const{colModel:i,colAnimation:s,visibleCols:o,eventSvc:l}=this.beans,c=i.getCols();if(!c)return;if(t>c.length-e.length){he(30,{toIndex:t});return}s==null||s.start();const d=i.getColsForKeys(e);this.doesMovePassRules(d,t)&&(LS(i.getCols(),d,t),o.refresh(n),l.dispatchEvent({type:"columnMoved",columns:d,column:d.length===1?d[0]:null,toIndex:t,finished:r,source:n})),s==null||s.finish()}doesMovePassRules(e,t){const n=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(n)}doesOrderPassRules(e){const{colModel:t,gos:n}=this.beans;return!(!XE(e,t.getColTree())||!(i=>{const s=d=>d?d==="left"||d===!0?-1:1:0,o=n.get("enableRtl");let l=o?1:-1,c=!0;return i.forEach(d=>{const f=s(d.getColDef().lockPosition);o?f>l&&(c=!1):f<l&&(c=!1),l=f}),c})(e))}getProposedColumnOrder(e,t){const r=this.beans.colModel.getCols().slice();return LS(r,e,t),r}createBodyDropTarget(e,t){return new aG(e,t)}moveHeader(e,t,n,r,i){const{ctrlsSvc:s,gos:o,colModel:l,visibleCols:c,focusSvc:d}=this.beans,f=t.getBoundingClientRect(),p=f.left,m=It(n),C=m?f.width:n.getActualWidth(),y=e==="left"!==o.get("enableRtl"),b=cm({x:y?p-20:p+C+20,pinned:r,fromKeyboard:!0,gos:o,ctrlsSvc:s}),R=d.focusedHeader;_0({allMovingColumns:m?n.getLeafColumns():[n],isFromHeader:!0,fromLeft:e==="right",xPosition:b,pinned:r,fromEnter:!1,fakeEvent:!1,gos:o,colModel:l,colMoves:this,visibleCols:c,finished:!0});let x;if(m){const E=n.getDisplayedLeafColumns();x=y?E[0]:lt(E)}else x=n;if(s.getScrollFeature().ensureColumnVisible(x,"auto"),(!i.isAlive()||o.get("ensureDomOrder"))&&R){let E;if(m){const P=n.getGroupId(),D=n.getLeafColumns();if(!D.length)return;const A=D[0].getParent();if(!A)return;E=uG(A,P)}else E=n;E&&d.focusHeaderPosition({headerPosition:{...R,column:E}})}}setDragSourceForHeader(e,t,n){const{gos:r,colModel:i,dragAndDrop:s,visibleCols:o}=this.beans;let l=!r.get("suppressDragLeaveHidesColumns");const c=It(t),d=c?t.getProvidedColumnGroup().getLeafColumns():[t],p={type:1,eElement:e,getDefaultIconName:()=>l?"hide":"notAllowed",getDragItem:c?()=>dG(t,o.allCols):()=>cG(t),dragItemName:n,onDragStarted:()=>{l=!r.get("suppressDragLeaveHidesColumns"),gg(d,!0)},onDragStopped:()=>gg(d,!1),onDragCancelled:()=>gg(d,!1),onGridEnter:m=>{if(l){const{columns:C=[],visibleState:y}=m??{},b=c?x=>!y||y[x.getColId()]:()=>!0,R=C.filter(x=>!x.getColDef().lockVisible&&b(x));i.setColsVisible(R,!0,"uiColumnMoved")}},onGridExit:m=>{var C;if(l){const y=((C=m==null?void 0:m.columns)==null?void 0:C.filter(b=>!b.getColDef().lockVisible))||[];i.setColsVisible(y,!1,"uiColumnMoved")}}};return s.addDragSource(p,!0),p}};function uG(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}}function cG(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t}}function dG(e,t){const n=e.getProvidedColumnGroup().getLeafColumns(),r={};n.forEach(l=>r[l.getId()]=l.isVisible());const i=[];t.forEach(l=>{n.indexOf(l)>=0&&(i.push(l),Pr(n,l))}),n.forEach(l=>i.push(l));const s=[],o=e.getLeafColumns();for(const l of i)o.indexOf(l)!==-1&&s.push(l);return{columns:i,columnsInSplit:s,visibleState:r}}var hG={moduleName:"ColumnMove",version:ve,beans:[lG,qH],apiFunctions:{moveColumnByIndex:YH,moveColumns:QH},dependsOn:[V0],css:[KH]},fG=class extends te{constructor(){super(...arguments),this.beanName="autoWidthCalc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const n=this.getHeaderCellForColumn(e);if(!n)return-1;const r=this.beans.rowRenderer.getAllCellsNotSpanningForColumn(e);return t||r.push(n),this.getPreferredWidthForElements(r)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.getPreferredWidthForElements([t]):-1}getPreferredWidthForElements(e,t){const n=document.createElement("form");n.style.position="fixed";const r=this.centerRowContainerCtrl.eContainer;e.forEach(s=>this.cloneItemIntoDummy(s,n)),r.appendChild(n);const i=n.offsetWidth;return r.removeChild(n),t=t??this.gos.get("autoSizePadding"),i+t}getHeaderCellForColumn(e){let t=null;return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().forEach(n=>{const r=n.getHtmlElementForColumnHeader(e);r!=null&&(t=r)}),t}cloneItemIntoDummy(e,t){const n=e.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";const r=document.createElement("div"),i=r.classList;["ag-header-cell","ag-header-group-cell"].some(l=>n.classList.contains(l))?(i.add("ag-header","ag-header-row"),r.style.position="static"):i.add("ag-row");let o=e.parentElement;for(;o;){if(["ag-header-row","ag-row"].some(c=>o.classList.contains(c))){for(let c=0;c<o.classList.length;c++){const d=o.classList[c];d!="ag-row-position-absolute"&&i.add(d)}break}o=o.parentElement}r.appendChild(n),t.appendChild(r)}},z0={moduleName:"AutoWidth",version:ve,beans:[fG]};function pG(e,t,n=!0,r="api"){var i;(i=e.colResize)==null||i.setColumnWidths(t,!1,n,r)}var gG=class extends te{constructor(e,t,n,r){super(),this.comp=e,this.eResize=t,this.pinned=n,this.columnGroup=r}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const{horizontalResizeSvc:e,gos:t,colAutosize:n}=this.beans,r=e.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(r),!t.get("suppressAutoSize")&&n&&this.addDestroyFunc(n.addColumnGroupResize(this.eResize,this.columnGroup,()=>this.resizeLeafColumnsToFit("uiColumnResized")))}onResizeStart(e){const{columnsToResize:t,resizeStartWidth:n,resizeRatios:r,groupAfterColumns:i,groupAfterStartWidth:s,groupAfterRatios:o}=this.getInitialValues(e);this.resizeCols=t,this.resizeStartWidth=n,this.resizeRatios=r,this.resizeTakeFromCols=i,this.resizeTakeFromStartWidth=s,this.resizeTakeFromRatios=o,this.toggleColumnResizing(!0)}onResizing(e,t,n="uiColumnResized"){const r=this.normaliseDragChange(t),i=this.resizeStartWidth+r;this.resizeColumnsFromLocalValues(i,n,e)}getInitialValues(e){var c;const t=d=>d.reduce((f,p)=>f+p.getActualWidth(),0),n=(d,f)=>d.map(p=>p.getActualWidth()/f),r=this.getColumnsToResize(),i=t(r),s=n(r,i),o={columnsToResize:r,resizeStartWidth:i,resizeRatios:s};let l=null;if(e&&(l=((c=this.beans.colGroupSvc)==null?void 0:c.getGroupAtDirection(this.columnGroup,"After"))??null),l){const d=l.getDisplayedLeafColumns(),f=o.groupAfterColumns=d.filter(m=>m.isResizable()),p=o.groupAfterStartWidth=t(f);o.groupAfterRatios=n(f,p)}else o.groupAfterColumns=void 0,o.groupAfterStartWidth=void 0,o.groupAfterRatios=void 0;return o}resizeLeafColumnsToFit(e){const t=this.beans.autoWidthCalc.getPreferredWidthForColumnGroup(this.columnGroup),n=this.getInitialValues();t>n.resizeStartWidth&&this.resizeColumns(n,t,e,!0)}resizeColumnsFromLocalValues(e,t,n=!0){if(!this.resizeCols||!this.resizeRatios)return;const r={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols,groupAfterStartWidth:this.resizeTakeFromStartWidth,groupAfterRatios:this.resizeTakeFromRatios};this.resizeColumns(r,e,t,n)}resizeColumns(e,t,n,r=!0){var p;const{columnsToResize:i,resizeStartWidth:s,resizeRatios:o,groupAfterColumns:l,groupAfterStartWidth:c,groupAfterRatios:d}=e,f=[];if(f.push({columns:i,ratios:o,width:t}),l){const m=t-s;f.push({columns:l,ratios:d,width:c-m})}(p=this.beans.colResize)==null||p.resizeColumnSets({resizeSets:f,finished:r,source:n}),r&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}},mG=class extends te{constructor(e,t,n,r,i){super(),this.pinned=e,this.column=t,this.eResize=n,this.comp=r,this.ctrl=i}postConstruct(){const e=[];let t,n;const r=()=>{if(Ot(this.eResize,t),!t)return;const{horizontalResizeSvc:o,colAutosize:l}=this.beans,c=o.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});e.push(c),n&&l&&e.push(l.addColumnAutosize(this.eResize,this.column))},i=()=>{e.forEach(o=>o()),e.length=0},s=()=>{const o=this.column.isResizable(),l=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(o!==t||l!==n)&&(t=o,n=l,i(),r())};s(),this.addDestroyFunc(i),this.ctrl.setRefreshFunction("resize",s)}onResizing(e,t){const{column:n,lastResizeAmount:r,resizeStartWidth:i,beans:s}=this,o=this.normaliseResizeAmount(t),l=i+o,c=[{key:n,newWidth:l}],{pinnedCols:d,ctrlsSvc:f,colResize:p}=s;if(this.column.getPinned()){const m=(d==null?void 0:d.leftWidth)??0,C=(d==null?void 0:d.rightWidth)??0,y=Jl(f.getGridBodyCtrl().eBodyViewport)-50;if(m+C+(o-r)>y)return}this.lastResizeAmount=o,p==null||p.setColumnWidths(c,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const n=this.pinned!=="left",r=this.pinned==="right";return this.gos.get("enableRtl")?n&&(t*=-1):r&&(t*=-1),t}},CG=class extends te{constructor(){super(...arguments),this.beanName="colResize"}setColumnWidths(e,t,n,r){const i=[],{colModel:s,gos:o,visibleCols:l}=this.beans;e.forEach(c=>{const d=s.getColDefCol(c.key)||s.getCol(c.key);if(!d)return;if(i.push({width:c.newWidth,ratios:[1],columns:[d]}),o.get("colResizeDefault")==="shift"&&(t=!t),t){const p=l.getColAfter(d);if(!p)return;const m=d.getActualWidth()-c.newWidth,C=p.getActualWidth()+m;i.push({width:C,ratios:[1],columns:[p]})}}),i.length!==0&&this.resizeColumnSets({resizeSets:i,finished:n,source:r})}resizeColumnSets(e){const{resizeSets:t,finished:n,source:r}=e;if(!(!t||t.every(f=>vG(f)))){if(n){const f=t&&t.length>0?t[0].columns:null;ma(this.eventSvc,f,n,r)}return}const s=[],o=[];t.forEach(f=>{const{width:p,columns:m,ratios:C}=f,y={},b={};m.forEach(E=>o.push(E));let R=!0,x=0;for(;R;){if(x++,x>1e3){ut(31);break}R=!1;const E=[];let P=0,D=p;m.forEach((O,T)=>{if(b[O.getId()])D-=y[O.getId()];else{E.push(O);const $=C[T];P+=$}});const A=1/P;E.forEach((O,T)=>{const G=T===E.length-1;let $;G?$=D:($=Math.round(C[T]*p*A),D-=$);const U=O.getMinWidth(),J=O.getMaxWidth();$<U?($=U,b[O.getId()]=!0,R=!0):J>0&&$>J&&($=J,b[O.getId()]=!0,R=!0),y[O.getId()]=$})}m.forEach(E=>{const P=y[E.getId()];E.getActualWidth()!==P&&(E.setActualWidth(P,r),s.push(E))})});const l=s.length>0;let c=[];if(l){const{colFlex:f,visibleCols:p,colViewport:m}=this.beans;c=(f==null?void 0:f.refreshFlexedColumns({resizingCols:o,skipSetLeft:!0}))??[],p.setLeftValues(r),p.updateBodyWidths(),m.checkViewportColumns()}const d=o.concat(c);(l||n)&&ma(this.eventSvc,d,n,r,c)}resizeHeader(e,t,n){if(!e.isResizable())return;const r=e.getActualWidth(),i=e.getMinWidth(),s=e.getMaxWidth(),o=Math.min(Math.max(r+t,i),s);this.setColumnWidths([{key:e,newWidth:o}],n,!0,"uiColumnResized")}createResizeFeature(e,t,n,r,i){return new mG(e,t,n,r,i)}createGroupResizeFeature(e,t,n,r){return new gG(e,t,n,r)}};function vG(e){const{columns:t,width:n}=e;let r=0,i=0,s=!0;t.forEach(c=>{const d=c.getMinWidth();r+=d||0;const f=c.getMaxWidth();f>0?i+=f:s=!1});const o=n>=r,l=!s||n<=i;return o&&l}var wG={moduleName:"ColumnResize",version:ve,beans:[CG],apiFunctions:{setColumnWidths:pG},dependsOn:[$H,z0]},yG=class extends te{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.__addEventListener("widthChanged",e),t.__addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.__removeEventListener("widthChanged",e),t.__removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",e===0)}},SG=class extends xC{constructor(){super(...arguments),this.onSuppressColMoveChange=()=>{!this.isAlive()||this.isSuppressMoving()?this.removeDragSource():this.dragSource||this.setDragSource(this.eGui)}}setComp(e,t,n,r,i){const{column:s,beans:o}=this,{context:l,colNames:c,colHover:d,rangeSvc:f,colResize:p}=o;this.comp=e,i=wu(this,l,i),this.setGui(t,i),this.displayName=c.getDisplayNameForColumnGroup(s,"header"),this.refreshHeaderStyles(),this.addClasses(),this.setupMovingCss(i),this.setupExpandable(i),this.setupTooltip(),this.setupAutoHeight({wrapperElement:r,compBean:i}),this.setupUserComp(),this.addHeaderMouseListeners(i),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const m=this.rowCtrl.pinned,C=s.getProvidedColumnGroup().getLeafColumns();d==null||d.createHoverFeature(i,C,t),f==null||f.createRangeHighlightFeature(i,s,e),i.createManagedBean(new RC(s,t,o)),i.createManagedBean(new yG(e,s)),p?this.resizeFeature=i.createManagedBean(p.createGroupResizeFeature(e,n,m,s)):e.setResizableDisplayed(!1),i.createManagedBean(new Ma(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(i,C),i.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(i),i.addDestroyFunc(()=>this.clearComponent())}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.getDefinition();return Le(t.gos,{colDef:n,columnGroup:e,floatingFilter:!1})}refreshMaxHeaderHeight(){const{gos:e,comp:t}=this,n=e.get("groupHeaderHeight");n!=null?n===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(n):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const n of t)e.addManagedListeners(n,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,n)})}onLeafColumnHighlightChanged(e){const t=this.column.getDisplayedLeafColumns(),n=t[0]===e,r=lt(t)===e;if(!n&&!r)return;const i=e.getHighlighted(),s=!!this.rowCtrl.findHeaderCellCtrl(c=>c.column.isMoving());let o=!1,l=!1;if(s){const c=this.beans.gos.get("enableRtl"),d=i===1,f=i===0;n&&(c?l=d:o=f),r&&(c?o=f:l=d)}this.comp.addOrRemoveCssClass("ag-header-highlight-before",o),this.comp.addOrRemoveCssClass("ag-header-highlight-after",l)}resizeHeader(e,t){const{resizeFeature:n}=this;if(!n)return;const r=n.getInitialValues(t);n.resizeColumns(r,r.resizeStartWidth+e,"uiColumnResized",!0)}resizeLeafColumnsToFit(e){var t;(t=this.resizeFeature)==null||t.resizeLeafColumnsToFit(e)}setupUserComp(){const{colGroupSvc:e,userCompFactory:t,gos:n}=this.beans,r=Le(n,{displayName:this.displayName,columnGroup:this.column,setExpanded:s=>{e.setColumnGroupOpened(this.column.getProvidedColumnGroup(),s,"gridInitializing")},setTooltip:(s,o)=>{n.assertModuleRegistered("Tooltip",3),this.setupTooltip(s,o)}}),i=jL(t,r);i&&this.comp.setUserCompDetails(i)}addHeaderMouseListeners(e){const t=i=>this.handleMouseOverChange(i.type==="mouseenter"),n=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),r=i=>this.handleContextMenuMouseEvent(i,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:n,contextmenu:r})}handleMouseOverChange(e){this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t){var n;this.tooltipFeature=(n=this.beans.tooltipSvc)==null?void 0:n.setupHeaderGroupTooltip(this.tooltipFeature,this,e,t)}setupExpandable(e){const t=this.column.getProvidedColumnGroup();this.refreshExpanded();const n=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:n,expandableChanged:n})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0),this.refreshHeaderStyles()}addClasses(){const{column:e}=this,t=e.getColGroupDef(),n=l0(t,this.gos,null,e);e.isPadding()?(n.push("ag-header-group-cell-no-group"),e.getLeafColumns().every(i=>i.isSpanHeaderHeight())&&n.push("ag-header-span-height")):(n.push("ag-header-group-cell-with-group"),t!=null&&t.wrapHeaderText&&n.push("ag-header-cell-wrap-text")),n.forEach(r=>this.comp.addOrRemoveCssClass(r,!0))}setupMovingCss(e){const{column:t}=this,r=t.getProvidedColumnGroup().getLeafColumns(),i=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",t.isMoving());r.forEach(s=>{e.addManagedListeners(s,{movingChanged:i})}),i()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||this.focusThis()}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===X.ENTER){const n=this.column,r=!n.isExpanded();this.beans.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),r,"uiColumnExpanded")}}setDragSource(e){var t;!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),e&&(this.dragSource=((t=this.beans.colMoves)==null?void 0:t.setDragSourceForHeader(e,this.column,this.displayName))??null))}isSuppressMoving(){return this.gos.get("suppressMovableColumns")||this.column.getLeafColumns().some(e=>e.getColDef().suppressMovable||e.getColDef().lockPosition)}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function bG(e,t,n){var r;(r=e.colGroupSvc)==null||r.setColumnGroupOpened(t,n,"api")}function RG(e,t,n){var r;return((r=e.colGroupSvc)==null?void 0:r.getColumnGroup(t,n))??null}function xG(e,t){var n;return((n=e.colGroupSvc)==null?void 0:n.getProvidedColGroup(t))??null}function EG(e,t,n){return e.colNames.getDisplayNameForColumnGroup(t,n)||""}function FG(e){var t;return((t=e.colGroupSvc)==null?void 0:t.getColumnGroupState())??[]}function PG(e,t){var n;(n=e.colGroupSvc)==null||n.setColumnGroupState(t,"api")}function DG(e){var t;(t=e.colGroupSvc)==null||t.resetColumnGroupState("api")}function TG(e){return e.visibleCols.treeLeft}function AG(e){return e.visibleCols.treeCenter}function MG(e){return e.visibleCols.treeRight}function kG(e){return e.visibleCols.getAllTrees()}function IG(e,t){for(let n=0;n<t.length;n++){const r=e.indexOf(t[n]);r>=0&&(e[r]=e[e.length-1],e.pop())}}var OG=class extends te{constructor(){super(...arguments),this.beanName="visibleCols",this.colsAndGroupsMap={},this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.isBodyWidthDirty=!0}refresh(e,t=!1){var l;const{colModel:n,colGroupSvc:r,colViewport:i}=this.beans;t||this.buildTrees(n,r),r==null||r.updateOpenClosedVisibility();const s=mg(this.treeLeft);this.leftCols=s,this.centerCols=mg(this.treeCenter);const o=mg(this.treeRight);this.rightCols=o,this.joinColsAriaOrder(n),this.joinCols(),this.setLeftValues(e),this.autoHeightCols=this.allCols.filter(c=>c.isAutoHeight()),(l=this.beans.colFlex)==null||l.refreshFlexedColumns(),this.updateBodyWidths(),i.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(n,s,o,e),this.eventSvc.dispatchEvent({type:"displayedColumnsChanged",source:e})}updateBodyWidths(){const e=gi(this.centerCols),t=gi(this.leftCols),n=gi(this.rightCols);this.isBodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==n)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=n,this.eventSvc.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventSvc.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e,t,n,r){let i,s;this.gos.get("enableRtl")?(i=t?t[0]:null,s=n?lt(n):null):(i=t?lt(t):null,s=n?n[0]:null),e.getCols().forEach(o=>{o.setLastLeftPinned(o===i,r),o.setFirstRightPinned(o===s,r)})}buildTrees(e,t){const n=e.getColsToShow(),r=n.filter(c=>c.getPinned()=="left"),i=n.filter(c=>c.getPinned()=="right"),s=n.filter(c=>c.getPinned()!="left"&&c.getPinned()!="right"),o=new r0,l=c=>t?t.createColumnGroups(c):c.columns;this.treeLeft=l({columns:r,idCreator:o,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=l({columns:i,idCreator:o,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=l({columns:s,idCreator:o,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.ariaOrderColumns=[]}joinColsAriaOrder(e){const t=e.getCols(),n=[],r=[],i=[];for(const s of t){const o=s.getPinned();o?o===!0||o==="left"?n.push(s):i.push(s):r.push(s)}this.ariaOrderColumns=n.concat(r).concat(i)}getAriaColIndex(e){let t;return It(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(t=>{It(t)&&t.checkLeft()})})}setLeftValuesOfCols(e){const{colModel:t}=this.beans;if(!t.getColDefCols())return;const r=t.getCols().slice(0),i=this.gos.get("enableRtl");[this.leftCols,this.rightCols,this.centerCols].forEach(s=>{if(i){let o=gi(s);s.forEach(l=>{o-=l.getActualWidth(),l.setLeft(o,e)})}else{let o=0;s.forEach(l=>{l.setLeft(o,e),o+=l.getActualWidth()})}IG(r,s)}),r.forEach(s=>{s.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.allCols=this.rightCols.concat(this.centerCols).concat(this.leftCols):this.allCols=this.leftCols.concat(this.centerCols).concat(this.rightCols)}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}isColDisplayed(e){return this.allCols.indexOf(e)>=0}getLeftColsForRow(e){const{leftCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getRightColsForRow(e){const{rightCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getColsForRow(e,t,n,r){const i=[];let s=null;for(let o=0;o<t.length;o++){const l=t[o],c=t.length-o,d=Math.min(l.getColSpan(e),c),f=[l];if(d>1){const m=d-1;for(let C=1;C<=m;C++)f.push(t[o+C]);o+=m}let p;n?(p=!1,f.forEach(m=>{n(m)&&(p=!0)})):p=!0,p&&(i.length===0&&s&&(r&&r(l))&&i.push(s),i.push(l)),s=l}return i}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getColBefore(e){const t=this.allCols,n=t.indexOf(e);return n>0?t[n-1]:null}isPinningLeft(){return this.leftCols.length>0}isPinningRight(){return this.rightCols.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};no(this.treeCenter,!1,e),no(this.treeLeft,!1,e),no(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["leftCols","centerCols","rightCols"];e&&t.reverse();for(let n=0;n<t.length;n++){const r=this[t[n]];if(r.length)return e?lt(r):r[0]}return null}getColAfter(e){const t=this.allCols,n=t.indexOf(e);return n<t.length-1?t[n+1]:null}getColsLeftWidth(){return gi(this.leftCols)}getDisplayedColumnsRightWidth(){return gi(this.rightCols)}isColAtEdge(e,t){const n=this.allCols;if(!n.length)return!1;const r=t==="first";let i;if(It(e)){const s=e.getDisplayedLeafColumns();if(!s.length)return!1;i=r?s[0]:lt(s)}else i=e;return(r?n[0]:lt(n))===i}};function no(e,t,n){if(e)for(let r=0;r<e.length;r++){const i=e[r];if(It(i)){const s=t?i.getDisplayedChildren():i.getChildren();no(s,t,n)}n(i)}}function mg(e){const t=[];return no(e,!0,n=>{Cs(n)&&t.push(n)}),t}var LG=class extends te{constructor(){super(...arguments),this.beanName="colGroupSvc"}getColumnGroupState(){const e=[],t=this.beans.colModel.getColTree();return Ri(null,t,n=>{gn(n)&&e.push({groupId:n.getGroupId(),open:n.isExpanded()})}),e}resetColumnGroupState(e){const t=this.beans.colModel.getColDefColTree();if(!t)return;const n=[];Ri(null,t,r=>{if(gn(r)){const i=r.getColGroupDef(),s={groupId:r.getGroupId(),open:i?i.openByDefault:void 0};n.push(s)}}),this.setColumnGroupState(n,e)}setColumnGroupState(e,t){const{colModel:n,colAnimation:r,visibleCols:i,eventSvc:s}=this.beans;if(!n.getColTree().length)return;r==null||r.start();const l=[];e.forEach(c=>{const d=c.groupId,f=c.open,p=this.getProvidedColGroup(d);p&&p.isExpanded()!==f&&(p.setExpanded(f),l.push(p))}),i.refresh(t,!0),l.length&&s.dispatchEvent({type:"columnGroupOpened",columnGroup:l.length===1?l[0]:void 0,columnGroups:l}),r==null||r.finish()}setColumnGroupOpened(e,t,n){let r;gn(e)?r=e.getId():r=e||"",this.setColumnGroupState([{groupId:r,open:t}],n)}getProvidedColGroup(e){let t=null;return Ri(null,this.beans.colModel.getColTree(),n=>{gn(n)&&n.getId()===e&&(t=n)}),t}getGroupAtDirection(e,t){const n=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),r=e.getDisplayedLeafColumns(),i=t==="After"?lt(r):r[0],s=`getCol${t}`;for(;;){const o=this.beans.visibleCols[s](i);if(!o)return null;const l=this.getColGroupAtLevel(o,n);if(l!==e)return l}}getColGroupAtLevel(e,t){let n=e.getParent(),r,i;for(;r=n.getProvidedColumnGroup().getLevel(),i=n.getPaddingLevel(),!(r+i<=t);)n=n.getParent();return n}updateOpenClosedVisibility(){const e=this.beans.visibleCols.getAllTrees();no(e,!1,t=>{It(t)&&t.calculateDisplayedColumns()})}getColumnGroup(e,t){if(!e)return null;if(It(e))return e;const n=this.beans.visibleCols.getAllTrees(),r=typeof t=="number";let i=null;return no(n,!1,s=>{if(It(s)){const o=s;let l;r?l=e===o.getGroupId()&&t===o.getPartId():l=e===o.getGroupId(),l&&(i=o)}}),i}createColumnGroups(e){const{columns:t,idCreator:n,pinned:r,oldDisplayedGroups:i,isStandaloneStructure:s}=e,o=this.mapOldGroupsById(i),l=[];let c=t;for(;c.length;){const d=c;c=[];let f=0;const p=m=>{const C=f;f=m;const y=d[C],R=(It(y)?y.getProvidedColumnGroup():y).getOriginalParent();if(R==null){for(let E=C;E<m;E++)l.push(d[E]);return}const x=this.createColumnGroup(R,n,o,r,s);for(let E=C;E<m;E++)x.addChild(d[E]);c.push(x)};for(let m=1;m<d.length;m++){const C=d[m],b=(It(C)?C.getProvidedColumnGroup():C).getOriginalParent(),R=d[f],E=(It(R)?R.getProvidedColumnGroup():R).getOriginalParent();b!==E&&p(m)}f<d.length&&p(d.length)}return s||this.setupParentsIntoCols(l,null),l}createProvidedColumnGroup(e,t,n,r,i,s,o){const l=i.getUniqueKey(t.groupId||null,null),c=this.createMergedColGroupDef(t,l),d=new ud(c,l,!1,n);this.createBean(d);const f=this.findExistingGroup(t,s);f&&s.splice(f.idx,1);const p=f==null?void 0:f.group;p&&d.setExpanded(p.isExpanded());const m=YE(this.beans,c.children,n+1,e,r,i,s,o);return d.setChildren(m),d}balanceColumnTree(e,t,n,r){const i=[];for(let s=0;s<e.length;s++){const o=e[s];if(gn(o)){const l=o,c=this.balanceColumnTree(l.getChildren(),t+1,n,r);l.setChildren(c),i.push(l)}else{let l,c;for(let d=n-1;d>=t;d--){const f=r.getUniqueKey(null,null),p=this.createMergedColGroupDef(null,f),m=new ud(p,f,!0,t);this.createBean(m),c&&c.setChildren([m]),c=m,l||(l=c)}if(l&&c)if(i.push(l),e.some(f=>gn(f))){c.setChildren([o]);continue}else{c.setChildren(e);break}i.push(o)}}return i}findDepth(e){let t=0,n=e;for(;n&&n[0]&&gn(n[0]);)t++,n=n[0].getChildren();return t}findMaxDepth(e,t){let n=t;for(let r=0;r<e.length;r++){const i=e[r];if(gn(i)){const s=i,o=this.findMaxDepth(s.getChildren(),t+1);n<o&&(n=o)}}return n}balanceTreeForAutoCols(e,t){const n=[];return e.forEach(r=>{let i=r;for(let s=t-1;s>=0;s--){const o=new ud(null,`FAKE_PATH_${r.getId()}}_${s}`,!0,s);this.createBean(o),o.setChildren([i]),i.originalParent=o,i=o}t===0&&(r.originalParent=null),n.push(i)}),n}createMergedColGroupDef(e,t){const n={},{gos:r,validation:i}=this.beans;return Object.assign(n,r.get("defaultColGroupDef")),Object.assign(n,e),i==null||i.validateColDef(n,t),n}findExistingGroup(e,t){if(e.groupId!=null)for(let r=0;r<t.length;r++){const i=t[r];if(i.getColGroupDef()&&i.getId()===e.groupId)return{idx:r,group:i}}}createColumnGroup(e,t,n,r,i){const s=e.getGroupId(),o=t.getInstanceIdForKey(s),l=m0(s,o);let c=n[l];return c&&c.getProvidedColumnGroup()!==e&&(c=null),Ce(c)?c.reset():(c=new C0(e,s,o,r),i||this.createBean(c)),c}mapOldGroupsById(e){const t={},n=r=>{r.forEach(i=>{if(It(i)){const s=i;t[i.getUniqueId()]=s,n(s.getChildren())}})};return e&&n(e),t}setupParentsIntoCols(e,t){e.forEach(n=>{if(n.parent=t,It(n)){const r=n;this.setupParentsIntoCols(r.getChildren(),r)}})}},NG={moduleName:"ColumnGroup",version:ve,dynamicBeans:{headerGroupCellCtrl:SG},beans:[LG],apiFunctions:{getAllDisplayedColumnGroups:kG,getCenterDisplayedColumnGroups:AG,getColumnGroup:RG,getColumnGroupState:FG,getDisplayNameForColumnGroup:EG,getLeftDisplayedColumnGroups:TG,getProvidedColumnGroup:xG,getRightDisplayedColumnGroups:MG,resetColumnGroupState:DG,setColumnGroupOpened:bG,setColumnGroupState:PG}},BG={moduleName:"CheckboxCellRenderer",version:ve,userComponents:{agCheckboxCellRenderer:eH}};function HG(e,t){const n=e.colModel.getColDefCol(t);return n?n.getColDef():null}function GG(e){return e.colModel.getColumnDefs()}function VG(e,t,n){return e.colNames.getDisplayNameForColumn(t,n)||""}function WG(e,t){return e.colModel.getColDefCol(t)}function _G(e){return e.colModel.getColDefCols()}function zG(e,t){return or(e,t,"api")}function jG(e){return nu(e)}function UG(e){mL(e,"api")}function $G(e){return e.visibleCols.isPinningLeft()||e.visibleCols.isPinningRight()}function KG(e){return e.visibleCols.isPinningLeft()}function qG(e){return e.visibleCols.isPinningRight()}function YG(e,t){return e.visibleCols.getColAfter(t)}function QG(e,t){return e.visibleCols.getColBefore(t)}function JG(e,t,n){e.colModel.setColsVisible(t,n,"api")}function XG(e,t,n){var r;(r=e.pinnedCols)==null||r.setColsPinned(t,n,"api")}function ZG(e){return e.colModel.getCols()}function eV(e){return e.visibleCols.leftCols}function tV(e){return e.visibleCols.centerCols}function nV(e){return e.visibleCols.rightCols}function rV(e){return e.visibleCols.allCols}function iV(e){return e.colViewport.getViewportColumns()}function hm(e,t){if(!e)return;const n=e,r={};return Object.keys(n).forEach(i=>{if(t&&t.indexOf(i)>=0||jE.has(i))return;const s=n[i];typeof s=="object"&&s!==null&&s.constructor===Object?r[i]=hm(s):r[i]=s}),r}var sV=class extends te{constructor(){super(...arguments),this.beanName="colDefFactory"}wireBeans(e){this.rowGroupColsSvc=e.rowGroupColsSvc,this.pivotColsSvc=e.pivotColsSvc}getColumnDefs(e,t,n,r){var l,c;const i=e.slice();t?i.sort((d,f)=>n.indexOf(d)-n.indexOf(f)):n&&i.sort((d,f)=>r.indexOf(d)-r.indexOf(f));const s=(l=this.rowGroupColsSvc)==null?void 0:l.columns,o=(c=this.pivotColsSvc)==null?void 0:c.columns;return this.buildColumnDefs(i,s,o)}buildColumnDefs(e,t=[],n=[]){const r=[],i={};return e.forEach(s=>{const o=this.createDefFromColumn(s,t,n);let l=!0,c=o,d=s.getOriginalParent(),f=null;for(;d;){let p=null;if(d.isPadding()){d=d.getOriginalParent();continue}const m=i[d.getGroupId()];if(m){m.children.push(c),l=!1;break}if(p=this.createDefFromGroup(d),p&&(p.children=[c],i[p.groupId]=p,c=p,d=d.getOriginalParent()),d!=null&&f===d){l=!1;break}f=d}l&&r.push(c)}),r}createDefFromGroup(e){const t=hm(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,n){const r=hm(e.getColDef());return r.colId=e.getColId(),r.width=e.getActualWidth(),r.rowGroup=e.isRowGroupActive(),r.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,r.pivot=e.isPivotActive(),r.pivotIndex=e.isPivotActive()?n.indexOf(e):null,r.aggFunc=e.isValueActive()?e.getAggFunc():null,r.hide=e.isVisible()?void 0:!0,r.pinned=e.isPinned()?e.getPinned():null,r.sort=e.getSort()?e.getSort():null,r.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,r}},oV=class extends te{constructor(){super(...arguments),this.beanName="colFlex"}refreshFlexedColumns(e={}){const t=e.source??"flex";e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth);const n=this.flexViewportWidth;if(!n)return[];const{visibleCols:r}=this.beans,i=r.centerCols;let s=-1;if(e.resizingCols){const y=new Set(e.resizingCols);for(let b=i.length-1;b>=0;b--)if(y.has(i[b])){s=b;break}}let o=!1;const l=i.map((y,b)=>{const R=y.getFlex(),x=R!=null&&R>0&&b>s;return o||(o=x),{col:y,isFlex:x,flex:Math.max(0,R??0),initialSize:y.getActualWidth(),min:y.getMinWidth(),max:y.getMaxWidth(),targetSize:0}});if(!o)return[];let c=l.length,d=l.reduce((y,b)=>y+b.flex,0),f=n;const p=(y,b)=>{y.frozenSize=b,y.col.setActualWidth(b,t),f-=b,d-=y.flex,c-=1},m=y=>y.frozenSize!=null;for(const y of l)y.isFlex||p(y,y.initialSize);for(;c>0;){const y=Math.round(d<1?f*d:f);let b,R=0,x=0;for(const D of l){if(m(D))continue;b=D,x+=y*(D.flex/d);const A=x-R,O=Math.round(A);D.targetSize=O,R+=O}b&&(b.targetSize+=y-R);let E=0;for(const D of l){if(m(D))continue;const A=D.targetSize,O=Math.min(Math.max(A,D.min),D.max);E+=O-A,D.violationType=O===A?void 0:O<A?"max":"min",D.targetSize=O}const P=E===0?"all":E>0?"min":"max";for(const D of l)m(D)||(P==="all"||D.violationType===P)&&p(D,D.targetSize)}e.skipSetLeft||r.setLeftValues(t),e.updateBodyWidths&&r.updateBodyWidths();const C=l.filter(y=>y.isFlex&&!y.violationType).map(y=>y.col);if(e.fireResizedEvent){const y=l.filter(R=>R.initialSize!==R.frozenSize).map(R=>R.col),b=l.filter(R=>R.flex).map(R=>R.col);ma(this.eventSvc,y,!0,t,b)}return C}initCol(e){const{flex:t,initialFlex:n}=e.colDef;t!==void 0?e.flex=t:n!==void 0&&(e.flex=n)}setColFlex(e,t){e.flex=t??null,e.dispatchStateUpdatedEvent("flex")}},aV=class extends te{constructor(){super(...arguments),this.beanName="dataTypeSvc",this.dataTypeDefinitions={},this.isPendingInference=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}wireBeans(e){this.colModel=e.colModel}postConstruct(){this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.colModel.recreateColumnDefs(e)})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes(),t={};this.dataTypeDefinitions=t;const n={};this.formatValueFuncs=n;const r=o=>l=>{const{column:c,node:d,value:f}=l;let p=c.getColDef().valueFormatter;return p===o.groupSafeValueFormatter&&(p=o.valueFormatter),this.beans.valueSvc.formatValue(c,d,f,p)};for(const o of Object.keys(e)){const l=e[o],c={...l,groupSafeValueFormatter:XS(l,this.gos)};t[o]=c,n[o]=r(c)}const i=this.gos.get("dataTypeDefinitions")??{},s={};this.dataTypeMatchers=s;for(const o of Object.keys(i)){const l=i[o],c=this.processDataTypeDefinition(l,i,[o],e);c&&(t[o]=c,l.dataTypeMatcher&&(s[o]=l.dataTypeMatcher),n[o]=r(c))}this.checkObjectValueHandlers(e),["dateString","text","number","boolean","date"].forEach(o=>{const l=s[o];l&&delete s[o],s[o]=l??e[o].dataTypeMatcher})}processDataTypeDefinition(e,t,n,r){let i;const s=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let o=r[s];const l=t[s];if(o&&l&&(o=l),!JS(e,o,s))return;i=QS(o,e)}else{if(n.includes(s)){he(44);return}const o=t[s];if(!JS(e,o,s))return;const l=this.processDataTypeDefinition(o,t,[...n,s],r);if(!l)return;i=QS(l,e)}return{...i,groupSafeValueFormatter:XS(i,this.gos)}}updateColDefAndGetColumnType(e,t,n){let{cellDataType:r}=t;const{field:i}=t;if(r===void 0&&(r=e.cellDataType),(r==null||r===!0)&&(r=this.canInferCellDataType(e,t)?this.inferCellDataType(i,n):!1),!r){e.cellDataType=!1;return}const s=this.dataTypeDefinitions[r];if(!s){he(47,{cellDataType:r});return}return e.cellDataType=r,s.groupSafeValueFormatter&&(e.valueFormatter=s.groupSafeValueFormatter),s.valueParser&&(e.valueParser=s.valueParser),s.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,r,s,n),s.columnTypes}addColumnListeners(e){if(!this.isPendingInference)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const n=r=>{t.add(r.key)};e.__addEventListener("columnStateUpdated",n),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.__removeEventListener("columnStateUpdated",n))}canInferCellDataType(e,t){const{gos:n}=this;if(!un(n))return!1;const r={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(Cg(t,r))return!1;const i=t.type===null?e.type:t.type;if(i){const s=n.get("columnTypes")??{};if(_d(i).some(l=>{const c=s[l.trim()];return c&&Cg(c,r)}))return!1}return!Cg(e,r)}inferCellDataType(e,t){if(!e)return;let n;const r=this.getInitialData();if(r){const i=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");n=Gl(r,e,i)}else this.initWaitForRowData(t);if(n!=null)return Object.keys(this.dataTypeMatchers).find(i=>this.dataTypeMatchers[i](n))??"object"}getInitialData(){var t;const e=this.gos.get("rowData");if(e!=null&&e.length)return e[0];if(this.initialData)return this.initialData;{const n=(t=this.beans.rowModel.rootNode)==null?void 0:t.allLeafChildren;if(n!=null&&n.length)return n[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isPendingInference)return;this.isPendingInference=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions,{colAutosize:n,eventSvc:r}=this.beans;t&&n&&(n.shouldQueueResizeOperations=!0);const[i]=this.addManagedEventListeners({rowDataUpdateStarted:s=>{const{firstRowData:o}=s;o&&(i==null||i(),this.isPendingInference=!1,this.processColumnsPendingInference(o,t),this.columnStateUpdatesPendingInference={},t&&(n==null||n.processResizeOperations()),r.dispatchEvent({type:"dataTypesInferred"}))}})}processColumnsPendingInference(e,t){this.initialData=e;const n=[];this.destroyColumnStateUpdateListeners();const r={},i={};for(const s of Object.keys(this.columnStateUpdatesPendingInference)){const o=this.columnStateUpdatesPendingInference[s],l=this.colModel.getCol(s);if(!l)return;const c=l.getColDef();if(!this.resetColDefIntoCol(l,"cellDataTypeInferred"))return;const d=l.getColDef();if(t&&d.type&&d.type!==c.type){const f=uV(l,o);f.rowGroup&&f.rowGroupIndex==null&&(r[s]=f),f.pivot&&f.pivotIndex==null&&(i[s]=f),n.push(f)}}t&&n.push(...this.generateColumnStateForRowGroupAndPivotIndexes(r,i)),n.length&&or(this.beans,{state:n},"cellDataTypeInferred"),this.initialData=null}generateColumnStateForRowGroupAndPivotIndexes(e,t){const n={},{rowGroupColsSvc:r,pivotColsSvc:i}=this.beans;return r==null||r.restoreColumnOrder(n,e),i==null||i.restoreColumnOrder(n,t),Object.values(n)}resetColDefIntoCol(e,t){const n=e.getUserProvidedColDef();if(!n)return!1;const r=sm(this.beans,n,e.getColId());return e.setColDef(r,n,t),!0}checkObjectValueHandlers(e){const t=this.dataTypeDefinitions.object,n=e.object;this.hasObjectValueParser=t.valueParser!==n.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==n.valueFormatter}getDateStringTypeDefinition(e){const{dateString:t}=this.dataTypeDefinitions;return e?this.getDataTypeDefinition(e)??t:t}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){var t;return(t=this.getDataTypeDefinition(e))==null?void 0:t.baseDataType}checkType(e,t){var r;if(t==null)return!0;const n=(r=this.getDataTypeDefinition(e))==null?void 0:r.dataTypeMatcher;return n?n(t):!0}validateColDef(e){const t=n=>he(48,{property:n});if(e.cellDataType==="object"){const{object:n}=this.dataTypeDefinitions;e.valueFormatter===n.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===n.valueParser&&!this.hasObjectValueParser&&t("Parser")}}getFormatValue(e){return this.formatValueFuncs[e]}isColPendingInference(e){return this.isPendingInference&&!!this.columnStateUpdatesPendingInference[e]}setColDefPropertiesForBaseDataType(e,t,n,r){var s;const i=this.formatValueFuncs[t];switch(n.baseDataType){case"number":{e.cellEditor="agNumberCellEditor";break}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=o=>!!o.colDef.editable&&o.event.key===X.SPACE;break}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=i;break}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=i;break}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=(o,l)=>{const c=this.colModel.getColDefCol(r),d=c==null?void 0:c.getColDef();if(!c||!d)return 0;const f=o==null?"":i({column:c,node:null,value:o}),p=l==null?"":i({column:c,node:null,value:l});return f===p?0:f>p?1:-1},e.keyCreator=i;break}}(s=this.beans.filterManager)==null||s.setColDefPropertiesForDataType(e,n,i)}getDefaultDataTypes(){const e=n=>!!n.match("^\\d{4}-\\d{2}-\\d{2}$"),t=this.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:n=>{var r,i;return((i=(r=n.newValue)==null?void 0:r.trim)==null?void 0:i.call(r))===""?null:Number(n.newValue)},valueFormatter:n=>n.value==null?"":typeof n.value!="number"||isNaN(n.value)?t("invalidNumber","Invalid Number"):String(n.value),dataTypeMatcher:n=>typeof n=="number"},text:{baseDataType:"text",valueParser:n=>n.newValue===""?null:Xg(n.newValue),dataTypeMatcher:n=>typeof n=="string"},boolean:{baseDataType:"boolean",valueParser:n=>{var r,i;return n.newValue==null?n.newValue:((i=(r=n.newValue)==null?void 0:r.trim)==null?void 0:i.call(r))===""?null:String(n.newValue).toLowerCase()==="true"},valueFormatter:n=>n.value==null?"":String(n.value),dataTypeMatcher:n=>typeof n=="boolean"},date:{baseDataType:"date",valueParser:n=>Fn(n.newValue==null?null:String(n.newValue)),valueFormatter:n=>n.value==null?"":!(n.value instanceof Date)||isNaN(n.value.getTime())?t("invalidDate","Invalid Date"):ar(n.value,!1)??"",dataTypeMatcher:n=>n instanceof Date},dateString:{baseDataType:"dateString",dateParser:n=>Fn(n)??void 0,dateFormatter:n=>ar(n??null,!1)??void 0,valueParser:n=>e(String(n.newValue))?n.newValue:null,valueFormatter:n=>e(String(n.value))?n.value:"",dataTypeMatcher:n=>typeof n=="string"&&e(n)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:n=>Xg(n.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}};function QS(e,t){const n={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(n.columnTypes=[..._d(e.columnTypes),..._d(t.columnTypes)]),n}function JS(e,t,n){return t?t.baseDataType!==e.baseDataType?(he(46),!1):!0:(he(45,{parentCellDataType:n}),!1)}function XS(e,t){if(e.valueFormatter)return n=>{var r,i;if((r=n.node)!=null&&r.group){const s=(n.colDef.pivotValueColumn??n.column).getAggFunc();if(s){if(s==="first"||s==="last")return e.valueFormatter(n);if(e.baseDataType==="number"&&s!=="count"){if(typeof n.value=="number")return e.valueFormatter(n);if(typeof n.value=="object"){if(!n.value)return;if("toNumber"in n.value)return e.valueFormatter({...n,value:n.value.toNumber()});if("value"in n.value)return e.valueFormatter({...n,value:n.value.value})}}return}if(t.get("groupDisplayType")==="groupRows"&&!t.get("treeData"))return}else if(t.get("groupHideOpenParents")&&n.column.isRowGroupActive()&&typeof n.value=="string"&&!((i=e.dataTypeMatcher)!=null&&i.call(e,n.value)))return;return e.valueFormatter(n)}}function lV(e,t,n,r){if(!t[n])return!1;const i=e[n];return i===null?(t[n]=!1,!1):r===void 0?!!i:i===r}function Cg(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([n,r])=>lV(e,t,n,r))}function uV(e,t){const n=n0(e);return t.forEach(r=>{delete n[r],r==="rowGroup"?delete n.rowGroupIndex:r==="pivot"&&delete n.pivotIndex}),n}var cV={moduleName:"DataType",version:ve,beans:[aV],dependsOn:[BG]},dV={moduleName:"ColumnFlex",version:ve,beans:[oV]},hV={moduleName:"ColumnApi",version:ve,beans:[sV],apiFunctions:{getColumnDef:HG,getDisplayNameForColumn:VG,getColumn:WG,getColumns:_G,applyColumnState:zG,getColumnState:jG,resetColumnState:UG,isPinning:$G,isPinningLeft:KG,isPinningRight:qG,getDisplayedColAfter:YG,getDisplayedColBefore:QG,setColumnsVisible:JG,setColumnsPinned:XG,getAllGridColumns:ZG,getDisplayedLeftColumns:eV,getDisplayedCenterColumns:tV,getDisplayedRightColumns:nV,getAllDisplayedColumns:rV,getAllDisplayedVirtualColumns:iV,getColumnDefs:GG}};function fV(e){if(!e||e==null)return null;const t=/([a-z])([A-Z])/g,n=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(n,"$1 $2$3").replace(/\./g," ").split(" ").map(i=>i.substring(0,1).toUpperCase()+(i.length>1?i.substring(1,i.length):"")).join(" ")}var pV=class extends te{constructor(){super(...arguments),this.beanName="colNames"}getDisplayNameForColumn(e,t,n=!1){if(!e)return null;const r=this.getHeaderName(e.getColDef(),e,null,null,t),{aggColNameSvc:i}=this.beans;return n&&i?i.getHeaderName(e,r):r}getDisplayNameForProvidedColumnGroup(e,t,n){const r=t==null?void 0:t.getColGroupDef();return r?this.getHeaderName(r,null,e,t,n):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,n,r,i){var o;const s=e.headerValueGetter;if(s){const l=Le(this.gos,{colDef:e,column:t,columnGroup:n,providedColumnGroup:r,location:i});return typeof s=="function"?s(l):typeof s=="string"?((o=this.beans.expressionSvc)==null?void 0:o.evaluate(s,l))??null:""}else{if(e.headerName!=null)return e.headerName;if(e.field)return fV(e.field)}return""}},gV=class extends te{constructor(){super(...arguments),this.beanName="colViewport",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,n=!1){const{visibleCols:r}=this,i=r.isBodyWidthDirty;if(!(e===this.scrollWidth&&t===this.scrollPosition&&!i)){if(this.scrollWidth=e,this.scrollPosition=t,r.isBodyWidthDirty=!0,this.gos.get("enableRtl")){const o=r.bodyWidth;this.viewportLeft=o-t-e,this.viewportRight=o-t}else this.viewportLeft=t,this.viewportRight=e+t;this.colModel.ready&&this.checkViewportColumns(n)}}getHeadersToRender(e,t){let n;switch(e){case"left":n=this.rowsOfHeadersToRenderLeft[t];break;case"right":n=this.rowsOfHeadersToRenderRight[t];break;default:n=this.rowsOfHeadersToRenderCenter[t];break}return n||[]}extractViewportColumns(){const e=this.visibleCols.centerCols;this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(e){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},e||(this.colsWithinViewportHash="")}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||mV(e)?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,n=t+e.getActualWidth(),r=this.viewportLeft-200,i=this.viewportRight+200,s=t<r&&n<r,o=t>i&&n>i;return!s&&!o}getViewportColumns(){const{leftCols:e,rightCols:t}=this.visibleCols;return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.colModel.colSpanActive)return this.colsWithinViewport;const t=s=>{const o=s.getLeft();return Ce(o)&&o>this.viewportLeft},n=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),{visibleCols:r}=this,i=r.centerCols;return r.getColsForRow(e,i,n,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventSvc.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}calculateHeaderRows(){this.clear(!0);const e={},{leftCols:t,rightCols:n,treeLeft:r,treeRight:i,treeCenter:s}=this.visibleCols;this.headerColsWithinViewport.concat(t).concat(n).forEach(c=>e[c.getId()]=!0);const l=(c,d,f)=>{let p=!1;for(let m=0;m<c.length;m++){const C=c[m];let y=!1;if(Cs(C))y=e[C.getId()]===!0;else{const R=C.getDisplayedChildren();R&&(y=l(R,d,f+1))}y&&(p=!0,d[f]||(d[f]=[]),d[f].push(C))}return p};l(r,this.rowsOfHeadersToRenderLeft,0),l(i,this.rowsOfHeadersToRenderRight,0),l(s,this.rowsOfHeadersToRenderCenter,0)}extractViewport(){const e=r=>`${r.getId()}-${r.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.getViewportColumns().map(e).join("#"),n=this.colsWithinViewportHash!==t;return n&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),n}};function mV(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}var CV=class extends te{constructor(){super(...arguments),this.beanName="agCompUtils"}adaptFunction(e,t){if(!e.cellRenderer)return null;class n{refresh(){return!1}getGui(){return this.eGui}init(i){const s=t(i),o=typeof s;if(o==="string"||o==="number"||o==="boolean"){this.eGui=Xl("<span>"+s+"</span>");return}if(s==null){this.eGui=Xl("<span></span>");return}this.eGui=s}}return n}},vV={moduleName:"CellRendererFunction",version:ve,beans:[CV]},wV=class extends te{constructor(){super(...arguments),this.beanName="registry",this.agGridDefaults={},this.agGridDefaultParams={},this.jsComps={},this.dynamicBeans={},this.selectors={},this.icons={}}postConstruct(){const e=this.gos.get("components");if(e!=null)for(const t of Object.keys(e))this.jsComps[t]=e[t]}registerModule(e){const{icons:t,userComponents:n,dynamicBeans:r,selectors:i}=e;if(n){const s=(o,l,c)=>{this.agGridDefaults[o]=l,c&&(this.agGridDefaultParams[o]=c)};for(const o of Object.keys(n)){const l=n[o];typeof l=="object"?s(o,l.classImp,l.params):s(o,l)}}if(r)for(const s of Object.keys(r))this.dynamicBeans[s]=r[s];if(i==null||i.forEach(s=>{this.selectors[s.selector]=s}),t)for(const s of Object.keys(t))this.icons[s]=t[s]}getUserComponent(e,t){var l;const n=(c,d,f)=>({componentFromFramework:d,component:c,params:f}),{frameworkOverrides:r}=this.beans,i=r.frameworkComponent(t,this.gos.get("components"));if(i!=null)return n(i,!0);const s=this.jsComps[t];if(s){const c=r.isFrameworkComponent(s);return n(s,c)}const o=this.agGridDefaults[t];return o?n(o,!1,this.agGridDefaultParams[t]):((l=this.beans.validation)==null||l.missingUserComponent(e,t,this.agGridDefaults,this.jsComps),null)}createDynamicBean(e,t,...n){const r=this.dynamicBeans[e];if(r==null){if(t)throw new Error(hs(256));return}return new r(...n)}getSelector(e){return this.selectors[e]}getIcon(e){return this.icons[e]}},yV=23,SV=class extends te{constructor(){super(...arguments),this.beanName="ctrlsSvc",this.params={},this.ready=!1,this.readyCallbacks=[]}postConstruct(){var e,t;this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(n=>n(this.params)),this.readyCallbacks.length=0)},((t=(e=this.beans.frameworkOverrides).runWhenReadyAsync)==null?void 0:t.call(e))??!1)}updateReady(){const e=Object.values(this.params);this.ready=e.length===yV&&e.every(t=>(t==null?void 0:t.isAlive())??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{const n=this.readyCallbacks.indexOf(t);n>=0&&this.readyCallbacks.splice(n,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:n}=this.params;return[e,n,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}getScrollFeature(){return this.getGridBodyCtrl().scrollFeature}},bV=':where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart),:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]){box-sizing:border-box;&:after,&:before{box-sizing:border-box}&:where(div,span,label):focus-visible{box-shadow:inset var(--ag-focus-shadow);outline:none}}:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]) ::-ms-clear{display:none}.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-tab-guard{display:block;height:0;position:absolute;width:0}:where(.ag-virtual-list-viewport) .ag-tab-guard{position:sticky}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport,.ag-virtual-list-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-viewport{position:relative}.ag-spanning-container{position:absolute;top:0;z-index:1}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important;&::-webkit-scrollbar{display:none!important}}.ag-body-viewport{display:flex;overflow-x:hidden;&:where(.ag-layout-normal){overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-virtual-list-viewport{overflow:auto;width:100%}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container,.ag-virtual-list-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}:where(.ag-ltr) .ag-floating-bottom-full-width-container,:where(.ag-ltr) .ag-floating-top-full-width-container,:where(.ag-ltr) .ag-full-width-container,:where(.ag-ltr) .ag-sticky-bottom-full-width-container,:where(.ag-ltr) .ag-sticky-top-full-width-container{left:0}:where(.ag-rtl) .ag-floating-bottom-full-width-container,:where(.ag-rtl) .ag-floating-top-full-width-container,:where(.ag-rtl) .ag-full-width-container,:where(.ag-rtl) .ag-sticky-bottom-full-width-container,:where(.ag-rtl) .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-virtual-list-container{overflow:hidden}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&:where(.ag-scrollbar-invisible){bottom:0;position:absolute;&:where(.ag-apple-scrollbar){opacity:0;transition:opacity .4s;visibility:hidden;&:where(.ag-scrollbar-scrolling,.ag-scrollbar-active){opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&:where(.ag-scrollbar-invisible){left:0;right:0}}.ag-body-vertical-scroll{height:100%;&:where(.ag-scrollbar-invisible){top:0;z-index:10}}:where(.ag-ltr) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){right:0}}:where(.ag-rtl) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&:where(.ag-scroller-corner){overflow-x:hidden}}:where(.ag-row-animation) .ag-row{transition:transform .4s,top .4s,opacity .2s;&:where(.ag-after-created){transition:transform .4s,top .4s,height .4s,opacity .2s}}:where(.ag-row-no-animation) .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap;&:focus-visible{box-shadow:none}}.ag-cell-value{flex:1 1 auto}.ag-cell-value,.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}:where(.ag-cell) .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{border-bottom:var(--ag-pinned-row-border)}.ag-floating-bottom,.ag-floating-top{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}.ag-floating-bottom{border-top:var(--ag-pinned-row-border)}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%;z-index:1}.ag-opacity-zero{opacity:0!important}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}:where(.ag-right-aligned-header){.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr){direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}:where(.ag-rtl){direction:rtl;text-align:right;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}.ag-measurement-container{height:0;overflow:hidden;visibility:hidden;width:0}.ag-measurement-element-border{display:inline-block;&:before{border-left:var(--ag-internal-measurement-border);content:"";display:block}}.ag-group{position:relative;width:100%}.ag-group-title-bar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-title{display:inline;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-group-title-bar) .ag-group-title{cursor:default}.ag-group-toolbar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-container{display:flex}.ag-disabled .ag-group-container{pointer-events:none}.ag-disabled-group-container,.ag-disabled-group-title-bar{opacity:.5}.ag-group-container-horizontal{flex-flow:row wrap}.ag-group-container-vertical{flex-direction:column}.ag-group-title-bar-icon{cursor:pointer;flex:none}:where(.ag-ltr) .ag-group-title-bar-icon{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-group-title-bar-icon{margin-left:var(--ag-spacing)}:where(.ag-group-item-alignment-stretch) .ag-group-item{align-items:stretch}:where(.ag-group-item-alignment-start) .ag-group-item{align-items:flex-start}:where(.ag-group-item-alignment-end) .ag-group-item{align-items:flex-end}.ag-popup-child{top:0;z-index:5;&:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-large-text-input{display:block}:where(.ag-ltr) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}:where(.ag-rtl) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}:where(.ag-ltr) .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}:where(.ag-rtl) .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row,.ag-spanned-row{color:var(--ag-cell-text-color);font-family:var(--ag-cell-font-family);font-size:var(--ag-data-font-size);white-space:nowrap;--ag-internal-content-line-height:calc(min(var(--ag-row-height), var(--ag-line-height, 1000px)) - var(--ag-internal-row-border-width, 1px) - 2px)}.ag-row{background-color:var(--ag-background-color);border-bottom:var(--ag-row-border);height:var(--ag-row-height);width:100%}:where(.ag-body-vertical-content-no-gap>div>div>div,.ag-body-vertical-content-no-gap>div>div>div>div)>.ag-row-last{border-bottom-color:transparent}.ag-sticky-bottom{border-top:var(--ag-row-border);box-sizing:content-box!important}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height);-webkit-font-smoothing:subpixel-antialiased}:where(.ag-ltr) .ag-cell{border-right:var(--ag-column-border)}:where(.ag-rtl) .ag-cell{border-left:var(--ag-column-border)}.ag-spanned-cell-wrapper{background-color:var(--ag-background-color);position:absolute}.ag-spanned-cell-wrapper>.ag-spanned-cell{display:block;position:relative}:where(.ag-ltr) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}:where(.ag-rtl) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;>:where(:not(.ag-cell-value,.ag-group-value)){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}&:where(.ag-row-group){align-items:flex-start}:where(.ag-full-width-row) &:where(.ag-row-group){align-items:center;height:100%}}:where(.ag-ltr) .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-rtl) .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-cell-wrap-text:not(.ag-cell-auto-height)) .ag-cell-wrapper{align-items:normal;height:100%;:where(.ag-cell-value){height:100%}}:where(.ag-ltr) .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-context-menu-open .ag-full-width-row.ag-row-focus .ag-cell-wrapper.ag-row-group,.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}.ag-full-width-row.ag-row-focus:focus{box-shadow:none}:where(.ag-ltr) .ag-group-contracted,:where(.ag-ltr) .ag-group-expanded,:where(.ag-ltr) .ag-row-drag,:where(.ag-ltr) .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-contracted,:where(.ag-rtl) .ag-group-expanded,:where(.ag-rtl) .ag-row-drag,:where(.ag-rtl) .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}:where(.ag-ltr) .ag-group-child-count{margin-left:3px}:where(.ag-rtl) .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after{background-color:var(--ag-range-selection-border-color);content:"";height:1px;position:absolute;width:calc(100% - 1px)}:where(.ag-ltr) .ag-row-highlight-above:after,:where(.ag-ltr) .ag-row-highlight-below:after{left:1px}:where(.ag-rtl) .ag-row-highlight-above:after,:where(.ag-rtl) .ag-row-highlight-below:after{right:1px}.ag-row-highlight-above:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row-hover.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-header-range-highlight{background-color:var(--ag-range-header-highlight-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}:where(.ag-ltr) .ag-right-aligned-cell{text-align:right}:where(.ag-rtl) .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}:where(.ag-ltr) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-ltr) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}:where(.ag-rtl) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-rtl) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-background-color);padding:calc(var(--ag-spacing)*3.75)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-loading-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}:where(.ag-ltr) .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}:where(.ag-rtl) .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{opacity:1}50%{opacity:.4}to{opacity:1}}.ag-loading{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-ltr) .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input:where(:not([type=checkbox],[type=radio])){flex:1 1 auto;min-width:0;width:100%}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);display:flex;font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;white-space:nowrap;width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,:where(.ag-header-cell-sortable) .ag-header-cell-label{cursor:pointer}:where(.ag-ltr) .ag-header-expand-icon{margin-left:4px}:where(.ag-rtl) .ag-header-expand-icon{margin-right:4px}.ag-header-row:where(:not(:first-child)){:where(.ag-header-cell:not(.ag-header-span-height.ag-header-span-total,.ag-header-parent-hidden),.ag-header-group-cell.ag-header-group-cell-with-group){border-top:var(--ag-header-row-border)}}.ag-header-row:where(:not(.ag-header-row-column-group)){overflow:hidden}:where(.ag-header.ag-header-allow-overflow) .ag-header-row{overflow:visible}.ag-header-cell{display:inline-flex;overflow:hidden}.ag-header-group-cell{contain:paint;display:flex}.ag-header-cell,.ag-header-group-cell{align-items:center;gap:var(--ag-cell-widget-spacing);height:100%;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:where(:not(.ag-floating-filter)),.ag-header-group-cell{&:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}&:where(:hover):before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}&:where(.ag-header-cell-moving):before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}}:where(.ag-header-cell:not(.ag-floating-filter) *,.ag-header-group-cell *){position:relative;z-index:1}.ag-header-cell-menu-button:where(:not(.ag-header-menu-always-show)){opacity:0;transition:opacity .2s}.ag-header-cell-filter-button,:where(.ag-header-cell.ag-header-active) .ag-header-cell-menu-button{opacity:1}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;overflow:hidden;padding:5px 0}:where(.ag-ltr) .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-header-cell-label{text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;overflow:visible;position:sticky}:where(.ag-ltr) .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-cell-comp-wrapper{width:100%}:where(.ag-header-group-cell) .ag-header-cell-comp-wrapper{display:flex}:where(.ag-header-cell:not(.ag-header-cell-auto-height)) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-header-cell-comp-wrapper-limited-height>*{overflow:hidden}:where(.ag-right-aligned-header) .ag-header-cell-label{flex-direction:row-reverse}:where(.ag-ltr) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-ltr) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}:where(.ag-ltr) .ag-header-cell:after,:where(.ag-ltr) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-right:var(--ag-header-column-border);right:0}:where(.ag-rtl) .ag-header-cell:after,:where(.ag-rtl) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-accent-color);content:"";height:100%;position:absolute;width:1px}:where(.ag-ltr) .ag-header-highlight-before:after{left:0}:where(.ag-rtl) .ag-header-highlight-before:after{right:0}:where(.ag-ltr) .ag-header-highlight-after:after{right:0;:where(.ag-pinned-left-header) &{right:1px}}:where(.ag-rtl) .ag-header-highlight-after:after{left:0;:where(.ag-pinned-left-header) &{left:1px}}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2;&:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}}:where(.ag-ltr) .ag-header-cell-resize{right:-3px;&:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-rtl) .ag-header-cell-resize{left:-3px;&:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-header-cell.ag-header-span-height) .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group:where(.ag-header-span-height){display:none}.ag-sort-indicator-container{display:flex;gap:var(--ag-spacing)}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}ag-grid,ag-grid-angular{display:block}.ag-chart,.ag-dnd-ghost,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab}.ag-list-item,.ag-virtual-list-item{height:var(--ag-list-item-height)}.ag-virtual-list-item{position:absolute;width:100%}.ag-select-list{background-color:var(--ag-picker-list-background-color);border:var(--ag-picker-list-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow:hidden auto}.ag-list-item{align-items:center;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;:where(span){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}:where(.ag-ltr) .ag-select-list-item{padding-left:calc(var(--ag-cell-horizontal-padding)/2)}:where(.ag-rtl) .ag-select-list-item{padding-right:calc(var(--ag-cell-horizontal-padding)/2)}.ag-list-item-hovered:after{background-color:var(--ag-accent-color);content:"";height:1px;left:0;position:absolute;right:0}.ag-item-highlight-top:after{top:0}.ag-item-highlight-bottom:after{bottom:0}:where(.ag-icon):before{align-items:center;background-color:currentcolor;color:inherit;content:"";display:flex;font-family:inherit;font-size:var(--ag-icon-size);font-style:normal;font-variant:normal;height:var(--ag-icon-size);justify-content:center;line-height:var(--ag-icon-size);-webkit-mask-size:contain;mask-size:contain;text-transform:none;width:var(--ag-icon-size)}.ag-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;color:var(--ag-icon-color);display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}.ag-column-select-column-group-readonly,.ag-column-select-column-readonly,.ag-disabled,[disabled]{.ag-icon{opacity:.5}&.ag-icon-grip{opacity:.35}}.ag-column-select-column-readonly{&.ag-icon-grip,.ag-icon-grip{opacity:.35}}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons,:where(.ag-group-contracted) .ag-icon,:where(.ag-group-expanded) .ag-icon{background-color:var(--ag-icon-button-background-color);border-radius:var(--ag-icon-button-border-radius);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-background-color);color:var(--ag-icon-button-color);&:hover{background-color:var(--ag-icon-button-hover-background-color);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-hover-background-color);color:var(--ag-icon-button-hover-color)}}.ag-filter-active{background-image:linear-gradient(var(--ag-icon-button-active-background-color),var(--ag-icon-button-active-background-color));border-radius:1px;outline:solid var(--ag-icon-button-background-spread) var(--ag-icon-button-active-background-color);position:relative;&:after{background-color:var(--ag-accent-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}:where(.ag-icon-filter){clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z");color:var(--ag-icon-button-active-color)}}:where(.ag-ltr) .ag-filter-active{&:after{right:-1px}}:where(.ag-rtl) .ag-filter-active{&:after{left:-1px}}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;overflow-y:auto}.ag-menu,.ag-resizer{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-resizer{pointer-events:none;z-index:1}:where(.ag-resizer){&.ag-resizer-topLeft{cursor:nwse-resize;height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{cursor:nesw-resize;height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;cursor:nwse-resize;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;cursor:nesw-resize;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}',SR,bR,TC=typeof window!="object"||!((bR=(SR=window==null?void 0:window.document)==null?void 0:SR.fonts)!=null&&bR.forEach),fm=new WeakMap,wa=(e,t,n,r,i)=>{if(TC)return;r&&(e=`@layer ${CSS.escape(r)} { ${e} }`);let s=fm.get(t);if(s||(s=[],fm.set(t,s)),s.find(d=>d.css===e))return;const o=document.createElement("style");o.dataset.agGlobalCss=n,o.textContent=e;const l={css:e,el:o,priority:i};let c;for(const d of s){if(d.priority>i)break;c=d}if(c){c.el.insertAdjacentElement("afterend",o);const d=s.indexOf(c);s.splice(d+1,0,l)}else t.insertBefore(o,t.querySelector(":not(title, meta)")),s.push(l)},j0=(e,t)=>{wa(bV,e,"core",t,0),Array.from(dN()).sort((n,r)=>n.moduleName.localeCompare(r.moduleName)).forEach(n=>{var r;return(r=n.css)==null?void 0:r.forEach(i=>wa(i,e,`module-${n.moduleName}`,t,0))})},pm=new Set,RV=e=>{pm.add(e)},xV=e=>{if(pm.delete(e),pm.size===0){fm=new WeakMap;for(const t of document.head.querySelectorAll("style[data-ag-global-css]"))t.remove()}},Fi=e=>new U0(e),as="$default",EV=0,U0=class{constructor({feature:e,params:t,modeParams:n={},css:r,cssImports:i}){this.feature=e,this.css=r,this.cssImports=i,this.modeParams={[as]:{...n[as]??{},...t??{}},...n}}use(e,t){let n=this._inject;if(n==null){let{css:r}=this;if(r){const i=`ag-theme-${this.feature??"part"}-${++EV}`;typeof r=="function"&&(r=r()),r=`:where(.${i}) {
${r}
}
`;for(const s of this.cssImports??[])r=`@import url(${JSON.stringify(s)});
${r}`;n={css:r,class:i}}else n=!1;this._inject=n}return n&&e&&wa(n.css,e,n.class,t,1),n?n.class:!1}},FV=e=>e.replace(/[A-Z]/g,t=>`-${t}`).toLowerCase(),$0=e=>`--ag-${FV(e)}`,Zr=e=>`var(${$0(e)})`,PV=(e,t,n)=>Math.max(t,Math.min(n,e)),DV=e=>{const t=new Map;return n=>{const r=n;return t.has(r)||t.set(r,e(n)),t.get(r)}},$r=e=>({ref:"accentColor",mix:e}),er=e=>({ref:"foregroundColor",mix:e}),Rr=e=>({ref:"foregroundColor",mix:e,onto:"backgroundColor"}),TV=e=>({ref:"foregroundColor",mix:e,onto:"headerBackgroundColor"}),Sr={ref:"backgroundColor"},vg={ref:"foregroundColor"},us={ref:"accentColor"},Jd={backgroundColor:"#fff",foregroundColor:"#181d1f",borderColor:er(.15),chromeBackgroundColor:Rr(.02),browserColorScheme:"light"},AV={...Jd,textColor:vg,accentColor:"#2196f3",invalidColor:"#e02525",wrapperBorder:!0,rowBorder:!0,headerRowBorder:!0,footerRowBorder:{ref:"rowBorder"},columnBorder:{style:"solid",width:1,color:"transparent"},headerColumnBorder:!1,headerColumnBorderHeight:"100%",pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,sideBarPanelWidth:250,sideBarBackgroundColor:{ref:"chromeBackgroundColor"},sideButtonBarBackgroundColor:{ref:"sideBarBackgroundColor"},sideButtonBarTopPadding:0,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineColor:"transparent",sideButtonSelectedUnderlineTransitionDuration:0,sideButtonBackgroundColor:"transparent",sideButtonTextColor:{ref:"textColor"},sideButtonHoverBackgroundColor:{ref:"sideButtonBackgroundColor"},sideButtonHoverTextColor:{ref:"sideButtonTextColor"},sideButtonSelectedBackgroundColor:Sr,sideButtonSelectedTextColor:{ref:"sideButtonTextColor"},sideButtonBorder:"solid 1px transparent",sideButtonSelectedBorder:!0,sideButtonLeftPadding:{ref:"spacing"},sideButtonRightPadding:{ref:"spacing"},sideButtonVerticalPadding:{calc:"spacing * 3"},fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],headerBackgroundColor:{ref:"chromeBackgroundColor"},headerFontFamily:{ref:"fontFamily"},cellFontFamily:{ref:"fontFamily"},headerFontWeight:500,headerFontSize:{ref:"fontSize"},dataFontSize:{ref:"fontSize"},headerTextColor:{ref:"textColor"},headerCellHoverBackgroundColor:"transparent",headerCellMovingBackgroundColor:{ref:"headerCellHoverBackgroundColor"},headerCellBackgroundTransitionDuration:"0.2s",cellTextColor:{ref:"textColor"},subtleTextColor:{ref:"textColor",mix:.5},rangeSelectionBorderStyle:"solid",rangeSelectionBorderColor:us,rangeSelectionBackgroundColor:$r(.2),rangeSelectionChartBackgroundColor:"#0058FF1A",rangeSelectionChartCategoryBackgroundColor:"#00FF841A",rangeSelectionHighlightColor:$r(.5),rangeHeaderHighlightColor:TV(.08),rowNumbersSelectedColor:$r(.5),rowHoverColor:$r(.08),columnHoverColor:$r(.05),selectedRowBackgroundColor:$r(.12),modalOverlayBackgroundColor:{ref:"backgroundColor",mix:.66},oddRowBackgroundColor:Sr,borderRadius:4,wrapperBorderRadius:8,cellHorizontalPadding:{calc:"spacing * 2 * cellHorizontalPaddingScale"},cellWidgetSpacing:{calc:"spacing * 1.5"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:"cellWidgetSpacing + iconSize"},valueChangeDeltaUpColor:"#43a047",valueChangeDeltaDownColor:"#e53935",valueChangeValueHighlightBackgroundColor:"#16a08580",spacing:8,fontSize:14,rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale"},rowVerticalPaddingScale:1,headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale"},headerVerticalPaddingScale:1,popupShadow:"0 0 16px #00000026",cardShadow:"0 1px 4px 1px #00000018",dropdownShadow:{ref:"cardShadow"},dragAndDropImageBackgroundColor:Sr,dragAndDropImageBorder:!0,dragAndDropImageShadow:{ref:"popupShadow"},dragHandleColor:er(.7),focusShadow:{spread:3,color:$r(.5)},headerColumnResizeHandleHeight:"30%",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:"borderColor"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 1.5"},widgetHorizontalSpacing:{calc:"spacing * 1.5"},widgetVerticalSpacing:{ref:"spacing"},listItemHeight:{calc:"max(iconSize, dataFontSize) + widgetVerticalSpacing"},iconSize:16,iconColor:"inherit",iconButtonColor:{ref:"iconColor"},iconButtonBackgroundColor:"transparent",iconButtonBackgroundSpread:4,iconButtonBorderRadius:1,iconButtonHoverColor:{ref:"iconButtonColor"},iconButtonHoverBackgroundColor:er(.1),iconButtonActiveColor:us,iconButtonActiveBackgroundColor:$r(.28),iconButtonActiveIndicatorColor:us,toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonOnBackgroundColor:us,toggleButtonOffBackgroundColor:Rr(.3),toggleButtonSwitchBackgroundColor:Sr,toggleButtonSwitchInset:2,menuBorder:{color:er(.2)},menuBackgroundColor:Rr(.03),menuTextColor:Rr(.95),menuShadow:{ref:"popupShadow"},menuSeparatorColor:{ref:"borderColor"},setFilterIndentSize:{ref:"iconSize"},chartMenuPanelWidth:260,chartMenuLabelColor:er(.8),dialogShadow:{ref:"popupShadow"},cellEditingBorder:{color:us},cellEditingShadow:{ref:"cardShadow"},dialogBorder:{color:er(.2)},panelBackgroundColor:Sr,panelTitleBarBackgroundColor:{ref:"headerBackgroundColor"},panelTitleBarIconColor:{ref:"headerTextColor"},panelTitleBarTextColor:{ref:"headerTextColor"},panelTitleBarFontWeight:{ref:"headerFontWeight"},panelTitleBarBorder:!0,columnSelectIndentSize:{ref:"iconSize"},toolPanelSeparatorBorder:!0,tooltipBackgroundColor:{ref:"chromeBackgroundColor"},tooltipTextColor:{ref:"textColor"},tooltipBorder:!0,columnDropCellBackgroundColor:er(.07),columnDropCellTextColor:{ref:"textColor"},columnDropCellDragHandleColor:{ref:"textColor"},columnDropCellBorder:{color:er(.13)},selectCellBackgroundColor:er(.07),selectCellBorder:{color:er(.13)},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:"spacing * 2 + iconSize"},advancedFilterBuilderJoinPillColor:"#f08e8d",advancedFilterBuilderColumnPillColor:"#a6e194",advancedFilterBuilderOptionPillColor:"#f3c08b",advancedFilterBuilderValuePillColor:"#85c0e4",filterToolPanelGroupIndent:{ref:"spacing"},rowLoadingSkeletonEffectColor:er(.15),statusBarLabelColor:vg,statusBarLabelFontWeight:500,statusBarValueColor:vg,statusBarValueFontWeight:500},MV=":where(.ag-button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0;text-indent:inherit;text-shadow:inherit;text-transform:inherit;word-spacing:inherit;&:disabled{cursor:default}&:focus-visible{box-shadow:var(--ag-focus-shadow);outline:none}}.ag-standard-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--ag-button-background-color);border:var(--ag-button-border);border-radius:var(--ag-button-border-radius);color:var(--ag-button-text-color);cursor:pointer;font-weight:var(--ag-button-font-weight);padding:var(--ag-button-vertical-padding) var(--ag-button-horizontal-padding);&:hover{background-color:var(--ag-button-hover-background-color);border:var(--ag-button-hover-border);color:var(--ag-button-hover-text-color)}&:active{background-color:var(--ag-button-active-background-color);border:var(--ag-button-active-border);color:var(--ag-button-active-text-color)}&:disabled{background-color:var(--ag-button-disabled-background-color);border:var(--ag-button-disabled-border);color:var(--ag-button-disabled-text-color)}}",kV={buttonTextColor:"inherit",buttonFontWeight:"normal",buttonBackgroundColor:"transparent",buttonBorder:!1,buttonBorderRadius:{ref:"borderRadius"},buttonHorizontalPadding:{calc:"spacing * 2"},buttonVerticalPadding:{ref:"spacing"},buttonHoverTextColor:{ref:"buttonTextColor"},buttonHoverBackgroundColor:{ref:"buttonBackgroundColor"},buttonHoverBorder:{ref:"buttonBorder"},buttonActiveTextColor:{ref:"buttonHoverTextColor"},buttonActiveBackgroundColor:{ref:"buttonHoverBackgroundColor"},buttonActiveBorder:{ref:"buttonHoverBorder"},buttonDisabledTextColor:{ref:"inputDisabledTextColor"},buttonDisabledBackgroundColor:{ref:"inputDisabledBackgroundColor"},buttonDisabledBorder:{ref:"inputDisabledBorder"}},IV=()=>Fi({feature:"buttonStyle",params:{...kV,buttonBackgroundColor:Sr,buttonBorder:!0,buttonHoverBackgroundColor:{ref:"rowHoverColor"},buttonActiveBorder:{color:us}},css:MV}),OV=IV(),LV=".ag-column-drop-vertical-empty-message{align-items:center;border:1px dashed;border-color:var(--ag-border-color);display:flex;inset:0;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);overflow:hidden;padding:calc(var(--ag-spacing)*2);position:absolute}",NV=()=>Fi({feature:"columnDropStyle",css:LV}),K0=NV(),BV=["colorScheme","color","length","scale","borderStyle","border","shadow","image","fontFamily","fontWeight","duration"],HV=DV(e=>(e=e.toLowerCase(),BV.find(t=>e.endsWith(t.toLowerCase()))??"length")),Rh=e=>typeof e=="object"&&(e!=null&&e.ref)?Zr(e.ref):typeof e=="string"?e:typeof e=="number"?String(e):!1,AC=e=>{if(typeof e=="string")return e;if(e&&"ref"in e){const t=Zr(e.ref);return e.mix==null?t:`color-mix(in srgb, ${e.onto?Zr(e.onto):"transparent"}, ${t} ${PV(e.mix*100,0,100)}%)`}return!1},GV=Rh,ea=e=>typeof e=="string"?e:typeof e=="number"?`${e}px`:e&&"calc"in e?`calc(${e.calc.replace(/ ?[*/+] ?/g," $& ").replace(/-?\b[a-z][a-z0-9]*\b(?![-(])/gi,n=>n[0]==="-"?n:` ${Zr(n)} `)})`:e&&"ref"in e?Zr(e.ref):!1,VV=Rh,WV=(e,t)=>typeof e=="string"?e:e===!0?"solid 1px var(--ag-border-color)":e===!1?t==="columnBorder"?"solid 1px transparent":"none":e&&"ref"in e?Zr(e.ref):q0(e.style??"solid")+" "+ea(e.width??1)+" "+AC(e.color??{ref:"borderColor"}),_V=e=>typeof e=="string"?e:e===!1?"none":e&&"ref"in e?Zr(e.ref):[ea(e.offsetX??0),ea(e.offsetY??0),ea(e.radius??0),ea(e.spread??0),AC(e.color??{ref:"foregroundColor"})].join(" "),q0=Rh,Y0=e=>typeof e=="string"?e:e&&"googleFont"in e?Y0(e.googleFont):e&&"ref"in e?Zr(e.ref):Array.isArray(e)?e.map(t=>(typeof t=="object"&&"googleFont"in t&&(t=t.googleFont),zV(t))).join(", "):!1,zV=e=>/^[\w-]+$|\w\(/.test(e)?e:JSON.stringify(e),jV=Rh,Q0=e=>typeof e=="string"?e:e&&"url"in e?`url(${JSON.stringify(e.url)})`:e&&"svg"in e?Q0({url:`data:image/svg+xml,${encodeURIComponent(e.svg)}`}):e&&"ref"in e?Zr(e.ref):!1,UV=(e,t)=>typeof e=="string"?e:typeof e=="number"?(e>=10&&ut(104,{value:e,param:t}),`${e}s`):e&&"ref"in e?Zr(e.ref):!1,$V={color:AC,colorScheme:GV,length:ea,scale:VV,border:WV,borderStyle:q0,shadow:_V,image:Q0,fontFamily:Y0,fontWeight:jV,duration:UV},KV=(e,t)=>{const n=HV(e);return $V[n](t,e)},qV=()=>new J0().withPart(OV).withPart(K0),J0=class X0{constructor(t=[]){this.parts=t}withPart(t){return typeof t=="function"&&(t=t()),t instanceof U0?new X0([...this.parts,t]):(em(259,{part:t},"Invalid part"),this)}withoutPart(t){return this.withPart(Fi({feature:t}))}withParams(t,n=as){return this.withPart(Fi({modeParams:{[n]:t}}))}_startUse({styleContainer:t,cssLayer:n,loadThemeGoogleFonts:r}){if(TC)return;QV(),j0(t,n);const i=YV(this);if(i.length>0)for(const s of i)r&&XV(s);for(const s of this.parts)s.use(t,n)}_getCssClass(){return this._cssClassCache??(this._cssClassCache=ZS(this.parts).map(t=>t.use(void 0,void 0)).filter(Boolean).join(" "))}_getModeParams(){let t=this._paramsCache;if(!t){const n={[as]:{...AV}};for(const r of ZS(this.parts))for(const i of Object.keys(r.modeParams)){const s=r.modeParams[i];if(s){const o=n[i]??(n[i]={}),l=new Set;for(const c of Object.keys(s)){const d=s[c];d!==void 0&&(o[c]=d,l.add(c))}if(i===as)for(const c of Object.keys(n)){const d=n[c];if(c!==as)for(const f of l)delete d[f]}}}this._paramsCache=t=n}return t}_getPerGridCss(t){const n="##SELECTOR##";let r=this._paramsCssCache;if(!r){let i="",s="";const o=this._getModeParams();for(const c of Object.keys(o)){const d=o[c];if(c!==as){const p=`:where([data-ag-theme-mode="${typeof CSS=="object"?CSS.escape(c):c}"]) & {
`;i+=p,s+=p}for(const f of Object.keys(d).sort()){const p=d[f],m=KV(f,p);if(m===!1)ut(107,{key:f,value:p});else{const C=$0(f),y=C.replace("--ag-","--ag-inherited-");i+=`	${C}: var(${y}, ${m});
`,s+=`	${y}: var(${C});
`}}c!==as&&(i+=`}
`,s+=`}
`)}let l=`${n} {
${i}}
`;l+=`:has(> ${n}):not(${n}) {
${s}}
`,this._paramsCssCache=r=l}return r.replaceAll(n,`:where(.${t})`)}},ZS=e=>{const t=new Map;for(const r of e)t.set(r.feature,r);const n=[];for(const r of e)(!r.feature||t.get(r.feature)===r)&&n.push(r);return n},YV=e=>{const t=new Set,n=s=>{if(Array.isArray(s))s.forEach(n);else{const o=s==null?void 0:s.googleFont;typeof o=="string"&&t.add(o)}};return Object.values(e._getModeParams()).flatMap(s=>Object.values(s)).forEach(n),Array.from(t).sort()},eb=!1,QV=()=>{if(!eb){eb=!0;for(const e of Array.from(document.head.querySelectorAll('style[data-ag-scope="legacy"]')))e.remove()}},JV=new Set,XV=async e=>{JV.add(e);const t=`@import url('https://${ZV}/css2?family=${encodeURIComponent(e)}:wght@100;200;300;400;500;600;700;800;900&display=swap');
`;wa(t,document.head,`googleFont:${e}`,void 0,0)},ZV="fonts.googleapis.com",eW='.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);:where(input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-icon-size);margin:0;opacity:0;width:var(--ag-icon-size)}&:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}&:where(.ag-checked){background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color);&:after{background-color:var(--ag-checkbox-checked-shape-color)}}&:where(:focus-within,:active){box-shadow:var(--ag-focus-shadow)}&:where(.ag-disabled){filter:grayscale();opacity:.5}}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&:where(.ag-checked):after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&:where(.ag-indeterminate){background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color);&:after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}}.ag-radio-button-input-wrapper{border-radius:100%;&:where(.ag-checked):after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}',tW=()=>Fi({feature:"checkboxStyle",params:{checkboxBorderWidth:1,checkboxBorderRadius:{ref:"borderRadius"},checkboxUncheckedBackgroundColor:Sr,checkboxUncheckedBorderColor:Rr(.3),checkboxCheckedBackgroundColor:us,checkboxCheckedBorderColor:{ref:"checkboxCheckedBackgroundColor"},checkboxCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>'},checkboxCheckedShapeColor:Sr,checkboxIndeterminateBackgroundColor:Rr(.3),checkboxIndeterminateBorderColor:{ref:"checkboxIndeterminateBackgroundColor"},checkboxIndeterminateShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>'},checkboxIndeterminateShapeColor:Sr,radioCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>'}},css:eW}),nW=tW(),Z0=()=>({...Jd,backgroundColor:"hsl(217, 0%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:Rr(.05),rowHoverColor:$r(.15),selectedRowBackgroundColor:$r(.2),menuBackgroundColor:Rr(.1),browserColorScheme:"dark",popupShadow:"0 0px 20px #000A",cardShadow:"0 1px 4px 1px #000A",advancedFilterBuilderJoinPillColor:"#7a3a37",advancedFilterBuilderColumnPillColor:"#355f2d",advancedFilterBuilderOptionPillColor:"#5a3168",advancedFilterBuilderValuePillColor:"#374c86",checkboxUncheckedBorderColor:Rr(.4),toggleButtonOffBackgroundColor:Rr(.4)}),rW=()=>({...Z0(),backgroundColor:"#1f2836"}),iW=()=>Fi({feature:"colorScheme",params:Jd,modeParams:{light:Jd,dark:Z0(),"dark-blue":rW()}}),sW=iW(),eF={aggregation:'<path d="M18 7V4H6l6 8-6 8h12v-3"/>',arrows:'<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>',asc:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',cancel:'<path d="m18 6-12 12"/><path d="m6 6 12 12"/>',chart:'<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>',"color-picker":'<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>',columns:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>',contracted:'<path d="m9 18 6-6-6-6"/>',copy:'<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>',cross:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',csv:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',cut:'<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>',desc:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',down:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',excel:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',expanded:'<path d="m15 18-6-6 6-6"/>',"eye-slash":'<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>',eye:'<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>',filter:'<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>',first:'<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>',group:'<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>',last:'<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>',left:'<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>',linked:'<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>',loading:'<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>',maximize:'<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>',menu:'<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>',"menu-alt":'<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>',minimize:'<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>',minus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>',next:'<path d="m9 18 6-6-6-6"/>',none:'<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>',"not-allowed":'<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>',paste:'<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>',pin:'<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>',pivot:'<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>',plus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>',previous:'<path d="m15 18-6-6 6-6"/>',right:'<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>',save:'<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>',"small-left":'<path d="m15 18-6-6 6-6"/>',"small-right":'<path d="m9 18 6-6-6-6"/>',tick:'<path d="M20 6 9 17l-5-5"/>',"tree-closed":'<path d="m9 18 6-6-6-6"/>',"tree-indeterminate":'<path d="M5 12h14"/>',"tree-open":'<path d="m6 9 6 6 6-6"/>',unlinked:'<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>',up:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',grip:'<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>',settings:'<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>'},tF={"small-down":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 10.667 16 21.334l8.667-10.667H7.334Z"/></svg>',"small-up":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 21.333 16 10.666l8.667 10.667H7.334Z"/></svg>'},oW=(e={})=>{let t="";for(const n of[...Object.keys(eF),...Object.keys(tF)]){const r=aW(n,e.strokeWidth);t+=`.ag-icon-${n}::before { mask-image: url('data:image/svg+xml,${encodeURIComponent(r)}'); }
`}return t},aW=(e,t=1.5)=>{const n=tF[e];if(n)return n;const r=eF[e];if(!r)throw new Error(`Missing icon data for ${e}`);return`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="${t}" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>`+r+"</svg>"},lW=(e={})=>Fi({feature:"iconSet",css:()=>oW(e)}),uW=lW(),cW=':where(.ag-input-field-input[type=number]:not(.ag-number-field-input-stepper)){-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}}:where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color);outline:none}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&::-moz-placeholder{color:var(--ag-input-placeholder-text-color)}&::placeholder{color:var(--ag-input-placeholder-text-color)}}:where(.ag-ltr) :where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){padding-left:var(--ag-input-padding-start)}:where(.ag-rtl) :where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){padding-right:var(--ag-input-padding-start)}:where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{background-color:currentcolor;color:var(--ag-input-icon-color);content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:.5;position:absolute;width:12px}}:where(.ag-ltr) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{margin-left:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}:where(.ag-rtl) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{margin-right:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}',dW=":where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){&:focus{box-shadow:var(--ag-focus-shadow)}}",hW={inputBackgroundColor:"transparent",inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:"textColor"},inputPlaceholderTextColor:{ref:"inputTextColor",mix:.5},inputPaddingStart:0,inputHeight:{calc:"max(iconSize, fontSize) + spacing * 2"},inputFocusBackgroundColor:{ref:"inputBackgroundColor"},inputFocusBorder:{ref:"inputBorder"},inputFocusShadow:"none",inputFocusTextColor:{ref:"inputTextColor"},inputDisabledBackgroundColor:{ref:"inputBackgroundColor"},inputDisabledBorder:{ref:"inputBorder"},inputDisabledTextColor:{ref:"inputTextColor"},inputInvalidBackgroundColor:{ref:"inputBackgroundColor"},inputInvalidBorder:{ref:"inputBorder"},inputInvalidTextColor:{ref:"inputTextColor"},inputIconColor:{ref:"inputTextColor"},pickerButtonBorder:!1,pickerButtonFocusBorder:{ref:"inputFocusBorder"},pickerButtonBackgroundColor:{ref:"backgroundColor"},pickerButtonFocusBackgroundColor:{ref:"backgroundColor"},pickerListBorder:!1,pickerListBackgroundColor:{ref:"backgroundColor"}},fW=()=>Fi({feature:"inputStyle",params:{...hW,inputBackgroundColor:Sr,inputBorder:!0,inputBorderRadius:{ref:"borderRadius"},inputPaddingStart:{ref:"spacing"},inputFocusBorder:{color:us},inputFocusShadow:{ref:"focusShadow"},inputDisabledBackgroundColor:Rr(.06),inputDisabledTextColor:{ref:"textColor",mix:.5},inputInvalidBorder:{color:{ref:"invalidColor"}},pickerButtonBorder:!0,pickerListBorder:!0},css:()=>cW+dW}),pW=fW(),gW='.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;flex:1;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex}.ag-tabs-close-button-wrapper{align-items:center;border:0;display:flex;padding:var(--ag-spacing)}:where(.ag-ltr) .ag-tabs-close-button-wrapper{border-right:1px solid var(--ag-border-color)}:where(.ag-rtl) .ag-tabs-close-button-wrapper{border-left:1px solid var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative;&:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}&.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}&:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}&.ag-tab-selected:after{opacity:1}}:where(.ag-ltr) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-left-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-right-color:var(--ag-tab-selected-border-color)}}}:where(.ag-rtl) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-right-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-left-color:var(--ag-tab-selected-border-color)}}}',mW={tabBarBackgroundColor:"transparent",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:"transparent",tabTextColor:{ref:"textColor"},tabHorizontalPadding:{ref:"spacing"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:"0",tabHoverBackgroundColor:{ref:"tabBackgroundColor"},tabHoverTextColor:{ref:"tabTextColor"},tabSelectedBackgroundColor:{ref:"tabBackgroundColor"},tabSelectedTextColor:{ref:"tabTextColor"},tabSelectedBorderWidth:1,tabSelectedBorderColor:"transparent",tabSelectedUnderlineColor:"transparent",tabSelectedUnderlineWidth:0,tabSelectedUnderlineTransitionDuration:0,tabBarBorder:!1},CW=()=>Fi({feature:"tabStyle",params:{...mW,tabBarBorder:!0,tabBarBackgroundColor:er(.05),tabTextColor:{ref:"textColor",mix:.7},tabSelectedTextColor:{ref:"textColor"},tabHoverTextColor:{ref:"textColor"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:Sr},css:gW}),vW=CW(),wW=()=>qV().withPart(nW).withPart(sW).withPart(uW).withPart(vW).withPart(pW).withPart(K0).withParams({fontFamily:[{googleFont:"IBM Plex Sans"},"-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu"]}),yW=wW(),tb={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},nb={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},rb={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},wg={cssName:"--ag-row-border",changeKey:"rowBorderWidthChanged",defaultValue:1,border:!0},SW=0,bW=class extends te{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.sizesMeasured=!1,this.paramsClass=`ag-theme-params-${++SW}`,this.globalCSS=[]}wireBeans(e){const{eGridDiv:t,gridOptions:n}=e;this.eGridDiv=t,this.eStyleContainer=n.themeStyleContainer??(t.getRootNode()===document?document.head:t),this.cssLayer=n.themeCssLayer}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.getSizeEl(tb),this.getSizeEl(nb),this.getSizeEl(rb),this.getSizeEl(wg),this.refreshRowBorderWidthVariable(),this.addDestroyFunc(()=>xV(this)),this.mutationObserver=new MutationObserver(()=>{this.fireGridStylesChangedEvent("themeChanged")}),this.addDestroyFunc(()=>this.mutationObserver.disconnect())}getDefaultRowHeight(){return this.getCSSVariablePixelValue(tb)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(nb)}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(rb)}getRowBorderWidth(){return this.getCSSVariablePixelValue(wg)}applyThemeClasses(e){const{gridTheme:t}=this;let n="";if(t)n=`${this.paramsClass} ${t._getCssClass()}`;else{this.mutationObserver.disconnect();let r=this.eGridDiv;for(;r;){let i=!1;for(const s of Array.from(r.classList))s.startsWith("ag-theme-")&&(i=!0,n=n?`${n} ${s}`:s);i&&this.mutationObserver.observe(r,{attributes:!0,attributeFilter:["class"]}),r=r.parentElement}}for(const r of Array.from(e.classList))r.startsWith("ag-theme-")&&e.classList.remove(r);if(n){const r=e.className;e.className=r+(r?" ":"")+n}}refreshRowHeightVariable(){const{eGridDiv:e}=this,t=e.style.getPropertyValue("--ag-line-height").trim(),n=this.gos.get("rowHeight");if(n==null||isNaN(n)||!isFinite(n))return t!==null&&e.style.setProperty("--ag-line-height",null),-1;const r=`${n}px`;return t!=r?(e.style.setProperty("--ag-line-height",r),n):t!=""?parseFloat(t):-1}addGlobalCSS(e,t){this.gridTheme?wa(e,this.eStyleContainer,t,this.cssLayer,0):this.globalCSS.push([e,t])}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(t!=null)return t;const n=this.measureSizeEl(e);return n==="detached"||n==="no-styles"?e.defaultValue:(this.lastKnownValues.set(e,n),n)}measureSizeEl(e){const t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";const n=t.offsetWidth;return n===yg?"no-styles":(this.sizesMeasured=!0,n)}getMeasurementContainer(){let e=this.eMeasurementContainer;return e||(e=this.eMeasurementContainer=document.createElement("div"),e.className="ag-measurement-container",this.eGridDiv.appendChild(e)),e}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;const n=this.getMeasurementContainer();t=document.createElement("div");const{border:r}=e;r?(t.className="ag-measurement-element-border",t.style.setProperty("--ag-internal-measurement-border",`var(${e.cssName}, solid ${yg}px`)):t.style.width=`var(${e.cssName}, ${yg}px)`,n.appendChild(t),this.sizeEls.set(e,t);let i=this.measureSizeEl(e);i==="no-styles"&&he(9,{variable:e});const s=Mi(this.beans,t,()=>{const o=this.measureSizeEl(e);o==="detached"||o==="no-styles"||(this.lastKnownValues.set(e,o),o!==i&&(i=o,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>s()),t}fireGridStylesChangedEvent(e){e==="rowBorderWidthChanged"&&this.refreshRowBorderWidthVariable(),this.eventSvc.dispatchEvent({type:"gridStylesChanged",[e]:!0})}refreshRowBorderWidthVariable(){const e=this.getCSSVariablePixelValue(wg);this.eGridDiv.style.setProperty("--ag-internal-row-border-width",`${e}px`)}handleThemeGridOptionChange(){const{gos:e,eGridDiv:t,globalCSS:n,gridTheme:r}=this,i=e.get("theme");let s;if(i==="legacy")s=void 0;else{const o=i??yW;o instanceof J0?s=o:ut(240,{theme:o})}if(s!==r){if(s){RV(this),j0(this.eStyleContainer,this.cssLayer);for(const[l,c]of n)wa(l,this.eStyleContainer,c,this.cssLayer,0);n.length=0}this.gridTheme=s,s==null||s._startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),styleContainer:this.eStyleContainer,cssLayer:this.cssLayer});let o=this.eParamsStyle;o||(o=this.eParamsStyle=document.createElement("style"),t.appendChild(o)),TC||(o.textContent=(s==null?void 0:s._getPerGridCss(this.paramsClass))||""),this.applyThemeClasses(t),this.fireGridStylesChangedEvent("themeChanged")}s&&getComputedStyle(this.getMeasurementContainer()).getPropertyValue("--ag-legacy-styles-loaded")&&ut(i?106:239)}},yg=15538,RW=class extends te{constructor(){super(...arguments),this.beanName="eventSvc",this.globalEventService=new ao}postConstruct(){const{globalListener:e,globalSyncListener:t}=this.beans;e&&this.addGlobalListener(e,!0),t&&this.addGlobalListener(t,!1)}addEventListener(e,t,n){this.globalEventService.addEventListener(e,t,n)}removeEventListener(e,t,n){this.globalEventService.removeEventListener(e,t,n)}addGlobalListener(e,t=!1){this.globalEventService.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalEventService.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalEventService.dispatchEvent(Le(this.gos,e))}dispatchEventOnce(e){this.globalEventService.dispatchEventOnce(Le(this.gos,e))}};function nF(e){return e?e.getLeafColumns().some(t=>t.isSpanHeaderHeight()):!1}function gm(e,t){let n;if(It(e)&&nF(e)&&e.isPadding()){const r=e;n=r.getLeafColumns()[0];let i=n;for(;i!==r;)t++,i=i.getParent()}return{column:n||e,headerRowIndex:t}}var xW=class extends te{constructor(){super(...arguments),this.beanName="headerNavigation",this.currentHeaderRowWithoutSpan=-1}postConstruct(){const e=this.beans;e.ctrlsSvc.whenReady(this,n=>{this.gridBodyCon=n.gridBodyCtrl});const t=Gt(e);this.addManagedElementListeners(t,{mousedown:()=>{this.currentHeaderRowWithoutSpan=-1}})}getHeaderPositionForColumn(e,t){let n;const{colModel:r,colGroupSvc:i,ctrlsSvc:s}=this.beans;if(typeof e=="string"?(n=r.getCol(e),n||(n=(i==null?void 0:i.getColumnGroup(e))??null)):n=e,!n)return null;const o=s.getHeaderRowContainerCtrl(),l=o==null?void 0:o.getAllCtrls(),c=lt(l||[]).type==="filter",d=vi(this.beans)-1;let f=-1,p=n;for(;p;)f++,p=p.getParent();let m=f;return t&&c&&m===d-1&&m++,m===-1?null:{headerRowIndex:m,column:n}}navigateVertically(e,t,n){const r=this.beans.focusSvc;if(t||(t=r.focusedHeader),!t)return!1;const{headerRowIndex:i}=t,s=t.column,o=vi(this.beans),l=e==="UP",c=this.getHeaderRowType(i);let{headerRowIndex:d,column:f,headerRowIndexWithoutSpan:p}=l?EW(c,s,i):FW(c,s,i),m=!1;return d<0&&(d=0,f=s,m=!0),d>=o?(d=-1,this.currentHeaderRowWithoutSpan=-1):p!==void 0&&(this.currentHeaderRowWithoutSpan=p),!m&&!f?!1:r.focusHeaderPosition({headerPosition:{headerRowIndex:d,column:f},allowUserOverride:!0,event:n})}navigateHorizontally(e,t=!1,n){const{focusSvc:r,gos:i}=this.beans,s=r.focusedHeader;let o,l;if(this.currentHeaderRowWithoutSpan!==-1?s.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=s.headerRowIndex,e==="LEFT"!==i.get("enableRtl")?(l="Before",o=this.findHeader(s,l)):(l="After",o=this.findHeader(s,l)),o||!t)return r.focusHeaderPosition({headerPosition:o,direction:l,fromTab:t,allowUserOverride:!0,event:n});if(t){const c=i.getCallback("tabToNextHeader");if(c)return r.focusHeaderPositionFromUserFunc({userFunc:c,headerPosition:o,direction:l})}return this.focusNextHeaderRow(s,l,n)}focusNextHeaderRow(e,t,n){const r=e.headerRowIndex;let i=null,s;const o=this.beans;if(t==="Before"?r>0&&(s=r-1,this.currentHeaderRowWithoutSpan-=1,i=this.findColAtEdgeForHeaderRow(s,"end")):(s=r+1,this.currentHeaderRowWithoutSpan<vi(o)?this.currentHeaderRowWithoutSpan+=1:this.currentHeaderRowWithoutSpan=-1,i=this.findColAtEdgeForHeaderRow(s,"start")),!i)return!1;const{column:l,headerRowIndex:c}=gm(i.column,i==null?void 0:i.headerRowIndex);return o.focusSvc.focusHeaderPosition({headerPosition:{column:l,headerRowIndex:c},direction:t,fromTab:!0,allowUserOverride:!0,event:n})}scrollToColumn(e,t="After"){if(e.getPinned())return;let n;if(It(e)){const r=e.getDisplayedLeafColumns();n=t==="Before"?lt(r):r[0]}else n=e;this.gridBodyCon.scrollFeature.ensureColumnVisible(n)}findHeader(e,t){let n,r;const{colGroupSvc:i,visibleCols:s}=this.beans;if(It(e.column)?n=(i==null?void 0:i.getGroupAtDirection(e.column,t))??void 0:(r=`getCol${t}`,n=s[r](e.column)),!n)return;const{headerRowIndex:o}=e;if(this.getHeaderRowType(o)!=="filter"){const d=[n];for(;n.getParent();)n=n.getParent(),d.push(n);n=d[Math.max(0,d.length-1-o)]}const{column:l,headerRowIndex:c}=gm(n,o);return{column:l,headerRowIndex:c}}getHeaderRowType(e){const t=this.beans.ctrlsSvc.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){const{visibleCols:n,ctrlsSvc:r,colGroupSvc:i}=this.beans,s=n.allCols,o=s[t==="start"?0:s.length-1];if(!o)return;const l=r.getHeaderRowContainerCtrl(o.getPinned()),c=l==null?void 0:l.getRowType(e);if(c=="group"){const d=i==null?void 0:i.getColGroupAtLevel(o,e);return{headerRowIndex:e,column:d}}return{headerRowIndex:c==null?-1:e,column:o}}};function EW(e,t,n){const r=e==="filter",i=e==="column";let s=r?t:t.getParent(),o=n-1,l=o;if(i&&nF(t.getParent())){for(;s&&s.isPadding();)s=s.getParent(),o--;l=o,o<0&&(s=t,o=n,l=void 0)}return{column:s,headerRowIndex:o,headerRowIndexWithoutSpan:l}}function FW(e,t,n,r="After"){let i=t,s=n+1;const o=s;if(e==="group"){const l=t.getDisplayedLeafColumns(),c=r==="After"?l[0]:lt(l),d=[];let f=c;for(;f.getParent()!==t;)f=f.getParent(),d.push(f);if(i=c,c.isSpanHeaderHeight())for(let p=d.length-1;p>=0;p--){const m=d[p];if(!m.isPadding()){i=m;break}s++}else i=lt(d),i||(i=c)}return{column:i,headerRowIndex:s,headerRowIndexWithoutSpan:o}}var PW=class extends te{constructor(){super(...arguments),this.beanName="focusSvc"}wireBeans(e){this.colModel=e.colModel,this.visibleCols=e.visibleCols,this.rowRenderer=e.rowRenderer,this.navigation=e.navigation,this.filterManager=e.filterManager,this.overlays=e.overlays}postConstruct(){const e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.addDestroyFunc(xN(this.beans))}onColumnEverythingChanged(){if(!this.focusedCell)return;const e=this.focusedCell.column,t=this.colModel.getCol(e.getId());e!==t&&this.clearFocusedCell()}getFocusCellToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedCell||this.isDomDataMissingInHierarchy(Nt(this.beans),su)?null:this.focusedCell}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeader||this.isDomDataMissingInHierarchy(Nt(this.beans),A0)?null:this.focusedHeader}isDomDataMissingInHierarchy(e,t){let n=e;for(;n;){if(Bd(this.gos,n,t))return!1;n=n.parentNode}return!0}getFocusedCell(){return this.focusedCell}shouldRestoreFocus(e){return this.isCellRestoreFocused(e)?(setTimeout(()=>{this.restoredFocusedCell=null},0),!0):!1}clearRestoreFocus(){this.restoredFocusedCell=null,this.awaitRestoreFocusedCell=!1}restoreFocusedCell(e,t){this.awaitRestoreFocusedCell=!0,setTimeout(()=>{this.awaitRestoreFocusedCell&&(this.setRestoreFocusedCell(e),t())})}isCellRestoreFocused(e){return this.restoredFocusedCell==null?!1:"cellSpan"in e?e.doesSpanContain(this.restoredFocusedCell):am(e,this.restoredFocusedCell)}setRestoreFocusedCell(e){this.beans.frameworkOverrides.renderingEngine==="react"&&(this.restoredFocusedCell=e)}getFocusEventParams(e){const{rowIndex:t,rowPinned:n,column:r}=e,i={rowIndex:t,rowPinned:n,column:r,isFullWidthCell:!1},s=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:n});return s&&(i.isFullWidthCell=s.isFullWidth()),i}clearFocusedCell(){if(this.restoredFocusedCell=null,this.focusedCell==null)return;const e=this.getFocusEventParams(this.focusedCell);this.focusedCell=null,this.eventSvc.dispatchEvent({type:"cellFocusCleared",...e})}setFocusedCell(e){const{column:t,rowIndex:n,rowPinned:r,forceBrowserFocus:i=!1,preventScrollOnBrowserFocus:s=!1}=e,o=this.colModel.getCol(t);if(!o){this.focusedCell=null;return}this.focusedCell={rowIndex:n,rowPinned:yi(r),column:o},this.eventSvc.dispatchEvent({type:"cellFocused",...this.getFocusEventParams(this.focusedCell),forceBrowserFocus:i,preventScrollOnBrowserFocus:s})}isCellFocused(e){return this.focusedCell==null?!1:am(e,this.focusedCell)}isRowNodeFocused(e){return this.isRowFocused(e.rowIndex,e.rowPinned)}isHeaderWrapperFocused(e){if(this.focusedHeader==null)return!1;const{column:t,rowCtrl:{rowIndex:n,pinned:r}}=e,{column:i,headerRowIndex:s}=this.focusedHeader;return t===i&&n===s&&r==i.getPinned()}focusHeaderPosition(e){var c;if(to(this.beans))return!1;const{direction:t,fromTab:n,allowUserOverride:r,event:i,fromCell:s,rowWithoutSpanValue:o}=e;let{headerPosition:l}=e;if(s&&((c=this.filterManager)!=null&&c.isAdvFilterHeaderActive()))return this.focusAdvancedFilter(l);if(r){const d=this.focusedHeader,f=vi(this.beans);if(n){const p=this.gos.getCallback("tabToNextHeader");p&&(l=this.getHeaderPositionFromUserFunc({userFunc:p,direction:t,currentPosition:d,headerPosition:l,headerRowCount:f}))}else{const p=this.gos.getCallback("navigateToNextHeader");if(p&&i){const m={key:i.key,previousHeaderPosition:d,nextHeaderPosition:l,headerRowCount:f,event:i};l=p(m)}}}return l?this.focusProvidedHeaderPosition({headerPosition:l,direction:t,event:i,fromCell:s,rowWithoutSpanValue:o}):!1}focusHeaderPositionFromUserFunc(e){if(to(this.beans))return!1;const{userFunc:t,headerPosition:n,direction:r,event:i}=e,s=this.focusedHeader,o=vi(this.beans),l=this.getHeaderPositionFromUserFunc({userFunc:t,direction:r,currentPosition:s,headerPosition:n,headerRowCount:o});return!!l&&this.focusProvidedHeaderPosition({headerPosition:l,direction:r,event:i})}getHeaderPositionFromUserFunc(e){const{userFunc:t,direction:n,currentPosition:r,headerPosition:i,headerRowCount:s}=e,l=t({backwards:n==="Before",previousHeaderPosition:r,nextHeaderPosition:i,headerRowCount:s});return l===!0?r:l===!1?null:l}focusProvidedHeaderPosition(e){const{headerPosition:t,direction:n,fromCell:r,rowWithoutSpanValue:i,event:s}=e,{column:o,headerRowIndex:l}=t,{filterManager:c,ctrlsSvc:d,headerNavigation:f}=this.beans;if(l===-1)return c!=null&&c.isAdvFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView({column:o,event:s});f==null||f.scrollToColumn(o,n);const p=d.getHeaderRowContainerCtrl(o.getPinned()),m=(p==null?void 0:p.focusHeader(t.headerRowIndex,o,s))||!1;return f&&m&&(i!=null||r)&&(f.currentHeaderRowWithoutSpan=i??-1),m}focusFirstHeader(){var r;if((r=this.overlays)!=null&&r.isExclusive()&&this.focusOverlay())return!0;let e=this.visibleCols.allCols[0];if(!e)return!1;const{colGroupSvc:t}=this.beans;t&&e.getParent()&&(e=t.getColGroupAtLevel(e,0));const n=gm(e,0);return this.focusHeaderPosition({headerPosition:n,rowWithoutSpanValue:0})}focusLastHeader(e){var r;if((r=this.overlays)!=null&&r.isExclusive()&&this.focusOverlay(!0))return!0;const t=vi(this.beans)-1,n=lt(this.visibleCols.allCols);return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:n},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){var t;return(t=this.filterManager)!=null&&t.isAdvFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCell}isRowFocused(e,t){return this.focusedCell==null?!1:this.focusedCell.rowIndex===e&&this.focusedCell.rowPinned===yi(t)}focusOverlay(e){var n,r;const t=((n=this.overlays)==null?void 0:n.isVisible())&&((r=this.overlays.eWrapper)==null?void 0:r.getGui());return!!t&&ho(t,e)}focusGridView(e){var s,o,l,c,d,f;const{backwards:t=!1,canFocusOverlay:n=!0,event:r}=e;if((s=this.overlays)!=null&&s.isExclusive())return n&&this.focusOverlay(t);if(Sh(this.beans))return t&&!to(this.beans)?this.focusLastHeader():n&&this.focusOverlay(t)?!0:t?!1:Ca(this.beans,t);const i=t?qN(this.beans):KN(this.beans);if(i){const p=e.column??((o=this.focusedHeader)==null?void 0:o.column),{rowIndex:m,rowPinned:C}=i,y=qd(this.beans,i);if(!p||!y||m==null)return!1;if(p.isSuppressNavigable(y)){const b=this.gos.get("enableRtl");let R;return!r||r.key===X.TAB?R=b?X.LEFT:X.RIGHT:R=r.key,(l=this.beans.navigation)==null||l.navigateToNextCell(null,R,{rowIndex:m,column:p,rowPinned:C||null},!0),!0}if((c=this.navigation)==null||c.ensureCellVisible({rowIndex:m,column:p,rowPinned:C}),t){const b=this.rowRenderer.getRowByPosition(i);if(b!=null&&b.isFullWidth()&&((d=this.navigation)!=null&&d.tryToFocusFullWidthRow(i,t)))return!0}return this.setFocusedCell({rowIndex:m,column:p,rowPinned:yi(C),forceBrowserFocus:!0}),(f=this.beans.rangeSvc)==null||f.setRangeToCell({rowIndex:m,rowPinned:C,column:p}),!0}return!!(n&&this.focusOverlay(t)||t&&this.focusLastHeader())}focusAdvancedFilter(e){var t;return this.advFilterFocusColumn=e==null?void 0:e.column,((t=this.beans.advancedFilter)==null?void 0:t.getCtrl().focusHeaderComp())??!1}focusNextFromAdvancedFilter(e,t){var r;const n=(t?void 0:this.advFilterFocusColumn)??((r=this.visibleCols.allCols)==null?void 0:r[0]);return e?this.focusHeaderPosition({headerPosition:{column:n,headerRowIndex:vi(this.beans)-1}}):this.focusGridView({column:n})}clearAdvancedFilterColumn(){this.advFilterFocusColumn=void 0}},DW=class extends te{constructor(){super(...arguments),this.beanName="scrollVisibleSvc"}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colAnimation=e.colAnimation}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.updateScrollVisible.bind(this),displayedColumnsWidthChanged:this.updateScrollVisible.bind(this)})}updateScrollVisible(){const{colAnimation:e}=this;e!=null&&e.isActive()?e.executeLaterVMTurn(()=>{e.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){var n;const e=this.ctrlsSvc.get("center");if(!e||(n=this.colAnimation)!=null&&n.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.verticalScrollShowing};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsSvc.get("center"),t=e.hasHorizontalScrollGap(),n=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==n)&&(this.horizontalScrollGap=t,this.verticalScrollGap=n,this.eventSvc.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventSvc.dispatchEvent({type:"scrollVisibilityChanged"}))}getScrollbarWidth(){if(this.scrollbarWidth==null){const e=this.gos.get("scrollbarWidth"),n=typeof e=="number"&&e>=0?e:cO();n!=null&&(this.scrollbarWidth=n,this.eventSvc.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},TW=class extends te{constructor(){super(...arguments),this.beanName="gridDestroySvc",this.destroyCalled=!1}destroy(){var r;if(this.destroyCalled)return;const{stateSvc:e,ctrlsSvc:t,context:n}=this.beans;this.eventSvc.dispatchEvent({type:"gridPreDestroyed",state:(e==null?void 0:e.getState())??{}}),this.destroyCalled=!0,(r=t.get("gridCtrl"))==null||r.destroyGridUi(),n.destroy(),super.destroy()}},pd=new Set(["gridPreDestroyed","fillStart","pasteStart"]),AW={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,cellFlashDuration:500,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1,rowNumbers:!1},MW=0,kW=0,IW=class extends te{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.gridInstanceId=kW++,this.propEventSvc=new ao,this.globalEventHandlerFactory=e=>(t,n)=>{if(!this.isAlive())return;const r=pd.has(t);if(r&&!e||!r&&e)return;const i=GE(t),s=this.gridOptions[i];typeof s=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{s(n)})}}wireBeans(e){this.gridOptions=e.gridOptions,this.validation=e.validation,this.api=e.gridApi,this.gridId=e.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){this.eventSvc.addGlobalListener(this.globalEventHandlerFactory().bind(this),!0),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propEventSvc.setFrameworkOverrides(this.beans.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:e})=>{this.updateGridOptions({options:e,force:!0,source:"gridOptionsUpdated"})}})}get(e){return this.gridOptions[e]??AW[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return Ce(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(n=>e(this.addGridCommonParams(n)))}updateGridOptions({options:e,force:t,source:n="api"}){const r={id:MW++,properties:[]},i=[],{gridOptions:s,validation:o}=this;for(const l of Object.keys(e)){const c=e[l];o==null||o.warnOnInitialPropertyUpdate(n,l);const d=t||typeof c=="object"&&n==="api",f=s[l];if(d||f!==c){s[l]=c;const p={type:l,currentValue:c,previousValue:f,changeSet:r,source:n};i.push(p)}}o==null||o.processGridOptions(this.gridOptions),r.properties=i.map(l=>l.type),i.forEach(l=>{uo(this,`Updated property ${l.type} from`,l.previousValue," to ",l.currentValue),this.propEventSvc.dispatchEvent(l)})}addPropertyEventListener(e,t){this.propEventSvc.addEventListener(e,t)}removePropertyEventListener(e,t){this.propEventSvc.removeEventListener(e,t)}getDomDataKey(){return this.domDataKey}addGridCommonParams(e){return e.api=this.api,e.context=this.gridOptionsContext,e}assertModuleRegistered(e,t){const n=Array.isArray(e)?e.some(r=>this.isModuleRegistered(r)):this.isModuleRegistered(e);return n||ut(200,{...this.getModuleErrorParams(),moduleName:e,reasonOrId:t}),n}getModuleErrorParams(){return{gridId:this.gridId,gridScoped:mC(),rowModelType:this.get("rowModelType"),isUmd:fN()}}isModuleRegistered(e){return a0(e,this.gridId,this.get("rowModelType"))}};function OW(e){return`<div class="ag-cell-label-container" role="presentation">
        <span data-ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
        <span data-ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>
        <div data-ref="eLabel" class="ag-header-cell-label" role="presentation">
            <span data-ref="eText" class="ag-header-cell-text"></span>
            <span data-ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
            ${e?'<ag-sort-indicator data-ref="eSortIndicator"></ag-sort-indicator>':""}
        </div>
    </div>`}var LW=class extends Pt{constructor(){super(...arguments),this.eFilter=Ie,this.eFilterButton=Ie,this.eSortIndicator=Ie,this.eMenu=Ie,this.eLabel=Ie,this.eText=Ie,this.eSortOrder=Ie,this.eSortAsc=Ie,this.eSortDesc=Ie,this.eSortMixed=Ie,this.eSortNone=Ie,this.isLoadingInnerComponent=!1}refresh(e){var n,r;const t=this.params;return this.params=e,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||e.enableSorting!=this.currentSort||this.currentSuppressMenuHide!=null&&this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon?!1:(this.innerHeaderComponent?(r=(n=this.innerHeaderComponent).refresh)==null||r.call(n,e):this.setDisplayName(e),!0)}workOutTemplate(){const{params:e,beans:t}=this,n=e.template??OW(!!t.sortSvc);return n!=null&&n.trim?n.trim():n}init(e){this.params=e;const{sortSvc:t,touchSvc:n,rowNumbersSvc:r,userCompFactory:i}=this.beans;this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate,t?[t.getSortIndicatorSelector()]:void 0),n==null||n.setupForHeader(this),this.setMenu(),this.setupSort(),r==null||r.setupForHeader(this),this.setupFilterIcon(),this.setupFilterButton(),this.workOutInnerHeaderComponent(i,e),this.setDisplayName(e)}workOutInnerHeaderComponent(e,t){const n=zL(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(r=>{this.isLoadingInnerComponent=!1,r&&(this.isAlive()?(this.innerHeaderComponent=r,this.eText.appendChild(r.getGui())):this.destroyBean(r))}))}setDisplayName(e){const{displayName:t}=e,n=this.currentDisplayName;if(this.currentDisplayName=t,n===t||this.innerHeaderComponent||this.isLoadingInnerComponent)return;const r=bi(t,!0);this.eText.textContent=r}addInIcon(e,t,n){if(t==null)return;const r=rr(e,this.beans,n);r&&t.appendChild(r)}workOutShowMenu(){var e;return this.params.enableMenu&&!!((e=this.beans.menuSvc)!=null&&e.isHeaderMenuButtonEnabled())}shouldSuppressMenuHide(){var e;return!!((e=this.beans.menuSvc)!=null&&e.isHeaderMenuButtonAlwaysShowEnabled())}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){lo(this.eMenu),this.eMenu=void 0;return}const{gos:e,eMenu:t,params:n}=this,r=Vn(e);this.addInIcon(r?"menu":"menuAlt",t,n.column),t.classList.toggle("ag-header-menu-icon",!r);const i=this.shouldSuppressMenuHide();this.currentSuppressMenuHide=i,this.addManagedElementListeners(t,{click:()=>this.showColumnMenu(this.eMenu)}),this.toggleMenuAlwaysShow(i)}toggleMenuAlwaysShow(e){var t;(t=this.eMenu)==null||t.classList.toggle("ag-header-menu-always-show",e)}showColumnMenu(e){const{currentSuppressMenuHide:t,params:n}=this;t||this.toggleMenuAlwaysShow(!0),n.showColumnMenu(e,()=>{t||this.toggleMenuAlwaysShow(!1)})}onMenuKeyboardShortcut(e){var c;const{params:t,gos:n,beans:r,eMenu:i,eFilterButton:s}=this,o=t.column,l=Vn(n);if(e&&!l){if((c=r.menuSvc)!=null&&c.isFilterMenuInHeaderEnabled(o))return t.showFilter(s??i??this.getGui()),!0}else if(t.enableMenu)return this.showColumnMenu(i??s??this.getGui()),!0;return!1}setupSort(){const{sortSvc:e}=this.beans;if(!e)return;const{enableSorting:t,column:n}=this.params;if(this.currentSort=t,!this.eSortIndicator){this.eSortIndicator=this.createBean(e.createSortIndicator(!0));const{eSortIndicator:r,eSortOrder:i,eSortAsc:s,eSortDesc:o,eSortMixed:l,eSortNone:c}=this;r.attachCustomElements(i,s,o,l,c)}this.eSortIndicator.setupSort(n),this.currentSort&&e.setupHeader(this,n,this.eLabel)}setupFilterIcon(){const{eFilter:e,params:t}=this;e&&this.configureFilter(t.enableFilterIcon,e,this.onFilterChangedIcon.bind(this),"filterActive")}setupFilterButton(){const{eFilterButton:e,params:t}=this;if(!e)return;this.configureFilter(t.enableFilterButton,e,this.onFilterChangedButton.bind(this),"filter")?this.addManagedElementListeners(e,{click:()=>t.showFilter(e)}):this.eFilterButton=void 0}configureFilter(e,t,n,r){if(!e)return lo(t),!1;const i=this.params.column;return this.addInIcon(r,t,i),this.addManagedListeners(i,{filterChanged:n}),n(),!0}onFilterChangedIcon(){const e=this.params.column.isFilterActive();Ot(this.eFilter,e,{skipAriaHidden:!0})}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){const{eFilterButton:t,eMenu:n}=this;return e?t??n??this.getGui():n??t??this.getGui()}destroy(){super.destroy(),this.innerHeaderComponent&&(this.destroyBean(this.innerHeaderComponent),this.innerHeaderComponent=void 0)}},NW=class extends Pt{constructor(){super(`<div class="ag-header-group-cell-label" role="presentation">
            <span data-ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span data-ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span data-ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`),this.agOpened=Ie,this.agClosed=Ie,this.agLabel=Ie,this.isLoadingInnerComponent=!1}init(e){const{userCompFactory:t}=this.beans;this.params=e,this.checkWarnings(),this.workOutInnerHeaderGroupComponent(t,e),this.setupLabel(e),this.addGroupExpandIcon(e),this.setupExpandIcons()}checkWarnings(){this.params.template&&he(89)}workOutInnerHeaderGroupComponent(e,t){const n=UL(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(r=>{this.isLoadingInnerComponent=!1,r&&(this.isAlive()?(this.innerHeaderGroupComponent=r,this.agLabel.appendChild(r.getGui())):this.destroyBean(r))}))}setupExpandIcons(){const{agOpened:e,agClosed:t,params:{columnGroup:n},beans:r}=this;this.addInIcon("columnGroupOpened",e),this.addInIcon("columnGroupClosed",t);const i=c=>{if(Si(c))return;const d=!n.isExpanded();r.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),d,"uiColumnExpanded")};this.addTouchAndClickListeners(r,t,i),this.addTouchAndClickListeners(r,e,i);const s=c=>{ga(c)};this.addManagedElementListeners(t,{dblclick:s}),this.addManagedElementListeners(e,{dblclick:s}),this.addManagedElementListeners(this.getGui(),{dblclick:i}),this.updateIconVisibility();const o=n.getProvidedColumnGroup(),l=this.updateIconVisibility.bind(this);this.addManagedListeners(o,{expandedChanged:l,expandableChanged:l})}addTouchAndClickListeners(e,t,n){var r;(r=e.touchSvc)==null||r.setupForHeaderGroup(this,t,n),this.addManagedElementListeners(t,{click:n})}updateIconVisibility(){const{agOpened:e,agClosed:t,params:{columnGroup:n}}=this;if(n.isExpandable()){const r=n.isExpanded();Ot(e,r),Ot(t,!r)}else Ot(e,!1),Ot(t,!1)}addInIcon(e,t){const n=rr(e,this.beans,null);n&&t.appendChild(n)}addGroupExpandIcon(e){if(!e.columnGroup.isExpandable()){const{agOpened:t,agClosed:n}=this;Ot(t,!1),Ot(n,!1);return}}setupLabel(e){var i;const{displayName:t,columnGroup:n}=e,r=this.innerHeaderGroupComponent||this.isLoadingInnerComponent;if(Ce(t)&&!r){const s=bi(t,!0);this.agLabel.textContent=s}this.addOrRemoveCssClass("ag-sticky-label",!((i=n.getColGroupDef())!=null&&i.suppressStickyLabel))}destroy(){super.destroy(),this.innerHeaderGroupComponent&&(this.destroyBean(this.innerHeaderGroupComponent),this.innerHeaderGroupComponent=void 0)}},BW={moduleName:"ColumnHeaderComp",version:ve,userComponents:{agColumnHeader:LW},icons:{menu:"menu",menuAlt:"menu-alt"}},HW={moduleName:"ColumnGroupHeaderComp",version:ve,userComponents:{agColumnGroupHeader:NW},icons:{columnGroupOpened:"expanded",columnGroupClosed:"contracted"}},GW={moduleName:"AnimationFrame",version:ve,beans:[SN]},VW=class extends te{constructor(){super(...arguments),this.beanName="touchSvc"}mockBodyContextMenu(e,t){this.mockContextMenu(e,e.eBodyViewport,t)}mockHeaderContextMenu(e,t){this.mockContextMenu(e,e.eGui,t)}mockRowContextMenu(e){if(!Ys())return;const t=(n,r,i)=>{var l;const{rowCtrl:s,cellCtrl:o}=e.getControlsForEventTarget((i==null?void 0:i.target)??null);o!=null&&o.column&&o.dispatchCellContextMenuEvent(i??null),(l=this.beans.contextMenuSvc)==null||l.handleContextMenuMouseEvent(void 0,i,s,o)};this.mockContextMenu(e,e.element,t)}handleCellDoubleClick(e,t){return(()=>{if(!Ys()||WE("dblclick"))return!1;const r=new Date().getTime(),i=r-e.lastIPadMouseClickEvent<200;return e.lastIPadMouseClickEvent=r,i})()?(e.onCellDoubleClicked(t),t.preventDefault(),!0):!1}setupForHeader(e){const{gos:t,sortSvc:n}=this.beans;if(t.get("suppressTouch"))return;const{params:r,eMenu:i,eFilterButton:s}=e,o=new Xo(e.getGui(),!0),l=e.shouldSuppressMenuHide(),c=l&&Ce(i),d=c?new Xo(i,!0):o;if(r.enableMenu){const f=c?"tap":"longTap",p=m=>r.showColumnMenuAfterMouseClick(m.touchStart);e.addManagedListeners(d,{[f]:p})}if(r.enableSorting){const f=p=>{const m=p.touchStart.target;l&&(i!=null&&i.contains(m)||s!=null&&s.contains(m))||n==null||n.progressSort(r.column,!1,"uiColumnSorted")};e.addManagedListeners(o,{tap:f})}if(r.enableFilterButton&&s){const f=new Xo(s,!0);e.addManagedListeners(f,{tap:()=>r.showFilter(s)}),e.addDestroyFunc(()=>f.destroy())}e.addDestroyFunc(()=>o.destroy()),c&&e.addDestroyFunc(()=>d.destroy())}setupForHeaderGroup(e,t,n){const r=new Xo(t,!0);e.addManagedListeners(r,{tap:n}),e.addDestroyFunc(()=>r.destroy())}mockContextMenu(e,t,n){if(!Ys())return;const r=new Xo(t),i=s=>{n(void 0,s.touchStart,s.touchEvent)};e.addManagedListeners(r,{longTap:i}),e.addDestroyFunc(()=>r.destroy())}},WW={moduleName:"Touch",version:ve,beans:[VW]},_W=class extends te{constructor(){super(...arguments),this.beanName="cellNavigation"}wireBeans(e){this.rowSpanSvc=e.rowSpanSvc}getNextCellToFocus(e,t,n=!1){return n?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const n=e===X.UP,r=e===X.DOWN,i=e===X.LEFT;let s,o;const{pageBounds:l,gos:c,visibleCols:d}=this.beans;if(n||r)o=n?l.getFirstRow():l.getLastRow(),s=t.column;else{const f=c.get("enableRtl");o=t.rowIndex,s=(i!==f?d.allCols:[...d.allCols].reverse()).find(m=>this.isCellGoodToFocusOn({rowIndex:o,rowPinned:null,column:m}))}return s?{rowIndex:o,rowPinned:null,column:s}:null}getNextCellToFocusWithoutCtrlPressed(e,t){let n=t,r=!1;for(;!r;){switch(e){case X.UP:n=this.getCellAbove(n);break;case X.DOWN:n=this.getCellBelow(n);break;case X.RIGHT:n=this.gos.get("enableRtl")?this.getCellToLeft(n):this.getCellToRight(n);break;case X.LEFT:n=this.gos.get("enableRtl")?this.getCellToRight(n):this.getCellToLeft(n);break;default:n=null,he(8,{key:e});break}n?r=this.isCellGoodToFocusOn(n):r=!0}return n}isCellGoodToFocusOn(e){const t=e.column;let n;const{pinnedRowModel:r,rowModel:i}=this.beans;switch(e.rowPinned){case"top":n=r==null?void 0:r.getPinnedTopRow(e.rowIndex);break;case"bottom":n=r==null?void 0:r.getPinnedBottomRow(e.rowIndex);break;default:n=i.getRow(e.rowIndex);break}return n?!this.isSuppressNavigable(t,n):!1}getCellToLeft(e){if(!e)return null;const t=this.beans.visibleCols.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.beans.visibleCols.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getRowBelow(e){const t=e.rowIndex,n=e.rowPinned;let r=!1;const{pageBounds:i,pinnedRowModel:s,rowModel:o}=this.beans;if(this.isLastRowInContainer(e))switch(n){case"bottom":return null;case"top":return o.isRowsToRender()?{rowIndex:i.getFirstRow(),rowPinned:null}:s!=null&&s.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return s!=null&&s.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}else n&&(r=!0);const l=o.getRow(e.rowIndex),c=r?void 0:this.getNextStickyPosition(l);return c||{rowIndex:t+1,rowPinned:n}}getNextStickyPosition(e,t){const{gos:n,rowRenderer:r}=this.beans;if(!NE(n)||!e||!e.sticky)return;const i=r.getStickyTopRowCtrls().some(d=>d.rowNode.rowIndex===e.rowIndex);let s=[];i?s=[...r.getStickyTopRowCtrls()].sort((d,f)=>d.rowNode.rowIndex-f.rowNode.rowIndex):s=[...r.getStickyBottomRowCtrls()].sort((d,f)=>f.rowNode.rowIndex-d.rowNode.rowIndex);const o=t?-1:1,l=s.findIndex(d=>d.rowNode.rowIndex===e.rowIndex),c=s[l+o];if(c)return{rowIndex:c.rowNode.rowIndex,rowPinned:null}}getCellBelow(e){var r;if(!e)return null;const t=((r=this.rowSpanSvc)==null?void 0:r.getCellEnd(e))??e,n=this.getRowBelow(t);return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}isLastRowInContainer(e){const t=e.rowPinned,n=e.rowIndex,{pinnedRowModel:r,pageBounds:i}=this.beans;return t==="top"?((r==null?void 0:r.getPinnedTopRowCount())??-1)<=n:t==="bottom"?((r==null?void 0:r.getPinnedBottomRowCount())??-1)<=n:i.getLastRow()<=n}getRowAbove(e){const t=e.rowIndex,n=e.rowPinned,{pageBounds:r,pinnedRowModel:i,rowModel:s}=this.beans,o=n?t===0:t===r.getFirstRow();let l=!1;const c=()=>({rowIndex:(i==null?void 0:i.getPinnedTopRowCount())??-1,rowPinned:"top"});if(o)return n==="top"?null:n&&s.isRowsToRender()?{rowIndex:r.getLastRow(),rowPinned:null}:i!=null&&i.isRowsToRender("top")?c():null;n&&(l=!0);const d=s.getRow(e.rowIndex),f=l?void 0:this.getNextStickyPosition(d,!0);return f||{rowIndex:t-1,rowPinned:n}}getCellAbove(e){var r;if(!e)return null;const t=((r=this.rowSpanSvc)==null?void 0:r.getCellStart(e))??e,n=this.getRowAbove({rowIndex:t.rowIndex,rowPinned:t.rowPinned});return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const{visibleCols:t,pagination:n}=this.beans,r=t.allCols;let i=e.rowIndex,s=e.rowPinned,o=t.getColAfter(e.column);if(!o){o=r[0];const l=this.getRowBelow(e);if(Ft(l)||!l.rowPinned&&!((n==null?void 0:n.isRowInPage(l))??!0))return null;i=l?l.rowIndex:null,s=l?l.rowPinned:null}return{rowIndex:i,column:o,rowPinned:s}}getNextTabbedCellBackwards(e){const{visibleCols:t,pagination:n}=this.beans,r=t.allCols;let i=e.rowIndex,s=e.rowPinned,o=t.getColBefore(e.column);if(!o){o=lt(r);const l=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(Ft(l)||!l.rowPinned&&!((n==null?void 0:n.isRowInPage(l))??!0))return null;i=l?l.rowIndex:null,s=l?l.rowPinned:null}return{rowIndex:i,column:o,rowPinned:s}}isSuppressNavigable(e,t){const{suppressNavigable:n}=e.colDef;if(typeof n=="boolean")return n;if(typeof n=="function"){const r=e.createColumnFunctionCallbackParams(t);return n(r)}return!1}};function zW(e){return e.focusSvc.getFocusedCell()}function jW(e){return e.focusSvc.clearFocusedCell()}function UW(e,t,n,r){e.focusSvc.setFocusedCell({rowIndex:t,column:n,rowPinned:r,forceBrowserFocus:!0})}function $W(e,t){var n;return((n=e.navigation)==null?void 0:n.tabToNextCell(!1,t))??!1}function KW(e,t){var n;return((n=e.navigation)==null?void 0:n.tabToNextCell(!0,t))??!1}function qW(e,t,n=!1){var i;const r=(i=e.headerNavigation)==null?void 0:i.getHeaderPositionForColumn(t,n);r&&e.focusSvc.focusHeaderPosition({headerPosition:r})}var YW=class extends te{constructor(){super(),this.beanName="navigation",this.onPageDown=TS(this.onPageDown,100),this.onPageUp=TS(this.onPageUp,100)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const n=e.key,r=e.altKey,i=e.ctrlKey||e.metaKey,s=!!this.beans.rangeSvc&&e.shiftKey,o=WN(this.gos,e);let l=!1;switch(n){case X.PAGE_HOME:case X.PAGE_END:!i&&!r&&(this.onHomeOrEndKey(n),l=!0);break;case X.LEFT:case X.RIGHT:case X.UP:case X.DOWN:if(!o)return!1;i&&!r&&!s&&(this.onCtrlUpDownLeftRight(n,o),l=!0);break;case X.PAGE_DOWN:case X.PAGE_UP:!i&&!r&&(l=this.handlePageUpDown(n,o,t));break}return l&&e.preventDefault(),l}handlePageUpDown(e,t,n){return n&&(t=this.beans.focusSvc.getFocusedCell()),t?(e===X.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo(e){const{scrollIndex:t,scrollType:n,scrollColumn:r,focusIndex:i,focusColumn:s}=e,{scrollFeature:o}=this.gridBodyCon;Ce(r)&&!r.isPinned()&&o.ensureColumnVisible(r),Ce(t)&&o.ensureIndexVisible(t,n),e.isAsync||o.ensureIndexVisible(i);const{focusSvc:l,rangeSvc:c}=this.beans;l.setFocusedCell({rowIndex:i,column:s,rowPinned:null,forceBrowserFocus:!0}),c==null||c.setRangeToCell({rowIndex:i,rowPinned:null,column:s})}onPageDown(e){const t=this.beans,n=Sg(t),r=this.getViewportHeight(),{pageBounds:i,rowModel:s,rowAutoHeight:o}=t,l=i.getPixelOffset(),c=n.top+r,d=s.getRowIndexAtPixel(c+l);o!=null&&o.active?this.navigateToNextPageWithAutoHeight(e,d):this.navigateToNextPage(e,d)}onPageUp(e){const t=this.beans,n=Sg(t),{pageBounds:r,rowModel:i,rowAutoHeight:s}=t,o=r.getPixelOffset(),l=n.top,c=i.getRowIndexAtPixel(l+o);s!=null&&s.active?this.navigateToNextPageWithAutoHeight(e,c,!0):this.navigateToNextPage(e,c,!0)}navigateToNextPage(e,t,n=!1){const{pageBounds:r,rowModel:i}=this.beans,s=this.getViewportHeight(),o=r.getFirstRow(),l=r.getLastRow(),c=r.getPixelOffset(),d=i.getRow(e.rowIndex),f=n?(d==null?void 0:d.rowHeight)-s-c:s-c,p=(d==null?void 0:d.rowTop)+f;let m=i.getRowIndexAtPixel(p+c);if(m===e.rowIndex){const y=n?-1:1;t=m=e.rowIndex+y}let C;n?(C="bottom",m<o&&(m=o),t<o&&(t=o)):(C="top",m>l&&(m=l),t>l&&(t=l)),this.isRowTallerThanView(i.getRow(m))&&(t=m,C="top"),this.navigateTo({scrollIndex:t,scrollType:C,scrollColumn:null,focusIndex:m,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,n=!1){this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const r=this.getNextFocusIndexForAutoHeight(e,n);this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:r,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){const n=t?-1:1,r=this.getViewportHeight(),{pageBounds:i,rowModel:s}=this.beans,o=i.getLastRow();let l=0,c=e.rowIndex;for(;c>=0&&c<=o;){const d=s.getRow(c);if(d){const f=d.rowHeight??0;if(l+f>r)break;l+=f}c+=n}return Math.max(0,Math.min(c,o))}getViewportHeight(){const e=this.beans,t=Sg(e),n=this.beans.scrollVisibleSvc.getScrollbarWidth();let r=t.bottom-t.top;return e.ctrlsSvc.get("center").isHorizontalScrollShowing()&&(r-=n),r}isRowTallerThanView(e){if(!e)return!1;const t=e.rowHeight;return typeof t!="number"?!1:t>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const n=this.beans.cellNavigation.getNextCellToFocus(e,t,!0),{rowIndex:r}=n,i=n.column;this.navigateTo({scrollIndex:r,scrollType:null,scrollColumn:i,focusIndex:r,focusColumn:i})}onHomeOrEndKey(e){const t=e===X.PAGE_HOME,{visibleCols:n,pageBounds:r,rowModel:i}=this.beans,s=n.allCols,o=t?r.getFirstRow():r.getLastRow(),l=i.getRow(o);if(!l)return;const c=(t?s:[...s].reverse()).find(d=>!d.isSuppressNavigable(l));c&&this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:c,focusIndex:o,focusColumn:c})}onTabKeyDown(e,t){const n=t.shiftKey,r=this.tabToNextCellCommon(e,n,t),i=this.beans,{ctrlsSvc:s,pageBounds:o,focusSvc:l,gos:c}=i;if(r!==!1){r?t.preventDefault():r===null&&s.get("gridCtrl").allowFocusForNextCoreContainer(n);return}if(n){const{rowIndex:d,rowPinned:f}=e.getRowPosition();(f?d===0:d===o.getFirstRow())&&(c.get("headerHeight")===0||to(i)?Ca(i,!0,!0):(t.preventDefault(),l.focusPreviousFromFirstCell(t)))}else e instanceof Vl&&e.focusCell(!0),(!n&&l.focusOverlay(!1)||Ca(i,n))&&t.preventDefault()}tabToNextCell(e,t){const n=this.beans,{focusSvc:r,rowRenderer:i}=n,s=r.getFocusedCell();if(!s)return!1;let o=Zo(n,s);return!o&&(o=i.getRowByPosition(s),!o||!o.isFullWidth())?!1:!!this.tabToNextCellCommon(o,e,t)}tabToNextCellCommon(e,t,n){let r=e.editing;if(!r&&e instanceof Vl){const o=e.rowCtrl;o&&(r=o.editing)}let i;return r?this.gos.get("editType")==="fullRow"?i=this.moveToNextEditingRow(e,t,n):i=this.moveToNextEditingCell(e,t,n):i=this.moveToNextCellNotEditing(e,t),i===null?i:i||!!this.beans.focusSvc.focusedHeader}moveToNextEditingCell(e,t,n=null){var s;const r=e.cellPosition;e.eGui.focus(),e.stopEditing();const i=this.findNextCellToFocusOn(r,t,!0);return i===!1?null:i==null?!1:((s=this.beans.editSvc)==null||s.startEditing(i,null,!0,n),i.focusCell(!1),!0)}moveToNextEditingRow(e,t,n=null){const r=e.cellPosition,i=this.findNextCellToFocusOn(r,t,!0);if(i===!1)return null;if(i==null)return!1;const s=i.cellPosition,o=this.isCellEditable(r),l=this.isCellEditable(s),c=s&&r.rowIndex===s.rowIndex&&r.rowPinned===s.rowPinned,{editSvc:d,rowEditSvc:f}=this.beans;if(o&&(d==null||d.setFocusOutOnEditor(e)),!c){const p=e.rowCtrl;d==null||d.stopRowEditing(p);const m=i.rowCtrl;f==null||f.startEditing(m,void 0,void 0,n)}return l?(d==null||d.setFocusInOnEditor(i),i.focusCell()):i.focusCell(!0),!0}moveToNextCellNotEditing(e,t){const n=this.beans.visibleCols.allCols;let r;e instanceof Qd?r={...e.getRowPosition(),column:t?n[0]:lt(n)}:r=e.getFocusedCellPosition();const i=this.findNextCellToFocusOn(r,t,!1);if(i===!1)return null;if(i instanceof Vl)i.focusCell(!0);else if(i)return this.tryToFocusFullWidthRow(i.getRowPosition(),t);return Ce(i)}findNextCellToFocusOn(e,t,n){let r=e;const i=this.beans,{cellNavigation:s,gos:o,focusSvc:l,rowRenderer:c,rangeSvc:d}=i;for(;;){e!==r&&(e=r),t||(r=this.getLastCellOfColSpan(r)),r=s.getNextTabbedCell(r,t);const f=o.getCallback("tabToNextCell");if(Ce(f)){const y=f({backwards:t,editing:n,previousCellPosition:e,nextCellPosition:r||null});if(y===!0)r=e;else{if(y===!1)return!1;r={rowIndex:y.rowIndex,column:y.column,rowPinned:y.rowPinned}}}if(!r)return null;if(r.rowIndex<0){const C=vi(i);return l.focusHeaderPosition({headerPosition:{headerRowIndex:C+r.rowIndex,column:r.column},fromCell:!0}),null}const p=o.get("editType")==="fullRow";if(n&&!p&&!this.isCellEditable(r))continue;this.ensureCellVisible(r);const m=Zo(i,r);if(!m){const C=c.getRowByPosition(r);if(!C||!C.isFullWidth()||n)continue;return C}if(!s.isSuppressNavigable(m.column,m.rowNode))return m.setFocusedCellPosition(r),d==null||d.setRangeToCell(r),m}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}lookupRowNodeForCell({rowIndex:e,rowPinned:t}){const{pinnedRowModel:n,rowModel:r}=this.beans;return t==="top"?n==null?void 0:n.getPinnedTopRow(e):t==="bottom"?n==null?void 0:n.getPinnedBottomRow(e):r.getRow(e)}navigateToNextCell(e,t,n,r){let i=n,s=!1;const o=this.beans,{cellNavigation:l,focusSvc:c,gos:d}=o;for(;i&&(i===n||!this.isValidNavigateCell(i));)d.get("enableRtl")?t===X.LEFT&&(i=this.getLastCellOfColSpan(i)):t===X.RIGHT&&(i=this.getLastCellOfColSpan(i)),i=l.getNextCellToFocus(t,i),s=Ft(i);if(s&&e&&e.key===X.UP&&(i={rowIndex:-1,rowPinned:null,column:n.column}),r){const p=d.getCallback("navigateToNextCell");if(Ce(p)){const C=p({key:t,previousCellPosition:n,nextCellPosition:i||null,event:e});Ce(C)?i={rowPinned:C.rowPinned,rowIndex:C.rowIndex,column:C.column}:i=null}}if(!i)return;if(i.rowIndex<0){const p=vi(o);c.focusHeaderPosition({headerPosition:{headerRowIndex:p+i.rowIndex,column:n.column},event:e||void 0,fromCell:!0});return}const f=this.getNormalisedPosition(i);f?this.focusPosition(f):this.tryToFocusFullWidthRow(i)}getNormalisedPosition(e){var r;if(!!((r=this.beans.spannedRowRenderer)!=null&&r.getCellByPosition(e)))return e;this.ensureCellVisible(e);const n=Zo(this.beans,e);return n?(e=n.getFocusedCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){const{visibleCols:n,rowRenderer:r,focusSvc:i,eventSvc:s}=this.beans,o=n.allCols,l=r.getRowByPosition(e);if(!l||!l.isFullWidth())return!1;const c=i.getFocusedCell(),d={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?lt(o):o[0])};this.focusPosition(d);const f=t??(c!=null&&UN(d,c));return s.dispatchEvent({type:"fullWidthRowFocused",rowIndex:d.rowIndex,rowPinned:d.rowPinned,column:d.column,isFullWidthCell:!0,fromBelow:f}),!0}focusPosition(e){const{focusSvc:t,rangeSvc:n}=this.beans;t.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),n==null||n.setRangeToCell(e)}isValidNavigateCell(e){return!!qd(this.beans,e)}getLastCellOfColSpan(e){const t=Zo(this.beans,e);if(!t)return e;const n=t.getColSpanningList();return n.length===1?e:{rowIndex:e.rowIndex,column:lt(n),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=NE(this.gos),n=this.beans.rowModel.getRow(e.rowIndex),r=t&&(n==null?void 0:n.sticky),{scrollFeature:i}=this.gridBodyCon;!r&&Ft(e.rowPinned)&&i.ensureIndexVisible(e.rowIndex),e.column.isPinned()||i.ensureColumnVisible(e.column)}};function Sg(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}var QW={moduleName:"KeyboardNavigation",version:ve,beans:[YW,_W,xW],apiFunctions:{getFocusedCell:zW,clearFocusedCell:jW,setFocusedCell:UW,setFocusedHeader:qW,tabToNextCell:$W,tabToPreviousCell:KW}},JW=class extends te{constructor(){super(...arguments),this.beanName="pageBoundsListener"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventSvc.dispatchEvent({type:"paginationChanged",animate:(e==null?void 0:e.animate)??!1,newData:(e==null?void 0:e.newData)??!1,newPage:(e==null?void 0:e.newPage)??!1,newPageSize:(e==null?void 0:e.newPageSize)??!1,keepRenderedRows:(e==null?void 0:e.keepRenderedRows)??!1})}calculatePages(){const{pageBounds:e,pagination:t,rowModel:n}=this.beans;t?t.calculatePages():e.calculateBounds(0,n.getRowCount()-1)}},XW=class extends te{constructor(){super(...arguments),this.beanName="pageBounds",this.pixelOffset=0}getFirstRow(){var e;return((e=this.topRowBounds)==null?void 0:e.rowIndex)??-1}getLastRow(){var e;return((e=this.bottomRowBounds)==null?void 0:e.rowIndex)??-1}getCurrentPageHeight(){const{topRowBounds:e,bottomRowBounds:t}=this;return!e||!t?0:Math.max(t.rowTop+t.rowHeight-e.rowTop,0)}getCurrentPagePixelRange(){const{topRowBounds:e,bottomRowBounds:t}=this,n=(e==null?void 0:e.rowTop)??0,r=t?t.rowTop+t.rowHeight:0;return{pageFirstPixel:n,pageLastPixel:r}}calculateBounds(e,t){const{rowModel:n}=this.beans,r=n.getRowBounds(e);r&&(r.rowIndex=e),this.topRowBounds=r;const i=n.getRowBounds(t);i&&(i.rowIndex=t),this.bottomRowBounds=i,this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){var t;const e=((t=this.topRowBounds)==null?void 0:t.rowTop)??0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventSvc.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},ZW=".ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top{min-width:0;overflow:hidden;position:relative}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;height:100%;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}",e2=class extends te{constructor(e,t){super(),this.isLeft=e,this.elements=t,this.getWidth=e?()=>this.beans.pinnedCols.leftWidth:()=>this.beans.pinnedCols.rightWidth}postConstruct(){this.addManagedEventListeners({[`${this.isLeft?"left":"right"}PinnedWidthChanged`]:this.onPinnedWidthChanged.bind(this)})}onPinnedWidthChanged(){const e=this.getWidth(),t=e>0;for(const n of this.elements)n&&(Ot(n,t),Qr(n,e))}},t2=class extends te{constructor(){super(...arguments),this.beanName="pinnedCols"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,t=>{this.gridBodyCtrl=t.gridBodyCtrl});const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const{gos:e,visibleCols:t,eventSvc:n}=this.beans,r=tn(e,"print"),i=r?0:t.getColsLeftWidth(),s=r?0:t.getDisplayedColumnsRightWidth();i!=this.leftWidth&&(this.leftWidth=i,n.dispatchEvent({type:"leftPinnedWidthChanged"})),s!=this.rightWidth&&(this.rightWidth=s,n.dispatchEvent({type:"rightPinnedWidthChanged"}))}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.eBodyViewport,t=Jl(e);if(t<=50)return;const n=this.getPinnedColumnsOverflowingViewport(t-50),r=this.gos.getCallback("processUnpinnedColumns"),{columns:i,hasLockedPinned:s}=n;let o=i;!o.length&&!s||(r&&(o=r({columns:o,viewportWidth:t})),!(!o||!o.length)&&(o=o.filter(l=>!vu(l)),this.setColsPinned(o,null,"viewportSizeFeature")))}createPinnedWidthFeature(e,...t){return new e2(e,t)}setColsPinned(e,t,n){const{colModel:r,colAnimation:i,visibleCols:s,gos:o}=this.beans;if(!r.cols||!(e!=null&&e.length))return;if(tn(o,"print")){he(37);return}i==null||i.start();let l;t===!0||t==="left"?l="left":t==="right"?l="right":l=null;const c=[];e.forEach(d=>{if(!d)return;const f=r.getCol(d);f&&f.getPinned()!==l&&(this.setColPinned(f,l),c.push(f))}),c.length&&(s.refresh(n),e0(this.eventSvc,c,n)),i==null||i.finish()}initCol(e){const{pinned:t,initialPinned:n}=e.colDef;t!==void 0?this.setColPinned(e,t):this.setColPinned(e,n)}setColPinned(e,t){t===!0||t==="left"?e.pinned="left":t==="right"?e.pinned="right":e.pinned=null,e.dispatchStateUpdatedEvent("pinned")}setupHeaderPinnedWidth(e){const{scrollVisibleSvc:t}=this.beans;if(e.pinned==null)return;const n=e.pinned==="left",r=e.pinned==="right";e.hidden=!0;const i=()=>{const s=n?this.leftWidth:this.rightWidth;if(s==null)return;const o=s==0,l=e.hidden!==o,c=this.gos.get("enableRtl"),d=t.getScrollbarWidth(),p=t.verticalScrollShowing&&(c&&n||!c&&r)?s+d:s;e.comp.setPinnedContainerWidth(`${p}px`),e.comp.setDisplayed(!o),l&&(e.hidden=o,e.refresh())};e.addManagedEventListeners({leftPinnedWidthChanged:i,rightPinnedWidthChanged:i,scrollVisibilityChanged:i,scrollbarWidthChanged:i})}getHeaderResizeDiff(e,t){if(t.getPinned()){const{leftWidth:r,rightWidth:i}=this,s=Jl(this.beans.ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50;if(r+i+e>s)if(s>r+i)e=s-r-i;else return 0}return e}getPinnedColumnsOverflowingViewport(e){const t=this.rightWidth??0,n=this.leftWidth??0,r=t+n;let i=!1;if(r<e)return{columns:[],hasLockedPinned:i};const{visibleCols:s}=this.beans,o=[...s.leftCols],l=[...s.rightCols];let c=0,d=0;const f=0,p=[];let m=r-f-e;for(;(d<o.length||c<l.length)&&m>0;){if(c<l.length){const C=l[c++];if(C.colDef.lockPinned){i=!0;continue}m-=C.getActualWidth(),p.push(C)}if(d<o.length&&m>0){const C=o[d++];if(C.colDef.lockPinned){i=!0;continue}m-=C.getActualWidth(),p.push(C)}}return{columns:p,hasLockedPinned:i}}},n2={moduleName:"PinnedColumn",version:ve,beans:[t2],css:[ZW]},r2=class extends te{constructor(){super(),this.beanName="ariaAnnounce",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.lastAnnouncement="",this.updateAnnouncement=en(this,this.updateAnnouncement.bind(this),200)}postConstruct(){const e=this.beans,t=Gt(e),n=this.descriptionContainer=t.createElement("div");n.classList.add("ag-aria-description-container"),fE(n,"polite"),X1(n,"additions text"),J1(n,!0),e.eGridDiv.appendChild(n)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{if(this.isAlive()&&this.descriptionContainer){let t=e;this.lastAnnouncement===t&&(t=`${t}.`),this.lastAnnouncement=t,this.descriptionContainer.textContent=t}},50)}destroy(){var t;super.destroy();const{descriptionContainer:e}=this;e&&(zn(e),(t=e.parentElement)==null||t.removeChild(e)),this.descriptionContainer=null,this.pendingAnnouncements.clear()}},i2={moduleName:"Aria",version:ve,beans:[r2]};function s2(e){var t;(t=e.overlays)==null||t.showLoadingOverlay()}function o2(e){var t;(t=e.overlays)==null||t.showNoRowsOverlay()}function a2(e){var t;(t=e.overlays)==null||t.hideOverlay()}var l2=".ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-loading-wrapper{pointer-events:all}.ag-overlay-loading-center{background:var(--ag-background-color);border:1px solid var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);padding:var(--ag-spacing)}",rF=class extends Pt{constructor(){super(`
            <div class="ag-overlay" role="presentation">
                <div class="ag-overlay-panel" role="presentation">
                    <div class="ag-overlay-wrapper" data-ref="eOverlayWrapper" role="presentation"></div>
                </div>
            </div>`),this.eOverlayWrapper=Ie,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeCssClass=null,this.elToFocusAfter=null,this.registerCSS(l2)}handleKeyDown(e){if(e.key!==X.TAB||e.defaultPrevented||Si(e))return;const t=this.beans;if(vo(t,this.eOverlayWrapper,!1,e.shiftKey))return;let r=!1;e.shiftKey?r=t.focusSvc.focusGridView({column:lt(t.visibleCols.allCols),backwards:!0,canFocusOverlay:!1}):r=Ca(t,!1),r&&e.preventDefault()}updateLayoutClasses(e,t){const n=this.eOverlayWrapper.classList,{AUTO_HEIGHT:r,NORMAL:i,PRINT:s}=dd;n.toggle(r,t.autoHeight),n.toggle(i,t.normal),n.toggle(s,t.print)}postConstruct(){this.createManagedBean(new vC(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.beans.overlays.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeCssClass&&t.toggle(this.activeCssClass,!1),this.activeCssClass=e,t.toggle(e,!0)}showOverlay(e,t,n,r){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),n&&this.isGridFocused()){const i=Nt(this.beans);i&&!LE(this.beans)&&(this.elToFocusAfter=i)}e.then(i=>{if(this.activePromise!==e){this.activeOverlay!==i&&(this.destroyBean(i),i=null);return}if(this.activePromise=null,!!i){if(this.activeOverlay!==i&&(this.eOverlayWrapper.appendChild(i.getGui()),this.activeOverlay=i,r)){const s=i;this.updateListenerDestroyFunc=this.addManagedPropertyListener(r,({currentValue:o})=>{var l;(l=s.refresh)==null||l.call(s,Le(this.gos,{...o??{}}))})}n&&this.isGridFocused()&&ho(this.eOverlayWrapper)}})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){var r;this.activePromise=null;const e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.isGridFocused()&&(t=null);const n=this.updateListenerDestroyFunc;n&&(n(),this.updateListenerDestroyFunc=null),this.destroyBean(e),zn(this.eOverlayWrapper),(r=t==null?void 0:t.focus)==null||r.call(t,{preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}isGridFocused(){const e=Nt(this.beans);return!!e&&this.beans.eGridDiv.contains(e)}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.beans.overlays.setOverlayWrapperComp(void 0),super.destroy()}},u2={selector:"AG-OVERLAY-WRAPPER",component:rF},c2=class extends te{constructor(){super(...arguments),this.beanName="overlays",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}postConstruct(){this.isClientSide=un(this.gos),this.isServerSide=!this.isClientSide&&mo(this.gos);const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.refreshWrapperPadding.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.eWrapper=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.eWrapper}isExclusive(){return this.state===1&&!!this.eWrapper}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos,t=e.get("loading");!t&&(t!==void 0||e.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1;const e=this.gos;e.get("loading")||e.get("suppressNoRowsOverlay")||this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){he(99);return}this.doHideOverlay()}getOverlayWrapperSelector(){return u2}getOverlayWrapperCompClass(){return rF}updateOverlayVisibility(){if(!this.eWrapper){this.state=0;return}const{state:e,isClientSide:t,isServerSide:n,beans:{gos:r,colModel:i,rowModel:s}}=this;let o=this.gos.get("loading");o!==void 0&&(this.showInitialOverlay=!1),this.showInitialOverlay&&o===void 0&&!r.get("suppressLoadingOverlay")&&(o=!r.get("columnDefs")||!i.ready||!r.get("rowData")&&t),o?e!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,t&&s.isEmpty()&&!r.get("suppressNoRowsOverlay")?e!==2&&this.doShowNoRowsOverlay():(e===1||!n&&e!==0)&&this.doHideOverlay())}doShowLoadingOverlay(){this.eWrapper&&(this.state=1,this.showOverlay(eN(this.beans.userCompFactory,Le(this.gos,{})),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.eWrapper&&(this.state=2,this.showOverlay(tN(this.beans.userCompFactory,Le(this.gos,{})),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.eWrapper&&(this.state=0,this.eWrapper.hideOverlay(),this.updateExclusive())}showOverlay(e,t,n){var i;const r=(e==null?void 0:e.newAgStackInstance())??null;(i=this.eWrapper)==null||i.showOverlay(r,t,this.isExclusive(),n),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventSvc.dispatchEvent({type:"overlayExclusiveChanged"})}refreshWrapperPadding(){const e=this.eWrapper;if(!e)return;let t=0;if(this.state===2){const n=this.beans.ctrlsSvc.get("gridHeaderCtrl");t=(n==null?void 0:n.headerHeight)||0}else this.wrapperPadding!==0&&(t=0);this.wrapperPadding!==t&&(this.wrapperPadding=t,e.updateOverlayWrapperPaddingTop(t))}},d2={moduleName:"Overlay",version:ve,userComponents:{agLoadingOverlay:$B,agNoRowsOverlay:KB},apiFunctions:{showLoadingOverlay:s2,showNoRowsOverlay:o2,hideOverlay:a2},beans:[c2]},h2=class extends te{constructor(){super(...arguments),this.beanName="rowContainerHeight",this.scrollY=0,this.uiBodyHeight=0}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=uO(),uo(this.gos,"RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}updateOffset(){if(!this.stretching)return;const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;uo(this.gos,`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventSvc.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventSvc.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),n=e/t;return this.maxScrollY*n}},f2=400,p2=class extends te{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach(s=>s.onCellSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(s=>s.updateRangeBordersIfRangeCount())},n=()=>{this.eventSvc.addEventListener("cellSelectionChanged",e),this.eventSvc.addEventListener("columnMoved",t),this.eventSvc.addEventListener("columnPinned",t),this.eventSvc.addEventListener("columnVisible",t)},r=()=>{this.eventSvc.removeEventListener("cellSelectionChanged",e),this.eventSvc.removeEventListener("columnMoved",t),this.eventSvc.removeEventListener("columnPinned",t),this.eventSvc.removeEventListener("columnVisible",t)};this.addDestroyFunc(()=>r()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{ms(this.gos)?n():r()}),ms(this.gos)&&n()}}wireBeans(e){this.pageBounds=e.pageBounds,this.colModel=e.colModel,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusSvc=e.focusSvc,this.rowContainerHeight=e.rowContainerHeight,this.ctrlsSvc=e.ctrlsSvc}postConstruct(){this.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",n=>this.onSuppressCellFocusChanged(n.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.addManagedPropertyListener("cellSelection",({currentValue:n,previousValue:r})=>{(!r&&n||r&&!n)&&this.redrawRows()});const{stickyRowSvc:e,gos:t}=this.beans;if(e)this.stickyRowFeature=e.createStickyRowFeature(this,this.createRowCon.bind(this),this.destroyRowCtrls.bind(this));else{const n=this.gridBodyCtrl;n.setStickyTopHeight(0),n.setStickyBottomHeight(0)}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=tn(t,"print"),this.embedFullWidthRows=this.printLayout||t.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new g2(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){var e;return((e=this.stickyRowFeature)==null?void 0:e.stickyTopRowCtrls)??[]}getStickyBottomRowCtrls(){var e;return((e=this.stickyRowFeature)==null?void 0:e.stickyBottomRowCtrls)??[]}updateAllRowCtrls(){var r;const e=Object.values(this.rowCtrlsByRowIndex),t=Object.values(this.zombieRowCtrls),n=((r=this.cachedRowCtrls)==null?void 0:r.getEntries())??[];t.length>0||n.length>0?this.allRowCtrls=[...e,...t,...n]:this.allRowCtrls=e}onCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(t=>t.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>{this.onCellFocusChanged(e)},cellFocusCleared:()=>this.onCellFocusChanged(),flashCells:e=>{const{cellFlashSvc:t}=this.beans;t&&this.getAllCellCtrls().forEach(n=>t.onFlashCells(n,e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.colModel.getCols().forEach(t=>{const n=c=>{this.getAllCellCtrls().forEach(d=>{d.column===t&&c(d)})},r=()=>{n(c=>c.onLeftChanged())},i=()=>{n(c=>c.onWidthChanged())},s=()=>{n(c=>c.onFirstRightPinnedChanged())},o=()=>{n(c=>c.onLastLeftPinnedChanged())},l=()=>{n(c=>c.onColDefChanged())};t.__addEventListener("leftChanged",r),t.__addEventListener("widthChanged",i),t.__addEventListener("firstRightPinnedChanged",s),t.__addEventListener("lastLeftPinnedChanged",o),t.__addEventListener("colDefChanged",l),this.destroyFuncsForColumnListeners.push(()=>{t.__removeEventListener("leftChanged",r),t.__removeEventListener("widthChanged",i),t.__removeEventListener("firstRightPinnedChanged",s),t.__removeEventListener("lastLeftPinnedChanged",o),t.__removeEventListener("colDefChanged",l)})})}onDomLayoutChanged(){const e=tn(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),n=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,n&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsNotSpanningForColumn(e){const t=[];return this.getAllRowCtrls().forEach(n=>{var i;const r=(i=n.getCellCtrl(e,!0))==null?void 0:i.eGui;r&&t.push(r)}),t}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,"top"),this.refreshFloatingRows(this.bottomRowCtrls,"bottom")}refreshFloatingRows(e,t){const{pinnedRowModel:n,beans:r,printLayout:i}=this,s=Object.fromEntries(e.map(l=>[l.rowNode.id,l]));n==null||n.forEachPinnedRow(t,(l,c)=>{const d=e[c];d&&n.getPinnedRowById(d.rowNode.id,t)===void 0&&(d.destroyFirstPass(),d.destroySecondPass()),l.id in s?(e[c]=s[l.id],delete s[l.id]):e[c]=new Qd(l,r,!1,!1,i)});const o=(t==="top"?n==null?void 0:n.getPinnedTopRowCount():n==null?void 0:n.getPinnedBottomRowCount())??0;e.length=o}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}redrawRow(e,t=!1){var n,r;if(e.sticky)(n=this.stickyRowFeature)==null||n.refreshStickyNode(e);else if((r=this.cachedRowCtrls)!=null&&r.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const i=s=>{const o=s[e.rowIndex];o&&o.rowNode===e&&(o.destroyFirstPass(),o.destroySecondPass(),s[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":i(this.topRowCtrls);break;case"bottom":i(this.bottomRowCtrls);break;default:i(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(e!=null){e==null||e.forEach(n=>this.redrawRow(n,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(e){const t=e!=null&&e.suppressKeepFocus?null:this.focusSvc.getFocusCellToUseAfterRefresh();if(t==null)return null;const n=Nt(this.beans),r=Bd(this.gos,n,$d),i=Bd(this.gos,n,su);return r||i?t:null}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const t=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);const n=!e.domLayoutChanged&&!!e.recycleRows,r=e.animate&&na(this.gos),i=n?this.getRowsToRecycle():null;n||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender();const{stickyRowFeature:s}=this;if(s){s.checkStickyRows();const o=s.extraTopHeight+s.extraBottomHeight;o&&this.updateContainerHeights(o)}this.recycleRows(i,r),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){var r;const t=e.newData||e.newPage,n=this.gos.get("suppressScrollOnNewData");t&&!n&&(this.gridBodyCtrl.scrollFeature.scrollToTop(),(r=this.stickyRowFeature)==null||r.resetOffsets())}updateContainerHeights(e=0){const{rowContainerHeight:t}=this;if(this.printLayout){t.setModelHeight(null);return}let n=this.pageBounds.getCurrentPageHeight();n===0&&(n=1),t.setModelHeight(n+e)}getLockOnRefresh(){var e,t;if(this.refreshInProgress)throw new Error(hs(252));this.refreshInProgress=!0,(t=(e=this.beans.frameworkOverrides).getLockOnRefresh)==null||t.call(e)}releaseLockOnRefresh(){var e,t;this.refreshInProgress=!1,(t=(e=this.beans.frameworkOverrides).releaseLockOnRefresh)==null||t.call(e)}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){e&&this.focusSvc.restoreFocusedCell(e,()=>{this.onCellFocusChanged(Le(this.gos,{rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))})}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),n=t.length;for(let r=0;r<n;r++){const i=t[r].getAllCellCtrls(),s=i.length;for(let o=0;o<s;o++)e.push(i[o])}return e}getAllRowCtrls(){const{spannedRowRenderer:e}=this.beans,t=this.getStickyTopRowCtrls(),n=this.getStickyBottomRowCtrls();return[...this.topRowCtrls,...this.bottomRowCtrls,...t,...n,...(e==null?void 0:e.getCtrls("top"))??[],...(e==null?void 0:e.getCtrls("bottom"))??[],...(e==null?void 0:e.getCtrls("center"))??[],...Object.values(this.rowCtrlsByRowIndex)]}addRenderedRowListener(e,t,n){const r=this.rowCtrlsByRowIndex[t];r&&r.addEventListener(e,n)}refreshCells(e={}){const t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};for(const n of this.getCellCtrls(e.rowNodes,e.columns))n.refreshOrDestroyCell(t);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=null;this.stickyRowFeature&&(t=this.getCellToRestoreFocusToAfterRefresh()||null);for(const n of this.getRowCtrls(e)){if(!n.isFullWidth())continue;n.refreshFullWidth()||this.redrawRow(n.rowNode,!0)}this.dispatchDisplayedRowsChanged(!1),t&&this.restoreFocusedCell(t)}getRowCtrls(e){const t=mm(e),n=this.getAllRowCtrls();return!e||!t?n:n.filter(r=>{const i=r.rowNode;return Cm(i,t)})}getCellCtrls(e,t){let n;Ce(t)&&(n={},t.forEach(i=>{const s=this.colModel.getCol(i);Ce(s)&&(n[s.getId()]=!0)}));const r=[];return this.getRowCtrls(e).forEach(i=>{i.getAllCellCtrls().forEach(s=>{const o=s.column.getId();n&&!n[o]||r.push(s)})}),r}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){var n;const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),(n=this.stickyRowFeature)==null||n.destroyStickyCtrls()}getRowsToRecycle(){const e=[];for(const n of Object.keys(this.rowCtrlsByRowIndex))this.rowCtrlsByRowIndex[n].rowNode.id==null&&e.push(n);this.removeRowCtrls(e);const t={};for(const n of Object.values(this.rowCtrlsByRowIndex)){const r=n.rowNode;t[r.id]=n}return this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(n=>{const r=this.rowCtrlsByRowIndex[n];r&&(r.destroyFirstPass(t),r.destroySecondPass()),delete this.rowCtrlsByRowIndex[n]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){var c;const{afterScroll:t}=e;let n;const r=this.stickyRowFeature;r&&(n=this.getCellToRestoreFocusToAfterRefresh()||void 0);const i=this.firstRenderedRow,s=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let o=!1;if(r){o=r.checkStickyRows();const d=r.extraTopHeight+r.extraBottomHeight;d&&this.updateContainerHeights(d)}const l=this.firstRenderedRow!==i||this.lastRenderedRow!==s;if(!(t&&!o&&!l)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,t),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(t&&!o),n!=null)){const d=this.getCellToRestoreFocusToAfterRefresh();n!=null&&d==null&&((c=this.beans.animationFrameSvc)==null||c.flushAllFrames(),this.restoreFocusedCell(n))}}removeRowCompsNotToDraw(e,t){const n={};e.forEach(s=>n[s]=!0);const i=Object.keys(this.rowCtrlsByRowIndex).filter(s=>!n[s]);this.removeRowCtrls(i,t)}calculateIndexesToDraw(e){const t=[];for(let i=this.firstRenderedRow;i<=this.lastRenderedRow;i++)t.push(i);const n=i=>{const s=i.rowNode.rowIndex;s!=null&&(s<this.firstRenderedRow||s>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(i)&&t.push(s)};for(const i of Object.values(this.rowCtrlsByRowIndex))n(i);if(e)for(const i of Object.values(e))n(i);t.sort((i,s)=>i-s);const r=[];for(let i=0;i<t.length;i++){const s=t[i],o=this.rowModel.getRow(s);o&&!o.sticky&&r.push(s)}return r}recycleRows(e,t=!1,n=!1){const r=this.calculateIndexesToDraw(e);if((this.printLayout||n)&&(t=!1),this.removeRowCompsNotToDraw(r,!t),r.forEach(i=>{this.createOrUpdateRowCtrl(i,e,t,n)}),e){const{animationFrameSvc:i}=this.beans;i&&n&&!this.gos.get("suppressAnimationFrame")&&!this.printLayout?i.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventSvc.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const{visibleCols:e}=this.beans,t=e.isPinningLeft(),n=e.isPinningRight();(this.pinningLeft!==t||n!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=n,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const n=t.rowNode.rowIndex;e.push(n.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=mm(e);return this.getAllRowCtrls().filter(n=>{if(!n.isFullWidth())return!1;const r=n.rowNode;return!(t!=null&&!Cm(r,t))})}createOrUpdateRowCtrl(e,t,n,r){let i,s=this.rowCtrlsByRowIndex[e];if(s||(i=this.rowModel.getRow(e),Ce(i)&&Ce(t)&&t[i.id]&&i.alreadyRendered&&(s=t[i.id],t[i.id]=null)),!s)if(i||(i=this.rowModel.getRow(e)),Ce(i))s=this.createRowCon(i,n,r);else return;return i&&(i.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=s,s}destroyRowCtrls(e,t){const n=[];if(e){for(const r of Object.values(e))if(r){if(this.cachedRowCtrls&&r.isCacheable()){this.cachedRowCtrls.addRow(r);continue}if(r.destroyFirstPass(!t),t){const i=r.instanceId;this.zombieRowCtrls[i]=r,n.push(()=>{r.destroySecondPass(),delete this.zombieRowCtrls[i]})}else r.destroySecondPass()}}t&&(n.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),window.setTimeout(()=>n.forEach(r=>r()),f2))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),t=Zs(this.beans);return e*t}workOutFirstAndLastRowsToRender(){const{rowContainerHeight:e,pageBounds:t,rowModel:n}=this;e.updateOffset();let r,i;if(!n.isRowsToRender())r=0,i=-1;else if(this.printLayout)this.beans.environment.refreshRowHeightVariable(),r=t.getFirstRow(),i=t.getLastRow();else{const f=this.getRowBufferInPixels(),p=this.ctrlsSvc.getScrollFeature(),m=this.gos.get("suppressRowVirtualisation");let C=!1,y,b;do{const D=t.getPixelOffset(),{pageFirstPixel:A,pageLastPixel:O}=t.getCurrentPagePixelRange(),T=e.divStretchOffset,G=p.getVScrollPosition(),$=G.top,U=G.bottom;m?(y=A+T,b=O+T):(y=Math.max($+D-f,A)+T,b=Math.min(U+D+f,O)+T),this.firstVisibleVPixel=Math.max($+D,A)+T,this.lastVisibleVPixel=Math.min(U+D,O)+T,C=this.ensureAllRowsInRangeHaveHeightsCalculated(y,b)}while(C);let R=n.getRowIndexAtPixel(y),x=n.getRowIndexAtPixel(b);const E=t.getFirstRow(),P=t.getLastRow();R<E&&(R=E),x>P&&(x=P),r=R,i=x}const s=tn(this.gos,"normal"),o=this.gos.get("suppressMaxRenderedRowRestriction"),l=Math.max(this.getRowBuffer(),500);s&&!o&&i-r>l&&(i=r+l);const c=r!==this.firstRenderedRow,d=i!==this.lastRenderedRow;(c||d)&&(this.firstRenderedRow=r,this.lastRenderedRow=i,this.eventSvc.dispatchEvent({type:"viewportChanged",firstRow:r,lastRow:i}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,ki(this.beans,()=>{this.beans.eventSvc.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){var l,c;const n=(l=this.pinnedRowModel)==null?void 0:l.ensureRowHeightsValid(),r=(c=this.stickyRowFeature)==null?void 0:c.ensureRowHeightsValid(),{pageBounds:i,rowModel:s}=this,o=s.ensureRowHeightsValid(e,t,i.getFirstRow(),i.getLastRow());return(o||r)&&this.eventSvc.dispatchEvent({type:"recalculateRowBounds"}),r||o||n?(this.updateContainerHeights(),!0):!1}doNotUnVirtualiseRow(e){const r=e.rowNode,i=this.focusSvc.isRowNodeFocused(r),s=e.editing,o=r.detail;return i||s||o?!!this.isRowPresent(r):!1}isRowPresent(e){var t;return this.rowModel.isRowPresent(e)?((t=this.beans.pagination)==null?void 0:t.isRowPresent(e))??!0:!1}createRowCon(e,t,n){var l;const r=((l=this.cachedRowCtrls)==null?void 0:l.getRow(e))??null;if(r)return r;const i=this.gos.get("suppressAnimationFrame"),s=n&&!i&&!this.printLayout&&!!this.beans.animationFrameSvc;return new Qd(e,this.beans,t,s,this.printLayout)}getRenderedNodes(){const e=Object.values(this.rowCtrlsByRowIndex).map(r=>r.rowNode),t=this.getStickyTopRowCtrls().map(r=>r.rowNode),n=this.getStickyBottomRowCtrls().map(r=>r.rowNode);return[...t,...e,...n]}getRowByPosition(e){let t;const{rowIndex:n}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[n];break;case"bottom":t=this.bottomRowCtrls[n];break;default:t=this.rowCtrlsByRowIndex[n],t||(t=this.getStickyTopRowCtrls().find(r=>r.rowNode.rowIndex===n)||null,t||(t=this.getStickyBottomRowCtrls().find(r=>r.rowNode.rowIndex===n)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const r=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!r}},g2=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.rowNode.id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.rowNode!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const t=e.id,n=this.entriesMap[t];delete this.entriesMap[t],Pr(this.entriesList,n)}removeFromCache(e){const t=e.rowNode.id;delete this.entriesMap[t],Pr(this.entriesList,e)}getEntries(){return this.entriesList}};function mm(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(n=>{const r=n.id;switch(n.rowPinned){case"top":t.top[r]=n;break;case"bottom":t.bottom[r]=n;break;default:t.normal[r]=n;break}}),t}function Cm(e,t){const n=e.id;switch(e.rowPinned){case"top":return t.top[n]!=null;case"bottom":return t.bottom[n]!=null;default:return t.normal[n]!=null}}var m2=class extends te{constructor(){super(...arguments),this.beanName="rowNodeSorter"}postConstruct(){const{gos:e}=this;this.isAccentedSort=e.get("accentedSort"),this.primaryColumnsSortGroups=qr(e),this.addManagedPropertyListener("accentedSort",t=>this.isAccentedSort=t.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=qr(e))}doFullSort(e,t){const n=e.map((r,i)=>({currentPos:i,rowNode:r}));return n.sort(this.compareRowNodes.bind(this,t)),n.map(r=>r.rowNode)}compareRowNodes(e,t,n){const r=t.rowNode,i=n.rowNode;for(let s=0,o=e.length;s<o;s++){const l=e[s],c=l.sort==="desc",d=this.getValue(r,l.column),f=this.getValue(i,l.column);let p;const m=this.getComparator(l,r);if(m?p=m(d,f,r,i,c):p=CO(d,f,this.isAccentedSort),!isNaN(p)&&p!==0)return l.sort==="asc"?p:p*-1}return t.currentPos-n.currentPos}getComparator(e,t){const n=e.column,r=n.getColDef().comparator;if(r!=null)return r;if(!n.getColDef().showRowGroup)return;const i=!t.group&&n.getColDef().field;if(!i)return;const s=this.beans.colModel.getColDefCol(i);if(s)return s.getColDef().comparator}getValue(e,t){var l,c;const{valueSvc:n,colModel:r,showRowGroupCols:i,gos:s}=this.beans;if(!this.primaryColumnsSortGroups)return n.getValue(t,e,!1);if(e.rowGroupColumn===t){if(hC(s,r.isPivotActive())){const p=(l=e.allLeafChildren)==null?void 0:l[0];return p?n.getValue(t,p,!1):void 0}const f=i==null?void 0:i.getShowRowGroupCol(t.getId());return f?(c=e.groupData)==null?void 0:c[f.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return n.getValue(t,e,!1)}};function C2(e){var t;(t=e.sortSvc)==null||t.onSortChanged("api")}function Pl(e,t){return`<span data-ref="eSort${e}" class="ag-sort-indicator-icon ag-sort-${t} ag-hidden" aria-hidden="true"></span>`}var v2=`<span class="ag-sort-indicator-container">
        ${Pl("Order","order")}
        ${Pl("Asc","ascending-icon")}
        ${Pl("Desc","descending-icon")}
        ${Pl("Mixed","mixed-icon")}
        ${Pl("None","none-icon")}
    </span>`,MC=class extends Pt{constructor(e){super(),this.eSortOrder=Ie,this.eSortAsc=Ie,this.eSortDesc=Ie,this.eSortMixed=Ie,this.eSortNone=Ie,e||this.setTemplate(v2)}attachCustomElements(e,t,n,r,i){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=n,this.eSortMixed=r,this.eSortNone=i}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!e.isSortable()&&!e.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const n=this.updateIcons.bind(this),r=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",n),this.addManagedEventListeners({newColumnsLoaded:n,sortChanged:r,columnRowGroupChanged:r}),this.onSortChanged()}addInIcon(e,t,n){if(t==null)return;const r=rr(e,this.beans,n);r&&t.appendChild(r)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const{eSortAsc:e,eSortDesc:t,eSortNone:n,column:r,gos:i,beans:s}=this,o=s.sortSvc.getDisplaySortForColumn(r);if(e&&Ot(e,o==="asc",{skipAriaHidden:!0}),t&&Ot(t,o==="desc",{skipAriaHidden:!0}),n){const l=!r.getColDef().unSortIcon&&!i.get("unSortIcon"),c=o==null;Ot(n,!l&&c,{skipAriaHidden:!0})}}setupMultiSortIndicator(){const{eSortMixed:e,column:t,gos:n}=this;this.addInIcon("sortUnSort",e,t);const r=t.getColDef().showRowGroup;qr(n)&&r&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){const{eSortMixed:e,beans:t,column:n}=this;if(e){const r=t.sortSvc.getDisplaySortForColumn(n)==="mixed";Ot(e,r,{skipAriaHidden:!0})}}updateSortOrder(){const{eSortOrder:e,column:t,beans:{sortSvc:n}}=this;if(!e)return;const r=n.getColumnsWithSortingOrdered(),i=n.getDisplaySortIndexForColumn(t)??-1,s=r.some(l=>n.getDisplaySortIndexForColumn(l)??!1),o=i>=0&&s;Ot(e,o,{skipAriaHidden:!0}),i>=0?e.textContent=(i+1).toString():zn(e)}},w2={selector:"AG-SORT-INDICATOR",component:MC},ou=["asc","desc",null],y2=class extends te{constructor(){super(...arguments),this.beanName="sortSvc"}progressSort(e,t,n){const r=this.getNextSortDirection(e);this.setSortForColumn(e,r,t,n)}progressSortFromEvent(e,t){const r=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.progressSort(e,r,"uiColumnSorted")}setSortForColumn(e,t,n,r){var f;t!=="asc"&&t!=="desc"&&(t=null);const{gos:i,showRowGroupCols:s}=this.beans,o=qr(i);let l=[e];if(o&&e.getColDef().showRowGroup){const p=(f=s==null?void 0:s.getSourceColumnsForGroupColumn)==null?void 0:f.call(s,e),m=p==null?void 0:p.filter(C=>C.isSortable());m&&(l=[e,...m])}l.forEach(p=>this.setColSort(p,t,r));const c=(n||i.get("alwaysMultiSort"))&&!i.get("suppressMultiSort"),d=[];if(!c){const p=this.clearSortBarTheseColumns(l,r);d.push(...p)}this.updateSortIndex(e),d.push(...l),this.dispatchSortChangedEvents(r,d)}updateSortIndex(e){const{gos:t,colModel:n,showRowGroupCols:r}=this.beans,i=qr(t),s=r==null?void 0:r.getShowRowGroupCol(e.getId()),o=i&&s||e,l=this.getColumnsWithSortingOrdered();n.getAllCols().forEach(f=>this.setColSortIndex(f,null));const c=l.filter(f=>i&&f.getColDef().showRowGroup?!1:f!==o);(o.getSort()?[...c,o]:c).forEach((f,p)=>this.setColSortIndex(f,p))}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){const t=this.beans.colModel.getAllCols().filter(n=>!!n.getSort());return t&&t.length>0}dispatchSortChangedEvents(e,t){const n={type:"sortChanged",source:e};t&&(n.columns=t),this.eventSvc.dispatchEvent(n)}clearSortBarTheseColumns(e,t){const n=[];return this.beans.colModel.getAllCols().forEach(r=>{e.includes(r)||(r.getSort()&&n.push(r),this.setColSort(r,void 0,t))}),n}getNextSortDirection(e){const t=e.getColDef().sortingOrder??this.gos.get("sortingOrder")??ou,n=t.indexOf(e.getSort()),r=n<0,i=n==t.length-1;return r||i?t[0]:t[n+1]}getIndexedSortMap(){const{gos:e,colModel:t,showRowGroupCols:n,rowGroupColsSvc:r}=this.beans;let i=t.getAllCols().filter(d=>!!d.getSort());if(t.isPivotMode()){const d=qr(e);i=i.filter(f=>{const p=!!f.getAggFunc(),m=!f.isPrimary(),C=d?n==null?void 0:n.getShowRowGroupCol(f.getId()):f.getColDef().showRowGroup;return p||m||C})}const s=(r==null?void 0:r.columns.filter(d=>!!d.getSort()))??[],o={};i.forEach((d,f)=>o[d.getId()]=f),i.sort((d,f)=>{const p=d.getSortIndex(),m=f.getSortIndex();if(p!=null&&m!=null)return p-m;if(p==null&&m==null){const C=o[d.getId()],y=o[f.getId()];return C>y?1:-1}else return m==null?-1:1});const l=qr(e)&&!!s.length;l&&(i=[...new Set(i.map(d=>(n==null?void 0:n.getShowRowGroupCol(d.getId()))??d))]);const c=new Map;return i.forEach((d,f)=>c.set(d,f)),l&&s.forEach(d=>{const f=n.getShowRowGroupCol(d.getId());c.set(d,c.get(f))}),c}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([e,t],[n,r])=>t-r).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=qr(this.gos),n=!!e.getColDef().showRowGroup;return t&&n}getDisplaySortForColumn(e){var o;const t=(o=this.beans.showRowGroupCols)==null?void 0:o.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!(t!=null&&t.length))return e.getSort();const r=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,i=r[0].getSort();return r.every(l=>l.getSort()==i)?i:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}setupHeader(e,t,n){let r=0;e.addManagedListeners(t,{movingChanged:()=>{r=new Date().getTime()}}),n&&e.addManagedElementListeners(n,{click:s=>{const o=t.isMoving(),c=new Date().getTime()-r<50;o||c||this.progressSortFromEvent(t,s)}});const i=()=>{var o;const s=t.getSort();if(e.addOrRemoveCssClass("ag-header-cell-sorted-asc",s==="asc"),e.addOrRemoveCssClass("ag-header-cell-sorted-desc",s==="desc"),e.addOrRemoveCssClass("ag-header-cell-sorted-none",!s),t.getColDef().showRowGroup){const l=(o=this.beans.showRowGroupCols)==null?void 0:o.getSourceColumnsForGroupColumn(t),d=!(l==null?void 0:l.every(f=>t.getSort()==f.getSort()));e.addOrRemoveCssClass("ag-header-cell-sorted-mixed",d)}};e.addManagedEventListeners({sortChanged:i,columnRowGroupChanged:i})}initCol(e){const{sort:t,initialSort:n,sortIndex:r,initialSortIndex:i}=e.colDef;t!==void 0?(t==="asc"||t==="desc")&&(e.sort=t):(n==="asc"||n==="desc")&&(e.sort=n),r!==void 0?r!==null&&(e.sortIndex=r):i!==null&&(e.sortIndex=i)}updateColSort(e,t,n){t!==void 0&&(t==="desc"||t==="asc"?this.setColSort(e,t,n):this.setColSort(e,void 0,n))}setColSort(e,t,n){e.sort!==t&&(e.sort=t,e.dispatchColEvent("sortChanged",n)),e.dispatchStateUpdatedEvent("sort")}setColSortIndex(e,t){e.sortIndex=t,e.dispatchStateUpdatedEvent("sortIndex")}createSortIndicator(e){return new MC(e)}getSortIndicatorSelector(){return w2}},iF={moduleName:"Sort",version:ve,beans:[y2,m2],apiFunctions:{onSortChanged:C2},userComponents:{agSortIndicator:MC},icons:{sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"}},S2=class extends te{constructor(){super(...arguments),this.beanName="syncSvc",this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.beans.ctrlsSvc.whenReady(this,()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){const{colModel:t,rowModel:n}=this.beans;t.setColumnDefs(e??[],"gridInitializing"),n.start()}gridReady(){const{eventSvc:e,gos:t}=this;e.dispatchEvent({type:"gridReady"}),uo(t,`initialised successfully, enterprise = ${t.isModuleRegistered("EnterpriseCore")}`)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.beans.colModel.setColumnDefs(t,ia(e.source))}}};function b2(e){var t;(t=e.valueCache)==null||t.expire()}function R2(e,t){const{colKey:n,rowNode:r,useFormatter:i}=t,s=e.colModel.getColDefCol(n)??e.colModel.getCol(n);if(Ft(s))return null;const o=e.valueSvc.getValueForDisplay(s,r);return i?e.valueSvc.formatValue(s,r,o)??bi(o,!0):o}var Xd=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}depthFirstSearchChangedPath(e,t){const{rowNode:n,children:r}=e;if(r)for(let i=0;i<r.length;++i)this.depthFirstSearchChangedPath(r[i],t);t(n)}depthFirstSearchEverything(e,t,n){const r=e.childrenAfterGroup;if(r)for(let i=0,s=r.length;i<s;++i){const o=r[i];o.childrenAfterGroup?this.depthFirstSearchEverything(o,t,n):n&&t(o)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,n=!1){this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,n=0;for(;!this.mapToItems[t.id];){const r={rowNode:t,children:null};this.mapToItems[t.id]=r,n++,t=t.parent}return n}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let n=e;for(;n;)this.nodeIdsToColumns[n.id]||(this.nodeIdsToColumns[n.id]={}),t.forEach(r=>this.nodeIdsToColumns[n.id][r.getId()]=!0),n=n.parent}linkPathItems(e,t){let n=e;for(let r=0;r<t;r++){const i=this.mapToItems[n.id],s=this.mapToItems[n.parent.id];s.children||(s.children=[]),s.children.push(i),n=n.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const n=this.createPathItems(e);this.linkPathItems(e,n),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const n=this.nodeIdsToColumns[e.id];return t.filter(i=>n[i.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const n=this.nodeIdsToColumns[e.id];return t.filter(i=>!n[i.getId()])}},x2="paste",E2=class extends te{constructor(){super(...arguments),this.beanName="changeDetectionSvc",this.clientSideRowModel=null}postConstruct(){const{gos:e,rowModel:t}=this.beans;un(e)&&(this.clientSideRowModel=t),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){const{gos:t,rowRenderer:n}=this.beans;if(e.source===x2||t.get("suppressChangeDetection"))return;const r=e.node,i=[r],s=this.clientSideRowModel,o=s==null?void 0:s.rootNode;if(o&&!r.isRowPinned()){const l=t.get("aggregateOnlyChangedColumns"),c=new Xd(l,o);c.addParentNode(r.parent,[e.column]),s.doAggregate(c),c.forEachChangedNodeDepthFirst(d=>{i.push(d)})}n.refreshCells({rowNodes:i})}},F2=class extends te{constructor(){super(...arguments),this.beanName="expressionSvc",this.cache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);ut(15,{expression:e})}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(n){return ut(16,{expression:e,params:t,e:n}),null}}createExpressionFunction(e){const t=this.cache;if(t[e])return t[e];const n=this.createFunctionBody(e),r=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",n);return t[e]=r,r}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},P2=class extends te{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){const e=this.gos;this.active=e.get("valueCache"),this.neverExpires=e.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,n){if(this.active){const r=this.cacheVersion;e.__cacheVersion!==r&&(e.__cacheVersion=r,e.__cacheData={}),e.__cacheData[t]=n}}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}},D2={moduleName:"ValueCache",version:ve,beans:[P2],apiFunctions:{expireValueCache:b2}},T2={moduleName:"Expression",version:ve,beans:[F2]},A2={moduleName:"ChangeDetection",version:ve,beans:[E2]},M2={moduleName:"CellApi",version:ve,apiFunctions:{getCellValue:R2}},k2=class extends te{constructor(){super(...arguments),this.beanName="valueSvc",this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionSvc=e.expressionSvc,this.colModel=e.colModel,this.valueCache=e.valueCache,this.dataTypeSvc=e.dataTypeSvc}postConstruct(){this.initialised||this.init()}init(){this.executeValueGetter=this.valueCache?this.executeValueGetterWithValueCache.bind(this):this.executeValueGetterWithoutValueCache.bind(this),this.isSsrm=mo(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=t=>this.callColumnCellValueChangedHandler(t);this.eventSvc.addEventListener("cellValueChanged",e,!0),this.addDestroyFunc(()=>this.eventSvc.removeEventListener("cellValueChanged",e,!0)),this.addManagedPropertyListener("treeData",t=>this.isTreeData=t.currentValue)}getValueForDisplay(e,t){const n=t.leafGroup&&this.colModel.isPivotMode(),r=t.group&&t.expanded&&!t.footer&&!n,i=this.gos.get("groupSuppressBlankHeader");if(!r||i)return this.getValue(e,t);let s=!1;const o=this.gos.get("groupTotalRow");typeof o!="function"?s=!!o:s=!!this.gos.getCallback("groupTotalRow")({node:this});const l=r&&s;return this.getValue(e,t,l)}getValue(e,t,n=!1){if(this.initialised||this.init(),!t)return;const r=e.getColDef(),i=r.field,s=e.getColId(),o=t.data;let l;const c=t.groupData&&t.groupData[s]!==void 0,d=!n&&t.aggData&&t.aggData[s]!==void 0,f=this.isSsrm&&n&&!!e.getColDef().aggFunc,p=this.isSsrm&&t.footer&&t.field&&(e.getColDef().showRowGroup===!0||e.getColDef().showRowGroup===t.field);if(this.isTreeData&&d?l=t.aggData[s]:this.isTreeData&&r.valueGetter?l=this.executeValueGetter(r.valueGetter,o,e,t):this.isTreeData&&i&&o?l=Gl(o,i,e.isFieldContainsDots()):c?l=t.groupData[s]:d?l=t.aggData[s]:r.valueGetter?l=this.executeValueGetter(r.valueGetter,o,e,t):p?l=Gl(o,t.field,e.isFieldContainsDots()):i&&o&&!f&&(l=Gl(o,i,e.isFieldContainsDots())),this.cellExpressions&&typeof l=="string"&&l.indexOf("=")===0){const m=l.substring(1);l=this.executeValueGetter(m,o,e,t)}if(l==null){const m=this.getOpenedGroup(t,e);if(m!=null)return m}return l}parseValue(e,t,n,r){var o;const i=e.getColDef(),s=i.valueParser;if(Ce(s)){const l=Le(this.gos,{node:t,data:t==null?void 0:t.data,oldValue:r,newValue:n,colDef:i,column:e});return typeof s=="function"?s(l):(o=this.expressionSvc)==null?void 0:o.evaluate(s,l)}return n}getDeleteValue(e,t){return Ce(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t))??null:null}formatValue(e,t,n,r,i=!0){let s=null,o;const l=e.getColDef();if(r?o=r:i&&(o=l.valueFormatter),o){const c=Le(this.gos,{value:n,node:t,data:t?t.data:null,colDef:l,column:e});typeof o=="function"?s=o(c):s=this.expressionSvc?this.expressionSvc.evaluate(o,c):null}else if(l.refData)return l.refData[n]||"";return s==null&&Array.isArray(n)&&(s=n.join(", ")),s}getOpenedGroup(e,t){if(!this.gos.get("showOpenedGroup")||!t.getColDef().showRowGroup)return;const r=t.getColDef().showRowGroup;let i=e.parent;for(;i!=null;){if(i.rowGroupColumn&&(r===!0||r===i.rowGroupColumn.getColId()))return i.key;i=i.parent}}setValue(e,t,n,r){var f,p;const i=this.colModel.getColDefCol(t);if(!e||!i)return!1;Ft(e.data)&&(e.data={});const{field:s,valueSetter:o}=i.getColDef();if(Ft(s)&&Ft(o))return he(17),!1;if(this.dataTypeSvc&&!this.dataTypeSvc.checkType(i,n))return he(135),!1;const l=Le(this.gos,{node:e,data:e.data,oldValue:this.getValue(i,e),newValue:n,colDef:i.getColDef(),column:i});l.newValue=n;let c;if(Ce(o)?typeof o=="function"?c=o(l):c=(f=this.expressionSvc)==null?void 0:f.evaluate(o,l):c=this.setValueUsingField(e.data,s,n,i.isFieldContainsDots()),c===void 0&&(c=!0),!c)return!1;e.resetQuickFilterAggregateText(),(p=this.valueCache)==null||p.onDataChanged();const d=this.getValue(i,e);return this.eventSvc.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:l.column,colDef:l.colDef,data:e.data,node:e,oldValue:l.oldValue,newValue:d,value:d,source:r}),!0}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,n,r){if(!t)return!1;let i=!1;if(!r)i=e[t]===n,i||(e[t]=n);else{const s=t.split(".");let o=e;for(;s.length>0&&o;){const l=s.shift();s.length===0?(i=o[l]===n,i||(o[l]=n)):o=o[l]}}return!i}executeValueGetterWithValueCache(e,t,n,r){const i=n.getColId(),s=this.valueCache.getValue(r,i);if(s!==void 0)return s;const o=this.executeValueGetterWithoutValueCache(e,t,n,r);return this.valueCache.setValue(r,i,o),o}executeValueGetterWithoutValueCache(e,t,n,r){var o;const i=Le(this.gos,{data:t,node:r,column:n,colDef:n.getColDef(),getValue:this.getValueCallback.bind(this,r)});let s;return typeof e=="function"?s=e(i):s=(o=this.expressionSvc)==null?void 0:o.evaluate(e,i),s}getValueCallback(e,t){const n=this.colModel.getColDefCol(t);return n?this.getValue(n,e):null}getKeyForNode(e,t){const n=this.getValue(e,t),r=e.getColDef().keyCreator;let i=n;if(r){const s=Le(this.gos,{value:n,colDef:e.getColDef(),column:e,node:t,data:t.data});i=r(s)}return typeof i=="string"||i==null||(i=String(i),i==="[object Object]"&&he(121)),i}},I2={moduleName:"CommunityCore",version:ve,beans:[TW,TH,wV,RL,h2,OG,RW,IW,yL,XW,JW,p2,k2,PW,bW,DW,SV,S2,pV,gV],icons:{selectOpen:"small-down",smallDown:"small-down",colorPicker:"color-picker",smallUp:"small-up",checkboxChecked:"small-up",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off",smallLeft:"small-left",smallRight:"small-right"},apiFunctions:{getGridId:AH,destroy:MH,isDestroyed:kH,getGridOption:IH,setGridOption:OH,updateGridOptions:B0},dependsOn:[cV,hG,wG,iF,BW,NG,HW,d2,A2,GW,QW,n2,i2,WW,vV,dV,T2]},kC=class zs{static applyGlobalGridOptions(t){if(!zs.gridOptions)return{...t};let n={};return Dn(n,zs.gridOptions,!0,!0),zs.mergeStrategy==="deep"?Dn(n,t,!0,!0):n={...n,...t},zs.gridOptions.context&&(n.context=zs.gridOptions.context),t.context&&(zs.mergeStrategy==="deep"&&n.context&&Dn(t.context,n.context,!0,!0),n.context=t.context),n}};kC.gridOptions=void 0;kC.mergeStrategy="shallow";var Zd=kC;function O2(e,t="shallow"){Zd.gridOptions=e,Zd.mergeStrategy=t}function L2(e){var t;return(t=Zd.gridOptions)==null?void 0:t[e]}var N2=1,B2=class{create(e,t,n,r,i,s){const o=Zd.applyGlobalGridOptions(t),l=o.gridId??String(N2++),c=o.rowModelType??"clientSide",d=this.getRegisteredModules(i,l,c),f=this.createBeansList(c,d,l),p=this.createProvidedBeans(e,o,i);if(!f)return;const m={providedBeanInstances:p,beanClasses:f,gridId:l,beanInitComparator:EH,beanDestroyComparator:FH,derivedBeans:[RH],destroyCallback:s},C=new mN(m);return this.registerModuleFeatures(C,d),n(C),C.getBean("syncSvc").start(),r&&r(C),C.getBean("gridApi")}getRegisteredModules(e,t,n){var r;return iu(I2,void 0),(r=e==null?void 0:e.modules)==null||r.forEach(i=>iu(i,t)),cN(t,n)}registerModuleFeatures(e,t){const n=e.getBean("registry"),r=e.getBean("apiFunctionSvc");t.forEach(i=>{n.registerModule(i);const s=i.apiFunctions;s&&Object.keys(s).forEach(l=>{r==null||r.addFunction(l,s[l])})})}createProvidedBeans(e,t,n){let r=n?n.frameworkOverrides:null;Ft(r)&&(r=new L0);const i={gridOptions:t,eGridDiv:e,globalListener:n?n.globalListener:null,globalSyncListener:n?n.globalSyncListener:null,frameworkOverrides:r};return n&&n.providedBeanInstances&&Object.assign(i,n.providedBeanInstances),i}createBeansList(e,t,n){const i={clientSide:"ClientSideRowModel",infinite:"InfiniteRowModel",serverSide:"ServerSideRowModel",viewport:"ViewportRowModel"}[e];if(!i){em(201,{rowModelType:e},`Unknown rowModelType ${e}.`);return}if(!a0(i,n,e)){em(200,{reasonOrId:`rowModelType = '${e}'`,moduleName:i,gridScoped:mC(),gridId:n,rowModelType:e},`Missing module ${i}Module for rowModelType ${e}. 
If upgrading from before v33, see ${Js}/upgrading-to-ag-grid-33/#changes-to-modules/`);return}const s=new Set;return t.forEach(o=>{var l;return(l=o.beans)==null?void 0:l.forEach(c=>s.add(c))}),Array.from(s)}};function ni(e){const t=e.rowModel;return t.getType()==="clientSide"?t:void 0}function xh(e){const t=e.rowModel;return t.getType()==="infinite"?t:void 0}function sF(e){const t=e.rowModel;return t.getType()==="serverSide"?t:void 0}var H2=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel"],G2=["scrollbarWidthChanged","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","pinnedHeightChanged","cellFocusCleared","fullWidthRowFocused","checkboxChanged","heightScaleChanged","suppressMovableColumns","suppressMenuHide","suppressFieldDotNotation","columnPanelItemDragStart","columnPanelItemDragEnd","bodyHeightChanged","columnContainerWidthChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","scrollGapChanged","columnHoverChanged","flashCells","paginationPixelOffsetChanged","displayedRowsChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","rowContainerHeightChanged","headerHeightChanged","columnGroupHeaderHeightChanged","columnHeaderHeightChanged","gridStylesChanged","storeUpdated","filterDestroyed","rowDataUpdateStarted","rowCountReady","advancedFilterEnabledChanged","dataTypesInferred","fieldValueChanged","fieldPickerValueSelected","richSelectListRowSelected","sideBarUpdated","alignedGridScroll","alignedGridColumn","gridOptionsChanged","chartTitleEdit","recalculateRowBounds","stickyTopOffsetChanged","overlayExclusiveChanged","beforeRefreshModel"],V2=[...H2,...G2],W2=class extends te{constructor(){super(...arguments),this.beanName="localeSvc"}getLocaleTextFunc(){const e=this.gos,t=e.getCallback("getLocaleText");if(t)return(r,i,s)=>t({key:r,defaultValue:i,variableValues:s});const n=e.get("localeText");return(r,i,s)=>{let o=n&&n[r];if(o&&s&&s.length){let l=0;for(;!(l>=s.length||o.indexOf("${variable}")===-1);)o=o.replace("${variable}",s[l++])}return o??i}}},_2=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","treeDataChildrenField","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow","themeCssLayer"],z2=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","themeStyleContainer","statusBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy","selectionColumnDef"],j2=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],oF=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"],U2=["theme","rowSelection"],$2=["cellSelection","sideBar","rowNumbers","suppressGroupChangesColumnVisibility","groupAggFiltering","suppressStickyTotalRow","groupHideParentOfSingleChild"],aF=["loadThemeGoogleFonts","suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","allowContextMenuWithControlKey","suppressContextMenu","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","enableCellSpan","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault"],K2=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","chartMenuItems","groupTotalRow","alwaysPassFilter"],q2=[...j2,...z2,..._2,...oF,...K2,...aF,...$2,...U2],Y2=class{wrap(e,t,n,r){const i=this.createWrapper(e,r);return t==null||t.forEach(s=>{this.createMethod(i,s,!0)}),n==null||n.forEach(s=>{this.createMethod(i,s,!1)}),i}createMethod(e,t,n){e.addMethod(t,this.createMethodProxy(e,t,n))}createMethodProxy(e,t,n){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(n&&he(49,{methodName:t}),null)}}},Q2=class extends ka{constructor(){super('<div class="ag-tooltip"></div>')}init(e){const{value:t}=e;this.getGui().textContent=bi(t,!0)}};function lF(e){const{inputValue:t,allSuggestions:n,hideIrrelevant:r,filterByPercentageOfBestMatch:i,addSequentialWeight:s}=e;let o=n.map((d,f)=>({value:d,relevance:X2(t.toLowerCase(),d.toLocaleLowerCase(),s),idx:f}));if(o.sort((d,f)=>f.relevance-d.relevance),r&&(o=o.filter(d=>d.relevance!==0)),o.length>0&&i&&i>0){const f=o[0].relevance*i;o=o.filter(p=>f-p.relevance<0)}const l=[],c=[];for(const d of o)l.push(d.value),c.push(d.idx);return{values:l,indices:c}}function J2(e){const t=[],n=e.length;for(let r=1;r<=n;r++)for(let i=0;i<=n-r;i++){const s=i+r-1;t.push(e.slice(i,s+1))}return t}function X2(e,t,n=!1){const r=e.replace(/\s/g,""),i=t.replace(/\s/g,""),s=r.length,o=i.length,l=new Array(s+1).fill(null).map(()=>new Array(o+1).fill(0));for(let p=0;p<=s;p+=1)l[p][0]=p;for(let p=0;p<=o;p+=1)l[0][p]=p;for(let p=1;p<=s;p++)for(let m=1;m<=o;m++)r[p-1]===i[m-1]?l[p][m]=l[p-1][m-1]:l[p][m]=1+Math.min(l[p][m-1],Math.min(l[p-1][m],l[p-1][m-1]));const c=l[s][o];let f=Math.max(s,o)-c;if(n){const p=J2(r);for(let m=0;m<p.length;m++){const C=p[m];i.indexOf(C)!==-1&&(f+=1,f*=C.length)}}return f}function Z2(e,t){if(typeof e!="number")return"";const n=t(),r=n("thousandSeparator",","),i=n("decimalSeparator",".");return e.toString().replace(".",i).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${r}`)}var e_=class extends te{getFileName(e){const t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?`${e}.${t}`:e}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},t_=class{constructor(e){this.groupColumns=[];const{colModel:t,rowGroupColsSvc:n,colNames:r,valueSvc:i,gos:s,processCellCallback:o,processHeaderCallback:l,processGroupHeaderCallback:c,processRowGroupCallback:d}=e;this.colModel=t,this.rowGroupColsSvc=n,this.colNames=r,this.valueSvc=i,this.gos=s,this.processCellCallback=o,this.processHeaderCallback=l,this.processGroupHeaderCallback=c,this.processRowGroupCallback=d}prepare(e){this.groupColumns=e.filter(t=>!!t.getColDef().showRowGroup)}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,n,r,i){const o=(!this.gos.get("groupHideOpenParents")||i.footer)&&this.shouldRenderGroupSummaryCell(i,e,t)?this.createValueForGroupNode(e,i):this.valueSvc.getValue(e,i);return this.processCell({accumulatedRowIndex:n,rowNode:i,column:e,value:o,processCellCallback:this.processCellCallback,type:r})}shouldRenderGroupSummaryCell(e,t,n){var o,l;if(!(e.group&&!this.gos.get("treeData")))return!1;if(this.groupColumns.indexOf(t)!==-1){if(((o=e.groupData)==null?void 0:o[t.getId()])!==void 0||mo(this.gos)&&e.group)return!0;if(e.footer&&e.level===-1){const c=t.getColDef();return c==null||c.showRowGroup===!0||c.showRowGroup===((l=this.rowGroupColsSvc)==null?void 0:l.columns[0].getId())}}const s=hC(this.gos,this.colModel.isPivotMode());return n===0&&s}getHeaderName(e,t){return e?e(Le(this.gos,{column:t})):this.colNames.getDisplayNameForColumn(t,"csv",!0)}createValueForGroupNode(e,t){if(this.processRowGroupCallback)return this.processRowGroupCallback(Le(this.gos,{column:e,node:t}));const n=this.gos.get("treeData"),r=l=>{var d;if(n)return l.key;const c=(d=l.groupData)==null?void 0:d[e.getId()];return!c||!l.rowGroupColumn||l.rowGroupColumn.getColDef().useValueFormatterForExport===!1?c:this.valueSvc.formatValue(l.rowGroupColumn,l,c)??c},i=t.footer,s=[r(t)];if(!MO(this.gos))for(;t.parent;)t=t.parent,s.push(r(t));const o=s.reverse().join(" -> ");return i?`Total ${o}`:o}processCell(e){const{accumulatedRowIndex:t,rowNode:n,column:r,value:i,processCellCallback:s,type:o}=e;return s?{value:s(Le(this.gos,{accumulatedRowIndex:t,column:r,node:n,value:i,type:o,parseValue:l=>this.valueSvc.parseValue(r,n,l,this.valueSvc.getValue(r,n)),formatValue:l=>this.valueSvc.formatValue(r,n,l)??l}))??""}:r.getColDef().useValueFormatterForExport!==!1?{value:i??"",valueFormatted:this.valueSvc.formatValue(r,n,i)}:{value:i??""}}};function n_(e,t){const n=document.defaultView||window;if(!n){he(52);return}const r=document.createElement("a"),i=n.URL.createObjectURL(t);r.setAttribute("href",i),r.setAttribute("download",e),r.style.display="none",document.body.appendChild(r),r.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),document.body.removeChild(r),n.setTimeout(()=>{n.URL.revokeObjectURL(i)},0)}var r_={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,groupLockGroupColumns:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0,suppressSetFilterByDefault:!0,getDataPath:!0,enableCellSpan:!0},Rn="clientSide",pn="serverSide",Yo="infinite",i_={onGroupExpandedOrCollapsed:[Rn],refreshClientSideRowModel:[Rn],isRowDataEmpty:[Rn],forEachLeafNode:[Rn],forEachNodeAfterFilter:[Rn],forEachNodeAfterFilterAndSort:[Rn],resetRowHeights:[Rn],applyTransaction:[Rn],applyTransactionAsync:[Rn],flushAsyncTransactions:[Rn],getBestCostNodeSelection:[Rn],getServerSideSelectionState:[pn],setServerSideSelectionState:[pn],applyServerSideTransaction:[pn],applyServerSideTransactionAsync:[pn],applyServerSideRowData:[pn],retryServerSideLoads:[pn],flushServerSideAsyncTransactions:[pn],refreshServerSide:[pn],getServerSideGroupLevelState:[pn],refreshInfiniteCache:[Yo],purgeInfiniteCache:[Yo],getInfiniteRowCount:[Yo],isLastRowIndexKnown:[Yo,pn],expandAll:[Rn,pn],collapseAll:[Rn,pn],onRowHeightChanged:[Rn,pn],setRowCount:[Yo,pn],getCacheBlockState:[Yo,pn]},s_={showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"},selectAllFiltered:{version:"v33",old:"selectAllFiltered()",new:'selectAll("filtered")'},deselectAllFiltered:{version:"v33",old:"deselectAllFiltered()",new:'deselectAll("filtered")'},selectAllOnCurrentPage:{version:"v33",old:"selectAllOnCurrentPage()",new:'selectAll("currentPage")'},deselectAllOnCurrentPage:{version:"v33",old:"deselectAllOnCurrentPage()",new:'deselectAll("currentPage")'}};function o_(e,t,n){const r=s_[e];if(r){const{version:s,new:o,old:l,message:c}=r,d=l??e;return(...f)=>{const p=o?`Please use ${o} instead. `:"";return Hl(`Since ${s} api.${d} is deprecated. ${p}${c??""}`),t.apply(t,f)}}const i=i_[e];return i?(...s)=>{const o=n.rowModel.getType();if(!i.includes(o)){ta(`api.${e} can only be called when gridOptions.rowModelType is ${i.join(" or ")}`);return}return t.apply(t,s)}:t}var uF={AdvancedFilter:1,AllEnterprise:1,CellSelection:1,Clipboard:1,ColumnMenu:1,ColumnsToolPanel:1,ContextMenu:1,ExcelExport:1,FiltersToolPanel:1,GridCharts:1,IntegratedCharts:1,GroupFilter:1,MasterDetail:1,Menu:1,MultiFilter:1,Pivot:1,RangeSelection:1,RichSelect:1,RowNumbers:1,RowGrouping:1,RowGroupingPanel:1,ServerSideRowModelApi:1,ServerSideRowModel:1,SetFilter:1,SideBar:1,Sparklines:1,StatusBar:1,TreeData:1,ViewportRowModel:1},bg=["TextFilter","NumberFilter","DateFilter","SetFilter","MultiFilter","GroupFilter","CustomFilter"],a_={EditCore:["TextEditor","NumberEditor","DateEditor","CheckboxEditor","LargeTextEditor","SelectEditor","RichSelect","CustomEditor"],CheckboxCellRenderer:["AllCommunity"],ClientSideRowModelHierarchy:["RowGrouping","Pivot","TreeData"],ColumnFilter:bg,ColumnGroupHeaderComp:["AllCommunity"],ColumnGroup:["AllCommunity"],ColumnHeaderComp:["AllCommunity"],ColumnMove:["AllCommunity"],ColumnResize:["AllCommunity"],CommunityCore:["AllCommunity"],CsrmSsrmSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],EnterpriseCore:["AllEnterprise"],FilterCore:[...bg,"QuickFilter","ExternalFilter","AdvancedFilter"],GroupCellRenderer:["RowGrouping","Pivot","TreeData","MasterDetail","ServerSideRowModel"],KeyboardNavigation:["AllCommunity"],LoadingCellRenderer:["ServerSideRowModel"],MenuCore:["ColumnMenu","ContextMenu"],MenuItem:["ColumnMenu","ContextMenu","MultiFilter","IntegratedCharts","ColumnsToolPanel"],Overlay:["AllCommunity"],PinnedColumn:["AllCommunity"],SharedAggregation:["RowGrouping","Pivot","TreeData","ServerSideRowModel"],SharedDragAndDrop:["AllCommunity"],SharedMasterDetail:["MasterDetail","ServerSideRowModel"],SharedMenu:[...bg,"ColumnMenu","ContextMenu"],SharedPivot:["Pivot","ServerSideRowModel"],SharedRowGrouping:["RowGrouping","ServerSideRowModel"],SharedRowSelection:["RowSelection","ServerSideRowModel"],SkeletonCellRenderer:["ServerSideRowModel"],Sort:["AllCommunity"],SsrmInfiniteSharedApi:["InfiniteRowModel","ServerSideRowModelApi"],SharedTreeData:["TreeData","ServerSideRowModel"]},l_={InfiniteRowModel:"infinite",ClientSideRowModelApi:"clientSide",ClientSideRowModel:"clientSide",ServerSideRowModelApi:"serverSide",ServerSideRowModel:"serverSide",ViewportRowModel:"viewport"};function u_(e,t){const n=[];return(Array.isArray(e)?e:[e]).forEach(r=>{const i=a_[r];i?i.forEach(s=>{const o=l_[s];(!o||o===t)&&n.push(s)}):n.push(r)}),n}var aa={agSetColumnFilter:"SetFilter",agSetColumnFloatingFilter:"SetFilter",agMultiColumnFilter:"MultiFilter",agMultiColumnFloatingFilter:"MultiFilter",agGroupColumnFilter:"GroupFilter",agGroupColumnFloatingFilter:"GroupFilter",agGroupCellRenderer:"GroupCellRenderer",agGroupRowRenderer:"GroupCellRenderer",agRichSelect:"RichSelect",agRichSelectCellEditor:"RichSelect",agDetailCellRenderer:"SharedMasterDetail",agSparklineCellRenderer:"Sparklines",agDragAndDropImage:"SharedDragAndDrop",agColumnHeader:"ColumnHeaderComp",agColumnGroupHeader:"ColumnGroupHeaderComp",agSortIndicator:"Sort",agAnimateShowChangeCellRenderer:"HighlightChanges",agAnimateSlideCellRenderer:"HighlightChanges",agLoadingCellRenderer:"LoadingCellRenderer",agSkeletonCellRenderer:"SkeletonCellRenderer",agCheckboxCellRenderer:"CheckboxCellRenderer",agLoadingOverlay:"Overlay",agNoRowsOverlay:"Overlay",agTooltipComponent:"Tooltip",agReadOnlyFloatingFilter:"CustomFilter",agTextColumnFilter:"TextFilter",agNumberColumnFilter:"NumberFilter",agDateColumnFilter:"DateFilter",agDateInput:"DateFilter",agTextColumnFloatingFilter:"TextFilter",agNumberColumnFloatingFilter:"NumberFilter",agDateColumnFloatingFilter:"DateFilter",agCellEditor:"TextEditor",agSelectCellEditor:"SelectEditor",agTextCellEditor:"TextEditor",agNumberCellEditor:"NumberEditor",agDateCellEditor:"DateEditor",agDateStringCellEditor:"DateEditor",agCheckboxCellEditor:"CheckboxEditor",agLargeTextCellEditor:"LargeTextEditor",agMenuItem:"MenuItem",agColumnsToolPanel:"ColumnsToolPanel",agFiltersToolPanel:"FiltersToolPanel",agAggregationComponent:"StatusBar",agSelectedRowCountComponent:"StatusBar",agTotalRowCountComponent:"StatusBar",agFilteredRowCountComponent:"StatusBar",agTotalAndFilteredRowCountComponent:"StatusBar"},c_=e=>{const t=e.map(r=>`import { ${zl(r)} } from '${uF[r]?"ag-grid-enterprise":"ag-grid-community"}';`);return e.some(r=>r==="IntegratedCharts"||r==="Sparklines")&&t.push("import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';"),`import { ModuleRegistry } from 'ag-grid-community'; 
${t.join(` 
`)} 

ModuleRegistry.registerModules([ ${e.map(r=>zl(r,!0)).join(", ")} ]); 

For more info see: ${Js}/modules/`};function zl(e,t=!1){return t&&(e==="IntegratedCharts"||e==="Sparklines")?`${e}Module.with(AgChartsEnterpriseModule)`:`${e}Module`}function d_(e,t){const n=t.filter(s=>s==="IntegratedCharts"||s==="Sparklines");let r="";return!(globalThis==null?void 0:globalThis.agCharts)&&n.length>0?r=`Unable to use ${e} as either the ag-charts-community or ag-charts-enterprise script needs to be included alongside ag-grid-enterprise.
`:t.some(s=>uF[s])&&(r=r+`Unable to use ${e} as that requires the ag-grid-enterprise script to be included.
`),r}var ib=({reasonOrId:e,moduleName:t,gridScoped:n,gridId:r,rowModelType:i,additionalText:s,isUmd:o})=>{const l=u_(t,i),c=typeof e=="string"?e:g_[e];if(o)return d_(c,l);const d=l.filter(m=>m==="IntegratedCharts"||m==="Sparklines"),f=d.length>0?`${d.map(m=>zl(m)).join()} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.`:"";return`${`Unable to use ${c} as ${l.length>1?"one of "+l.map(m=>zl(m)).join(", "):zl(l[0])} is not registered${n?" for gridId: "+r:""}. ${f} Check if you have registered the module:
`}
${c_(l)}`+(s?` 

${s}`:"")},sb=e=>`${e} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.

import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';
import { ModuleRegistry } from 'ag-grid-community';
import { ${e} } from 'ag-grid-enterprise';
    
ModuleRegistry.registerModules([${e}.with(AgChartsEnterpriseModule)]);
    `,h_=e=>`AG Grid: Unable to use the Clipboard API (navigator.clipboard.${e}()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.`,f_={1:()=>"`rowData` must be an array",2:({nodeId:e})=>`Duplicate node id '${e}' detected from getRowId callback, this could cause issues in your grid.`,3:()=>"Calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.",4:({id:e})=>`Could not find row id=${e}, data item was not found for this id`,5:({data:e})=>["Could not find data item as object was not found.",e," Consider using getRowId to help the Grid find matching row data"],6:()=>"'groupHideOpenParents' only works when specifying specific columns for 'colDef.showRowGroup'",7:()=>"Pivoting is not supported with aligned grids as it may produce different columns in each grid.",8:({key:e})=>`Unknown key for navigation ${e}`,9:({variable:e})=>`No value for ${e==null?void 0:e.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e==null?void 0:e.defaultValue} will be used and updated when styles load.`,10:({eventType:e})=>`As of v33, the '${e}' event is deprecated. Use the global 'modelUpdated' event to determine when row children have changed.`,11:()=>"No gridOptions provided to createGrid",12:({colKey:e})=>["column ",e," not found"],13:()=>"Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid.",14:({groupPrefix:e})=>`Row IDs cannot start with ${e}, this is a reserved prefix for AG Grid's row grouping feature.`,15:({expression:e})=>["value should be either a string or a function",e],16:({expression:e,params:t,e:n})=>["Processing of the expression failed","Expression = ",e,"Params = ",t,"Exception = ",n],17:()=>"you need either field or valueSetter set on colDef for editing to work",18:()=>"alignedGrids contains an undefined option.",19:()=>"alignedGrids - No api found on the linked grid.",20:()=>`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`,21:()=>"pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.",22:({key:e})=>`${e} is an initial property and cannot be updated.`,23:()=>"The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.",24:()=>"row height must be a number if not using standard row model",25:({id:e})=>["The getRowId callback must return a string. The ID ",e," is being cast to a string."],26:({fnName:e,preDestroyLink:t})=>`Grid API function ${e}() cannot be called as the grid has been destroyed.
 Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
 To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${t}`,27:({fnName:e,module:t})=>`API function '${e}' not registered to module '${t}'`,28:()=>"setRowCount cannot be used while using row grouping.",29:()=>"tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?",30:({toIndex:e})=>["tried to insert columns in invalid location, toIndex = ",e,"remember that you should not count the moving columns when calculating the new index"],31:()=>"infinite loop in resizeColumnSets",32:()=>"applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.",33:()=>"stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON.",34:({key:e})=>`the column type '${e}' is a default column type and cannot be overridden.`,35:()=>"Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type.",36:({t:e})=>"colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes",37:()=>"Changing the column pinning status is not allowed with domLayout='print'",38:({iconName:e})=>`provided icon '${e}' needs to be a string or a function`,39:()=>"Applying column order broke a group where columns should be married together. Applying new order has been discarded.",40:({e,method:t})=>`${e}
${h_(t)}`,41:()=>"Browser did not allow document.execCommand('copy'). Ensure 'api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons.",42:()=>"Browser does not support document.execCommand('copy') for clipboard operations",43:({iconName:e})=>`As of v33, icon '${e}' is deprecated. Use the icon CSS name instead.`,44:()=>'Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.',45:({parentCellDataType:e})=>`The data type definition ${e} does not exist.`,46:()=>'The "baseDataType" property of a data type definition must match that of its parent.',47:({cellDataType:e})=>`Missing data type definition - "${e}"`,48:({property:e})=>`Cell data type is "object" but no Value ${e} has been provided. Please either provide an object data type definition with a Value ${e}, or set "colDef.value${e}"`,49:({methodName:e})=>`Framework component is missing the method ${e}()`,50:({compName:e})=>`Could not find component ${e}, did you forget to configure this component?`,51:()=>"Export cancelled. Export is not allowed as per your configuration.",52:()=>"There is no `window` associated with the current `document`",53:()=>"unknown value type during csv conversion",54:()=>"Could not find document body, it is needed for drag and drop and context menu.",55:()=>"addRowDropZone - A container target needs to be provided",56:()=>"addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.",57:()=>"unable to show popup filter, filter instantiation failed",58:()=>"no values found for select cellEditor",59:()=>"cannot select pinned rows",60:()=>"cannot select node until it has finished loading",61:()=>"since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option.",62:({colId:e})=>`setFilterModel() - no column found for colId: ${e}`,63:({colId:e})=>`setFilterModel() - unable to fully apply model, filtering disabled for colId: ${e}`,64:({colId:e})=>`setFilterModel() - unable to fully apply model, unable to create filter for colId: ${e}`,65:()=>"filter missing setModel method, which is needed for setFilterModel",66:()=>"filter API missing getModel method, which is needed for getFilterModel",67:()=>"Filter is missing isFilterActive() method",68:()=>"Column Filter API methods have been disabled as Advanced Filters are enabled.",69:({guiFromFilter:e})=>`getGui method from filter returned ${e}; it should be a DOM element.`,70:({newFilter:e})=>`Grid option quickFilterText only supports string inputs, received: ${typeof e}`,71:()=>"debounceMs is ignored when apply button is present",72:({keys:e})=>["ignoring FilterOptionDef as it doesn't contain one of ",e],73:()=>"invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'",74:()=>"no filter options for filter",75:()=>"Unknown button type specified",76:({filterModelType:e})=>['Unexpected type of filter "',e,'", it looks like the filter was configured with incorrect Filter Options'],77:()=>"Filter model is missing 'conditions'",78:()=>'Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.',79:()=>'"filterParams.maxNumConditions" must be greater than or equal to zero.',80:()=>'"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.',81:()=>'"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".',82:({param:e})=>`DateFilter ${e} is not a number`,83:()=>"DateFilter minValidYear should be <= maxValidYear",84:()=>"DateFilter minValidDate should be <= maxValidDate",85:()=>"DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.",86:()=>"DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.",87:()=>"DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.",88:({index:e})=>`Invalid row index for ensureIndexVisible: ${e}`,89:()=>"A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)",90:()=>"datasource is missing getRows method",91:()=>"Filter is missing method doesFilterPass",92:({methodName:e})=>`AnimationFrameService.${e} called but animation frames are off`,93:()=>"cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`",94:({paginationPageSizeOption:e,pageSizeSet:t,pageSizesSet:n,pageSizeOptions:r})=>`'paginationPageSize=${e}'${t?"":" (default value)"}, but ${e} is not included in${n?"":" the default"} paginationPageSizeSelector=[${r==null?void 0:r.join(", ")}].`,95:({paginationPageSizeOption:e,paginationPageSizeSelector:t})=>`Either set '${t}' to an array that includes ${e} or to 'false' to disable the page size selector.`,96:({id:e,data:t})=>["Duplicate ID",e,"found for pinned row with data",t,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter."],97:({colId:e})=>`cellEditor for column ${e} is missing getGui() method`,98:()=>"popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.",99:()=>"Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.",100:({rowModelType:e})=>`selectAll only available when rowModelType='clientSide', ie not ${e}`,101:({propertyName:e,componentName:t,agGridDefaults:n,jsComps:r})=>{const i=[],s=[...Object.keys(n??[]).filter(l=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(l)),...Object.keys(r??[])],o=lF({inputValue:t,allSuggestions:s,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return i.push(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.
`),o.length>0&&i.push(`         Did you mean: [${o.slice(0,3)}]?
`),i.push("If using a custom component check it has been registered correctly."),i},102:()=>"selectAll: 'filtered' only works when gridOptions.rowModelType='clientSide'",103:()=>"Invalid selection state. When using client-side row model, the state must conform to `string[]`.",104:({value:e,param:t})=>`Numeric value ${e} passed to ${t} param will be interpreted as ${e} seconds. If this is intentional use "${e}s" to silence this warning.`,105:({e})=>["chart rendering failed",e],106:()=>`Theming API and Legacy Themes are both used in the same page. A Theming API theme has been provided to the 'theme' grid option, but the file (ag-grid.css) is also included and will cause styling issues. Remove ag-grid.css from the page. See the migration guide: ${Js}/theming-migration/`,107:({key:e,value:t})=>`Invalid value for theme param ${e} - ${t}`,108:({e})=>["chart update failed",e],109:({aggFuncOrString:e})=>`unrecognised aggregation function ${e}`,110:()=>"groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup",111:()=>"Invalid selection state. When `groupSelects` is enabled, the state must conform to `IServerSideGroupSelectionState`.",113:()=>"Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values",114:({component:e})=>`Could not find component with name of ${e}. Is it in Vue.components?`,116:()=>"Invalid selection state. The state must conform to `IServerSideSelectionState`.",117:()=>"selectAll must be of boolean type.",118:()=>"Infinite scrolling must be enabled in order to set the row count.",119:()=>"Unable to instantiate filter",120:()=>"MultiFloatingFilterComp expects MultiFilter as its parent",121:()=>"a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (see AG Grid docs) or b) to toString() on the object to return a key",122:()=>"could not find the document, document is empty",123:()=>"Advanced Filter is only supported with the Client-Side Row Model or Server-Side Row Model.",124:()=>"No active charts to update.",125:({chartId:e})=>`Unable to update chart. No active chart found with ID: ${e}.`,126:()=>"unable to restore chart as no chart model is provided",127:({allRange:e})=>`unable to create chart as ${e?"there are no columns in the grid":"no range is selected"}.`,128:({feature:e})=>`${e} is only available if using 'multiRow' selection mode.`,129:({feature:e,rowModel:t})=>`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`,130:()=>'cannot multi select unless selection mode is "multiRow"',132:()=>"Row selection features are not available unless `rowSelection` is enabled.",133:({iconName:e})=>`icon '${e}' function should return back a string or a dom object`,134:({iconName:e})=>`Did not find icon '${e}'`,135:()=>"Data type of the new value does not match the cell data type of the column",136:()=>"Unable to update chart as the 'type' is missing. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.",137:({type:e,currentChartType:t})=>`Unable to update chart as a '${e}' update type is not permitted on a ${t}.`,138:({chartType:e})=>`invalid chart type supplied: ${e}`,139:({customThemeName:e})=>`a custom chart theme with the name ${e} has been supplied but not added to the 'chartThemes' list`,140:({name:e})=>`no stock theme exists with the name '${e}' and no custom chart theme with that name was supplied to 'customChartThemes'`,141:()=>"cross filtering with row grouping is not supported.",142:()=>"cross filtering is only supported in the client side row model.",143:({panel:e})=>`'${e}' is not a valid Chart Tool Panel name`,144:({type:e})=>`Invalid charts data panel group name supplied: '${e}'`,145:({group:e})=>`As of v32, only one charts customize panel group can be expanded at a time. '${e}' will not be expanded.`,146:({comp:e})=>`Unable to instantiate component '${e}' as its module hasn't been loaded. Add 'ValidationModule' to see which module is required.`,147:({group:e})=>`Invalid charts customize panel group name supplied: '${e}'`,148:({group:e})=>`invalid chartGroupsDef config '${e}'`,149:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,150:()=>"'seriesChartTypes' are required when the 'customCombo' chart type is specified.",151:({chartType:e})=>`invalid chartType '${e}' supplied in 'seriesChartTypes', converting to 'line' instead.`,152:({colId:e})=>`no 'seriesChartType' found for colId = '${e}', defaulting to 'line'.`,153:({chartDataType:e})=>`unexpected chartDataType value '${e}' supplied, instead use 'category', 'series' or 'excluded'`,154:({colId:e})=>`cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: ${e}`,155:({option:e})=>`'${e}' is not a valid Chart Toolbar Option`,156:({panel:e})=>`Invalid panel in chartToolPanelsDef.panels: '${e}'`,157:({unrecognisedGroupIds:e})=>["unable to find group(s) for supplied groupIds:",e],158:()=>"can not expand a column item that does not represent a column group header",159:()=>"Invalid params supplied to createExcelFileForExcel() - `ExcelExportParams.data` is empty.",160:()=>"Export cancelled. Export is not allowed as per your configuration.",161:()=>"The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'",162:({id:e,dataType:t})=>`Unrecognized data type for excel export [${e}.dataType=${t}]`,163:({featureName:e})=>`Excel table export does not work with ${e}. The exported Excel file will not contain any Excel tables.
 Please turn off ${e} to enable Excel table exports.`,164:()=>"Unable to add data table to Excel sheet: A table already exists.",165:()=>"Unable to add data table to Excel sheet: Missing required parameters.",166:({unrecognisedGroupIds:e})=>["unable to find groups for these supplied groupIds:",e],167:({unrecognisedColIds:e})=>["unable to find columns for these supplied colIds:",e],168:()=>"detailCellRendererParams.template should be function or string",169:()=>'Reference to eDetailGrid was missing from the details template. Please add data-ref="eDetailGrid" to the template.',170:({providedStrategy:e})=>`invalid cellRendererParams.refreshStrategy = ${e} supplied, defaulting to refreshStrategy = 'rows'.`,171:()=>"could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions",172:()=>"could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData",173:({group:e})=>`invalid chartGroupsDef config '${e}'`,174:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,175:({menuTabName:e,itemsToConsider:t})=>[`Trying to render an invalid menu item '${e}'. Check that your 'menuTabs' contains one of `,t],176:({key:e})=>`unknown menu item type ${e}`,177:()=>"valid values for cellSelection.handle.direction are 'x', 'y' and 'xy'. Default to 'xy'.",178:({colId:e})=>`column ${e} is not visible`,179:()=>"totalValueGetter should be either a function or a string (expression)",180:()=>"agRichSelectCellEditor requires cellEditorParams.values to be set",181:()=>"agRichSelectCellEditor cannot have `multiSelect` and `allowTyping` set to `true`. AllowTyping has been turned off.",182:()=>'you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data',183:()=>"Group Column Filter only works on group columns. Please use a different filter.",184:({parentGroupData:e,childNodeData:t})=>["duplicate group keys for row data, keys should be unique",[e,t]],185:({data:e})=>["getDataPath() should not return an empty path",[e]],186:({rowId:e,rowData:t,duplicateRowsData:n})=>["duplicate group keys for row data, keys should be unique",e,t,...n??[]],187:({rowId:e,firstData:t,secondData:n})=>[`Duplicate node id ${e}. Row IDs are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values.`,"first instance",t,"second instance",n],188:()=>"getRowId callback must be provided for Server Side Row Model selection to work correctly.",189:({startRow:e})=>`invalid value ${e} for startRow, the value should be >= 0`,190:({rowGroupId:e,data:t})=>["null and undefined values are not allowed for server side row model keys",e?`column = ${e}`:"","data is ",t],194:({method:e})=>`calling gridApi.${e}() is only possible when using rowModelType=\`clientSide\`.`,195:({justCurrentPage:e})=>`selecting just ${e?"current page":"filtered"} only works when gridOptions.rowModelType='clientSide'`,196:({key:e})=>`Provided ids must be of string type. Invalid id provided: ${e}`,197:()=>"`toggledNodes` must be an array of string ids.",199:()=>"getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model. Use `api.getServerSideSelectionState()` instead.",200:ib,201:({rowModelType:e})=>`Could not find row model for rowModelType = ${e}`,202:()=>"`getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model. Use `api.getServerSideSelectionState()` instead.",203:()=>"Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.",204:()=>"Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.",205:({duplicateIdText:e})=>`Unable to display rows as duplicate row ids (${e}) were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids.`,206:()=>"getRowId callback must be implemented for transactions to work. Transaction was ignored.",207:()=>'The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.',208:()=>"Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects.",209:()=>`Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects. See ${Js}/filter-set-filter-list/#filter-value-types`,210:()=>"Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects?",211:()=>"property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date.",212:()=>"please review all your toolPanel components, it seems like at least one of them doesn't have an id",213:()=>"Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled.",214:({key:e})=>`unable to lookup Tool Panel as invalid key supplied: ${e}`,215:({key:e,defaultByKey:t})=>`the key ${e} is not a valid key for specifying a tool panel, valid keys are: ${Object.keys(t??{}).join(",")}`,216:({name:e})=>`Missing component for '${e}'`,217:({invalidColIds:e})=>["unable to find grid columns for the supplied colDef(s):",e],218:({property:e,defaultOffset:t})=>`${e} must be a number, the value you provided is not a valid number. Using the default of ${t}px.`,219:({property:e})=>`Property ${e} does not exist on the target object.`,220:({lineDash:e})=>`'${e}' is not a valid 'lineDash' option.`,221:()=>"agAggregationComponent should only be used with the client and server side row model.",222:()=>"agFilteredRowCountComponent should only be used with the client side row model.",223:()=>"agSelectedRowCountComponent should only be used with the client and server side row model.",224:()=>"agTotalAndFilteredRowCountComponent should only be used with the client side row model.",225:()=>"agTotalRowCountComponent should only be used with the client side row model.",226:()=>"viewport is missing init method.",227:()=>"menu item icon must be DOM node or string",228:({menuItemOrString:e})=>`unrecognised menu item ${e}`,229:({index:e})=>["invalid row index for ensureIndexVisible: ",e],230:()=>"detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://www.ag-grid.com/react-data-grid/master-detail-custom-detail/",231:()=>"As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.",232:()=>"Using both rowData and v-model. rowData will be ignored.",233:({methodName:e})=>`Framework component is missing the method ${e}()`,234:()=>'Group Column Filter does not work with the colDef property "field". This property will be ignored.',235:()=>'Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.',236:()=>'Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.',237:()=>"Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.",238:()=>"setRowCount can only accept a positive row count.",239:()=>'Theming API and CSS File Themes are both used in the same page. In v33 we released the Theming API as the new default method of styling the grid. See the migration docs https://www.ag-grid.com/react-data-grid/theming-migration/. Because no value was provided to the `theme` grid option it defaulted to themeQuartz. But the file (ag-grid.css) is also included and will cause styling issues. Either pass the string "legacy" to the theme grid option to use v32 style themes, or remove ag-grid.css from the page to use Theming API.',240:({theme:e})=>`theme grid option must be a Theming API theme object or the string "legacy", received: ${e}`,243:()=>"Failed to deserialize state - each provided state object must be an object.",244:()=>"Failed to deserialize state - `selectAllChildren` must be a boolean value or undefined.",245:()=>"Failed to deserialize state - `toggledNodes` must be an array.",246:()=>"Failed to deserialize state - Every `toggledNode` requires an associated string id.",247:()=>`Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule. 
Please rebuild the selection state and reapply it.`,248:()=>"SetFloatingFilter expects SetFilter as its parent",249:()=>"Must supply a Value Formatter in Set Filter params when using a Key Creator",250:()=>"Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.",251:({chartType:e})=>`AG Grid: Unable to create chart as an invalid chartType = '${e}' was supplied.`,252:()=>`cannot get grid to draw rows when it is in the middle of drawing rows. 
Your code probably called a grid API method while the grid was in the render stage. 
To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). 
To see what part of your code that caused the refresh check this stacktrace.`,253:({version:e})=>["Illegal version string: ",e],254:()=>"Cannot create chart: no chart themes available.",255:({point:e})=>`Lone surrogate U+${e==null?void 0:e.toString(16).toUpperCase()} is not a scalar value`,256:()=>"Unable to initialise. See validation error, or load ValidationModule if missing.",257:()=>sb("IntegratedChartsModule"),258:()=>sb("SparklinesModule"),259:({part:e})=>`the argument to theme.withPart must be a Theming API part object, received: ${e}`,260:({propName:e,compName:t,gridScoped:n,gridId:r,rowModelType:i})=>ib({reasonOrId:`AG Grid '${e}' component: ${t}`,moduleName:aa[t],gridId:r,gridScoped:n,rowModelType:i}),261:()=>"As of v33, `column.isHovered()` is deprecated. Use `api.isColumnHovered(column)` instead.",262:()=>'As of v33, icon key "smallDown" is deprecated. Use "advancedFilterBuilderSelect" for Advanced Filter Builder dropdown, "selectOpen" for Select cell editor and dropdowns (e.g. Integrated Charts menu), "richSelectOpen" for Rich Select cell editor.',263:()=>'As of v33, icon key "smallLeft" is deprecated. Use "panelDelimiterRtl" for Row Group Panel / Pivot Panel, "subMenuOpenRtl" for sub-menus.',264:()=>'As of v33, icon key "smallRight" is deprecated. Use "panelDelimiter" for Row Group Panel / Pivot Panel, "subMenuOpen" for sub-menus.',265:({colId:e})=>`Unable to infer chart data type for column '${e}' if first data entry is null. Please specify "chartDataType", or a "cellDataType" in the column definition. For more information, see ${Js}/integrated-charts-range-chart#coldefchartdatatype .`,266:()=>'As of v33.1, using "keyCreator" with the Rich Select Editor has been deprecated. It now requires the "formatValue" callback to convert complex data to strings.',267:()=>"Detail grids can not use a different theme to the master grid, the `theme` detail grid option will be ignored.",268:()=>"Transactions aren't supported with tree data when using treeDataChildrenField",269:()=>"When `masterSelects: 'detail'`, detail grids must be configured with multi-row selection"};function p_(e,t){const n=f_[e];if(!n)return[`Missing error text for error id ${e}!`];const r=n(t),s=`
See ${ME(e,t)}`;return Array.isArray(r)?r.concat(s):[r,s]}var g_={1:"Charting Aggregation",2:"pivotResultFields",3:"setTooltip"},m_=()=>({checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}}),C_=()=>({aggFunc:{module:"SharedAggregation"},autoHeight:{supportedRowModels:["clientSide","serverSide"],module:"RowAutoHeight"},cellClass:{module:"CellStyle"},cellClassRules:{module:"CellStyle"},cellEditor:({cellEditor:e,editable:t})=>{if(!t)return null;if(typeof e=="string"){const n=aa[e];if(n)return{module:n}}return{module:"CustomEditor"}},cellRenderer:({cellRenderer:e})=>{if(typeof e!="string")return null;const t=aa[e];return t?{module:t}:null},cellRendererParams:{validate:e=>(e.rowGroup!=null||e.rowGroupIndex!=null||e.cellRenderer==="agGroupCellRenderer")&&"checkbox"in e.cellRendererParams?'Since v33.0, `cellRendererParams.checkbox` has been deprecated. Use `rowSelection.checkboxLocation = "autoGroupColumn"` instead.':null},cellStyle:{module:"CellStyle"},children:()=>cF(),columnChooserParams:{module:"ColumnMenu"},contextMenuItems:{module:"ContextMenu"},dndSource:{module:"DragAndDrop"},dndSourceOnRowDrag:{module:"DragAndDrop"},editable:({editable:e,cellEditor:t})=>e&&!t?{module:"TextEditor"}:null,enableCellChangeFlash:{module:"HighlightChanges"},enablePivot:{module:"SharedPivot"},enableRowGroup:{module:"SharedRowGrouping"},enableValue:{module:"SharedAggregation"},filter:({filter:e})=>{if(e&&typeof e!="string"&&typeof e!="boolean")return{module:"CustomFilter"};if(typeof e=="string"){const t=aa[e];if(t)return{module:t}}return{module:"ColumnFilter"}},floatingFilter:{module:"ColumnFilter"},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerTooltip:{module:"Tooltip"},headerValueGetter:{validate:e=>{const t=e.headerValueGetter;return typeof t=="function"||typeof t=="string"?null:"headerValueGetter must be a function or a valid string expression"}},icons:{validate:({icons:e})=>{if(e){if(e.smallDown)return hs(262);if(e.smallLeft)return hs(263);if(e.smallRight)return hs(264)}return null}},mainMenuItems:{module:"ColumnMenu"},menuTabs:e=>{var n;const t=["columnsMenuTab","generalMenuTab"];return(n=e.menuTabs)!=null&&n.some(r=>t.includes(r))?{module:"ColumnMenu"}:null},pivot:{module:"SharedPivot"},pivotIndex:{module:"SharedPivot"},rowDrag:{module:"RowDrag"},rowGroup:{module:"SharedRowGrouping"},rowGroupIndex:{module:"SharedRowGrouping"},sortingOrder:{validate:e=>{const t=e.sortingOrder;if(Array.isArray(t)&&t.length>0){const n=t.filter(r=>!ou.includes(r));if(n.length>0)return`sortingOrder must be an array with elements from [${ou.map(Nd).join()}], currently it includes [${n.map(Nd).join()}]`}else if(!Array.isArray(t)||t.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${t}`;return null}},tooltipField:{module:"Tooltip"},tooltipValueGetter:{module:"Tooltip"},type:{validate:e=>{const t=e.type;return t instanceof Array?t.some(r=>typeof r!="string")?"if colDef.type is supplied an array it should be of type 'string[]'":null:typeof t=="string"?null:"colDef.type should be of type 'string' | 'string[]'"}},rowSpan:{validate:(e,{suppressRowTransform:t})=>t?null:"colDef.rowSpan requires suppressRowTransform to be enabled."},spanRows:{module:"CellSpan",dependencies:{editable:{required:[!1,void 0]},rowDrag:{required:[!1,void 0]},colSpan:{required:[!1,void 0]},rowSpan:{required:[!1,void 0]}},validate:(e,{rowSelection:t,cellSelection:n,suppressRowTransform:r,enableCellSpan:i,pagination:s,rowDragEntireRow:o,enableCellTextSelection:l})=>typeof t=="object"&&(t==null?void 0:t.mode)==="singleRow"&&t!=null&&t.enableClickSelection?"colDef.spanRows is not supported with rowSelection.clickSelection":n?"colDef.spanRows is not supported with cellSelection.":r?"colDef.spanRows is not supported with suppressRowTransform.":i?s?"colDef.spanRows is not supported with pagination.":o?"colDef.spanRows is not supported with rowDragEntireRow.":l?"colDef.spanRows is not supported with enableCellTextSelection.":null:"colDef.spanRows requires enableCellSpan to be enabled."}}),v_={headerName:void 0,columnGroupShow:void 0,headerStyle:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,spanRows:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0},w_=()=>Object.keys(v_),cF=()=>({objectName:"colDef",allProperties:w_(),docsUrl:"column-properties/",deprecations:m_(),validations:C_()}),y_=()=>({suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."},groupRemoveSingleChildren:{version:"33",message:"Use `groupHideParentOfSingleChild` instead."},groupRemoveLowestSingleChildren:{version:"33",message:'Use `groupHideParentOfSingleChild: "leafGroupsOnly"` instead.'},suppressRowGroupHidesColumns:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressHideOnGroup"` instead.'},suppressMakeColumnVisibleAfterUnGroup:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressShowOnUngroup"` instead.'},unSortIcon:{version:"33",message:"Use `defaultColDef.unSortIcon` instead."},sortingOrder:{version:"33",message:"Use `defaultColDef.sortingOrder` instead."},suppressPropertyNamesCheck:{version:"33",message:"`gridOptions` and `columnDefs` both have a `context` property that should be used for arbitrary user data. This means that column definitions and gridOptions should only contain valid properties making this property redundant."}});function zr(e,t,n,r=Number.MAX_VALUE){return typeof t=="number"||t==null?t==null||t>=n&&t<=r?null:r===Number.MAX_VALUE?`${e}: value should be greater than or equal to ${n}`:`${e}: value should be between ${n} and ${r}`:`${e}: value should be a number`}var S_=()=>{const e={alignedGrids:{module:"AlignedGrids"},allowContextMenuWithControlKey:{module:"ContextMenu"},autoSizePadding:{validate({autoSizePadding:n}){return zr("autoSizePadding",n,0)}},autoSizeStrategy:{module:"ColumnAutoSize"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"],validate({cacheBlockSize:n}){return zr("cacheBlockSize",n,1)}},cacheOverflowSize:{validate({cacheOverflowSize:n}){return zr("cacheOverflowSize",n,1)}},cellSelection:{module:"CellSelection"},columnHoverHighlight:{module:"ColumnHover"},datasource:{supportedRowModels:["infinite"],module:"InfiniteRowModel"},doesExternalFilterPass:{module:"ExternalFilter"},domLayout:{validate:n=>{const r=n.domLayout,i=["autoHeight","normal","print"];return r&&!i.includes(r)?`domLayout must be one of [${i.join()}], currently it's ${r}`:null}},editType:{module:"EditCore"},enableAdvancedFilter:{module:"AdvancedFilter"},enableCharts:{module:"IntegratedCharts"},enableFillHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeSelection:{module:"CellSelection",dependencies:{rowDragEntireRow:{required:[!1,void 0]}}},rowNumbers:{module:"RowNumbers"},getContextMenuItems:{module:"ContextMenu"},getLocaleText:{module:"Locale"},getMainMenuItems:{module:"ColumnMenu"},getRowClass:{module:"RowStyle"},getRowStyle:{module:"RowStyle"},grandTotalRow:{module:"SharedRowGrouping"},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:{required:[void 0,"bottom"]},treeData:{required:[void 0,!1],reason:"Tree Data has values at the group level so it doesn't make sense to hide them."}}},groupHideParentOfSingleChild:{dependencies:{groupHideOpenParents:{required:[void 0,!1]}}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveSingleChildren:{required:[void 0,!1]}}},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveLowestSingleChildren:{required:[void 0,!1]}}},groupSelectsChildren:{dependencies:{rowSelection:{required:["multiple"]}}},icons:{validate:({icons:n})=>{if(n){if(n.smallDown)return hs(262);if(n.smallLeft)return hs(263);if(n.smallRight)return hs(264)}return null}},infiniteInitialRowCount:{validate({infiniteInitialRowCount:n}){return zr("infiniteInitialRowCount",n,1)}},initialGroupOrderComparator:{supportedRowModels:["clientSide"]},initialState:{module:"GridState"},isExternalFilterPresent:{module:"ExternalFilter"},keepDetailRowsCount:{validate({keepDetailRowsCount:n}){return zr("keepDetailRowsCount",n,1)}},localeText:{module:"Locale"},masterDetail:{module:"SharedMasterDetail"},pagination:{module:"Pagination"},paginationPageSize:{validate({paginationPageSize:n}){return zr("paginationPageSize",n,1)}},paginationPageSizeSelector:{validate:n=>{const r=n.paginationPageSizeSelector;return typeof r=="boolean"||r==null||r.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},pinnedTopRowData:{module:"PinnedRow"},pinnedBottomRowData:{module:"PinnedRow"},pivotMode:{dependencies:{treeData:{required:[!1,void 0],reason:"Pivot Mode is not supported with Tree Data."}},module:"SharedPivot"},pivotPanelShow:{module:"RowGroupingPanel"},quickFilterText:{supportedRowModels:["clientSide"],module:"QuickFilter"},rowBuffer:{validate({rowBuffer:n}){return zr("rowBuffer",n,0)}},rowClass:{validate:n=>typeof n.rowClass=="function"?"rowClass should not be a function, please use getRowClass instead":null,module:"RowStyle"},rowClassRules:{module:"RowStyle"},rowData:{supportedRowModels:["clientSide"],module:"ClientSideRowModel"},rowDragManaged:{supportedRowModels:["clientSide"],dependencies:{treeData:{required:[!1,void 0]},pagination:{required:[!1,void 0]}},module:"RowDrag"},rowGroupPanelShow:{module:"RowGroupingPanel"},rowSelection:{validate({rowSelection:n}){return n&&typeof n=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':n&&typeof n!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":n&&n.mode!=="multiRow"&&n.mode!=="singleRow"?`Selection mode "${n.mode}" is invalid. Use one of 'singleRow' or 'multiRow'.`:null},module:"SharedRowSelection"},rowStyle:{validate:n=>{const r=n.rowStyle;return r&&typeof r=="function"?"rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead":null},module:"RowStyle"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"ServerSideRowModel"},serverSideInitialRowCount:{supportedRowModels:["serverSide"],validate({serverSideInitialRowCount:n}){return zr("serverSideInitialRowCount",n,1)}},serverSideOnlyRefreshFilteredGroups:{supportedRowModels:["serverSide"]},serverSideSortAllLevels:{supportedRowModels:["serverSide"]},sideBar:{module:"SideBar"},sortingOrder:{validate:n=>{const r=n.sortingOrder;if(Array.isArray(r)&&r.length>0){const i=r.filter(s=>!ou.includes(s));if(i.length>0)return`sortingOrder must be an array with elements from [${ou.map(Nd).join()}], currently it includes [${i.map(Nd).join()}]`}else if(!Array.isArray(r)||r.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${r}`;return null}},statusBar:{module:"StatusBar"},tooltipHideDelay:{validate:n=>n.tooltipHideDelay&&n.tooltipHideDelay<0?"tooltipHideDelay should not be lower than 0":null},tooltipShowDelay:{validate:n=>n.tooltipShowDelay&&n.tooltipShowDelay<0?"tooltipShowDelay should not be lower than 0":null},treeData:{supportedRowModels:["clientSide","serverSide"],module:"SharedTreeData",validate:n=>{const r=n.rowModelType??"clientSide";switch(r){case"clientSide":{const{treeDataChildrenField:i,getDataPath:s}=n;return!i&&!s?"treeData requires either 'treeDataChildrenField' or 'getDataPath' in the clientSide row model.":i&&s?"Cannot use both 'treeDataChildrenField' and 'getDataPath' at the same time.":null}case"serverSide":{const i=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${r} row model.`;return n.isServerSideGroup&&n.getServerSideGroupKey?null:i}}return null}},treeDataChildrenField:{module:"SharedTreeData"},undoRedoCellEditing:{module:"UndoRedoEdit"},valueCache:{module:"ValueCache"},viewportDatasource:{supportedRowModels:["viewport"],module:"ViewportRowModel"},viewportRowModelBufferSize:{validate({viewportRowModelBufferSize:n}){return zr("viewportRowModelBufferSize",n,0)}},viewportRowModelPageSize:{validate({viewportRowModelPageSize:n}){return zr("viewportRowModelPageSize",n,1)}},rowDragEntireRow:{dependencies:{cellSelection:{required:[void 0]}}},enableCellSpan:{module:"CellSpan"}},t={};return aF.forEach(n=>{t[n]={expectedType:"boolean"}}),oF.forEach(n=>{t[n]={expectedType:"number"}}),Dn(t,e),t},b_=()=>({objectName:"gridOptions",allProperties:[...q2,...V2.map(e=>GE(e))],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:y_(),validations:S_()}),R_={expanded:1,contracted:1,"tree-closed":1,"tree-open":1,"tree-indeterminate":1,pin:1,"eye-slash":1,arrows:1,left:1,right:1,group:1,aggregation:1,pivot:1,"not-allowed":1,chart:1,cross:1,cancel:1,tick:1,first:1,previous:1,next:1,last:1,linked:1,unlinked:1,"color-picker":1,loading:1,menu:1,"menu-alt":1,filter:1,columns:1,maximize:1,minimize:1,copy:1,cut:1,paste:1,grip:1,save:1,csv:1,excel:1,"small-down":1,"small-left":1,"small-right":1,"small-up":1,asc:1,desc:1,none:1,up:1,down:1,plus:1,minus:1,settings:1,"checkbox-checked":1,"checkbox-indeterminate":1,"checkbox-unchecked":1,"radio-button-on":1,"radio-button-off":1,eye:1},x_={chart:"MenuCore",cancel:"EnterpriseCore",first:"Pagination",previous:"Pagination",next:"Pagination",last:"Pagination",linked:"IntegratedCharts",loadingMenuItems:"MenuCore",unlinked:"IntegratedCharts",menu:"ColumnHeaderComp",legacyMenu:"ColumnMenu",filter:"ColumnFilter",filterActive:"ColumnFilter",filterTab:"ColumnMenu",filtersToolPanel:"FiltersToolPanel",columns:["MenuCore"],columnsToolPanel:["ColumnsToolPanel"],maximize:"EnterpriseCore",minimize:"EnterpriseCore",save:"MenuCore",columnGroupOpened:"ColumnGroupHeaderComp",columnGroupClosed:"ColumnGroupHeaderComp",accordionOpen:"EnterpriseCore",accordionClosed:"EnterpriseCore",accordionIndeterminate:"EnterpriseCore",columnSelectClosed:["ColumnsToolPanel","ColumnMenu"],columnSelectOpen:["ColumnsToolPanel","ColumnMenu"],columnSelectIndeterminate:["ColumnsToolPanel","ColumnMenu"],columnMovePin:"SharedDragAndDrop",columnMoveHide:"SharedDragAndDrop",columnMoveMove:"SharedDragAndDrop",columnMoveLeft:"SharedDragAndDrop",columnMoveRight:"SharedDragAndDrop",columnMoveGroup:"SharedDragAndDrop",columnMoveValue:"SharedDragAndDrop",columnMovePivot:"SharedDragAndDrop",dropNotAllowed:"SharedDragAndDrop",groupContracted:"GroupCellRenderer",groupExpanded:"GroupCellRenderer",setFilterGroupClosed:"SetFilter",setFilterGroupOpen:"SetFilter",setFilterGroupIndeterminate:"SetFilter",setFilterLoading:"SetFilter",close:"EnterpriseCore",check:"MenuItem",colorPicker:"CommunityCore",groupLoading:"LoadingCellRenderer",menuAlt:"ColumnHeaderComp",menuPin:"MenuCore",menuValue:"MenuCore",menuAddRowGroup:["MenuCore","ColumnsToolPanel"],menuRemoveRowGroup:["MenuCore","ColumnsToolPanel"],clipboardCopy:"MenuCore",clipboardCut:"MenuCore",clipboardPaste:"MenuCore",pivotPanel:["ColumnsToolPanel","RowGroupingPanel"],rowGroupPanel:["ColumnsToolPanel","RowGroupingPanel"],valuePanel:"ColumnsToolPanel",columnDrag:"EnterpriseCore",rowDrag:["RowDrag","DragAndDrop"],csvExport:"MenuCore",excelExport:"MenuCore",smallDown:"CommunityCore",selectOpen:"CommunityCore",richSelectOpen:"RichSelect",richSelectRemove:"RichSelect",smallLeft:"CommunityCore",smallRight:"CommunityCore",subMenuOpen:"MenuItem",subMenuOpenRtl:"MenuItem",panelDelimiter:"RowGroupingPanel",panelDelimiterRtl:"RowGroupingPanel",smallUp:"CommunityCore",sortAscending:["MenuCore","Sort"],sortDescending:["MenuCore","Sort"],sortUnSort:["MenuCore","Sort"],advancedFilterBuilder:"AdvancedFilter",advancedFilterBuilderDrag:"AdvancedFilter",advancedFilterBuilderInvalid:"AdvancedFilter",advancedFilterBuilderMoveUp:"AdvancedFilter",advancedFilterBuilderMoveDown:"AdvancedFilter",advancedFilterBuilderAdd:"AdvancedFilter",advancedFilterBuilderRemove:"AdvancedFilter",advancedFilterBuilderSelectOpen:"AdvancedFilter",chartsMenu:"IntegratedCharts",chartsMenuEdit:"IntegratedCharts",chartsMenuAdvancedSettings:"IntegratedCharts",chartsMenuAdd:"IntegratedCharts",chartsColorPicker:"IntegratedCharts",chartsThemePrevious:"IntegratedCharts",chartsThemeNext:"IntegratedCharts",chartsDownload:"IntegratedCharts",checkboxChecked:"CommunityCore",checkboxIndeterminate:"CommunityCore",checkboxUnchecked:"CommunityCore",radioButtonOn:"CommunityCore",radioButtonOff:"CommunityCore"},E_=new Set(["colorPicker","smallUp","checkboxChecked","checkboxIndeterminate","checkboxUnchecked","radioButtonOn","radioButtonOff","smallDown","smallLeft","smallRight"]),F_={pinSubMenu:"PinnedColumn",pinLeft:"PinnedColumn",pinRight:"PinnedColumn",clearPinned:"PinnedColumn",valueAggSubMenu:"SharedAggregation",autoSizeThis:"ColumnAutoSize",autoSizeAll:"ColumnAutoSize",rowGroup:"SharedRowGrouping",rowUnGroup:"SharedRowGrouping",resetColumns:"CommunityCore",expandAll:["ClientSideRowModelHierarchy","ServerSideRowModel"],contractAll:["ClientSideRowModelHierarchy","ServerSideRowModel"],copy:"Clipboard",copyWithHeaders:"Clipboard",copyWithGroupHeaders:"Clipboard",cut:"Clipboard",paste:"Clipboard",export:["CsvExport","ExcelExport"],csvExport:"CsvExport",excelExport:"ExcelExport",separator:"CommunityCore",pivotChart:"IntegratedCharts",chartRange:"IntegratedCharts",columnFilter:"ColumnFilter",columnChooser:"ColumnMenu",sortAscending:"Sort",sortDescending:"Sort",sortUnSort:"Sort"},P_=class extends te{constructor(){super(...arguments),this.beanName="validation"}wireBeans(e){this.gridOptions=e.gridOptions,wO(this)}postConstruct(){this.processGridOptions(this.gridOptions)}warnOnInitialPropertyUpdate(e,t){e==="api"&&r_[t]&&he(22,{key:t})}processGridOptions(e){this.processOptions(e,b_())}validateApiFunction(e,t){return o_(e,t,this.beans)}missingUserComponent(e,t,n,r){const i=aa[t];i?this.gos.assertModuleRegistered(i,`AG Grid '${e}' component: ${t}`):he(101,{propertyName:e,componentName:t,agGridDefaults:n,jsComps:r})}checkRowEvents(e){T_.has(e)&&he(10,{eventType:e})}validateIcon(e){if(E_.has(e)&&he(43,{iconName:e}),R_[e])return;const t=x_[e];if(t){ut(200,{reasonOrId:`icon '${e}'`,moduleName:t,gridScoped:mC(),gridId:this.beans.context.getGridId(),rowModelType:this.gos.get("rowModelType"),additionalText:"Alternatively, use the CSS icon name directly."});return}he(134,{iconName:e})}validateMenuItem(e){const t=F_[e];t&&this.gos.assertModuleRegistered(t,`menu item '${e}'`)}isProvidedUserComp(e){return!!aa[e]}validateColDef(e,t,n){var r;(n||!((r=this.beans.dataTypeSvc)!=null&&r.isColPendingInference(t)))&&this.processOptions(e,cF())}processOptions(e,t){const{validations:n,deprecations:r,allProperties:i,propertyExceptions:s,objectName:o,docsUrl:l}=t;i&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...s??[],...Object.keys(r)],i,o,l);const c=new Set,d=p=>{const m=n[p];if(m)if(typeof m=="function"){const C=m(e,this.gridOptions,this.beans);if(!C)return;if("objectName"in C){const y=e[p];if(Array.isArray(y)){y.forEach(b=>{this.processOptions(b,C)});return}this.processOptions(e[p],C);return}return C}else return m;else return};Object.keys(e).forEach(p=>{const m=r[p];if(m){const{message:D,version:A}=m;c.add(`As of v${A}, ${String(p)} is deprecated. ${D??""}`)}const C=e[p];if(C==null||C===!1)return;const y=d(p);if(!y)return;const{module:b,dependencies:R,validate:x,supportedRowModels:E,expectedType:P}=y;if(P){const D=typeof C;if(D!==P){c.add(`${String(p)} should be of type '${P}' but received '${D}' (${C}).`);return}}if(E){const D=this.gridOptions.rowModelType??"clientSide";if(!E.includes(D)){c.add(`${String(p)} is not supported with the '${D}' row model. It is only valid with: ${E.join(", ")}.`);return}}if(b){const D=Array.isArray(b)?b:[b];let A=!0;if(D.forEach(O=>{this.gos.assertModuleRegistered(O,String(p))||(A=!1)}),!A)return}if(R){const D=this.checkForRequiredDependencies(p,R,e);if(D){c.add(D);return}}if(x){const D=x(e,this.gridOptions,this.beans);if(D){c.add(D);return}}}),c.size>0&&c.forEach(p=>{Hl(p)})}checkForRequiredDependencies(e,t,n){const i=Object.entries(t).filter(([s,o])=>{const l=n[s];return!o.required.includes(l)});return i.length===0?null:i.map(([s,o])=>`'${String(e)}' requires '${s}' to be one of [${o.required.map(l=>l===null?"null":l===void 0?"undefined":l).join(", ")}]. ${o.reason??""}`).join(`
           `)}checkProperties(e,t,n,r,i){const s=["__ob__","__v_skip","__metadata__"],o=D_(Object.getOwnPropertyNames(e),[...s,...t,...n],n),l=Object.keys(o);for(const c of l){const d=o[c];let f=`invalid ${r} property '${c}' did you mean any of these: ${d.slice(0,8).join(", ")}.`;n.includes("context")&&(f+=`
If you are trying to annotate ${r} with application data, use the '${r}.context' property instead.`),Hl(f)}if(l.length>0&&i){const c=this.beans.frameworkOverrides.getDocLink(i);Hl(`to see all the valid ${r} properties please check: ${c}`)}}getConsoleMessage(e,t){return p_(e,t)}};function D_(e,t,n){const r={},i=e.filter(s=>!t.some(o=>o===s));return i.length>0&&i.forEach(s=>r[s]=lF({inputValue:s,allSuggestions:n}).values),r}var T_=new Set(["firstChildChanged","lastChildChanged","childIndexChanged"]),A_={moduleName:"Validation",version:ve,beans:[P_]};function dF(e){e.sibling&&(e.sibling.childrenAfterFilter=e.childrenAfterFilter)}var M_=class extends te{constructor(){super(...arguments),this.beanName="filterStage",this.refreshProps=new Set(["excludeChildrenWhenTreeDataFiltering"]),this.step="filter"}wireBeans(e){this.filterManager=e.filterManager}execute(e){const{changedPath:t}=e;this.filter(t)}filter(e){var n;const t=!!((n=this.filterManager)!=null&&n.isChildFilterPresent());this.filterNodes(t,e)}filterNodes(e,t){const n=(r,i)=>{r.hasChildren()&&e&&!i?r.childrenAfterFilter=r.childrenAfterGroup.filter(s=>{const o=s.childrenAfterFilter&&s.childrenAfterFilter.length>0,l=s.data&&this.filterManager.doesRowPassFilter({rowNode:s});return o||l}):r.childrenAfterFilter=r.childrenAfterGroup,dF(r)};if(this.doingTreeDataFiltering()){const r=(s,o)=>{if(s.childrenAfterGroup)for(let l=0;l<s.childrenAfterGroup.length;l++){const c=s.childrenAfterGroup[l],d=o||this.filterManager.doesRowPassFilter({rowNode:c});c.childrenAfterGroup?r(s.childrenAfterGroup[l],d):n(c,d)}n(s,o)},i=s=>r(s,!1);t.executeFromRootNode(i)}else{const r=i=>n(i,!1);t.forEachChangedNodeDepthFirst(r,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},k_=class extends xC{constructor(){super(...arguments),this.iconCreated=!1}setComp(e,t,n,r,i){this.comp=e;const s=wu(this,this.beans.context,i);this.eButtonShowMainFilter=n,this.eFloatingFilterBody=r,this.setGui(t,s),this.setupActive(),this.refreshHeaderStyles(),this.setupWidth(s),this.setupLeft(s),this.setupHover(s),this.setupFocus(s),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(s),this.setupUi(),s.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(s),s.addManagedListeners(this.column,{colDefChanged:()=>this.onColDefChanged(s)}),s.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.colDef;return Le(t.gos,{colDef:n,column:e,floatingFilter:!0})}setupActive(){const e=this.column.getColDef(),t=!!e.filter,n=!!e.floatingFilter;this.active=t&&n}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=rr("filter",this.beans,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new Ma(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.getLocaleTextFunc();wh(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){var o;const{beans:t}=this;if(Nt(t)===this.eGui)return;const i=vo(t,this.eGui,null,e.shiftKey);if(i){(o=t.headerNavigation)==null||o.scrollToColumn(this.column),e.preventDefault(),i.focus();return}const s=this.findNextColumnWithFloatingFilter(e.shiftKey);s&&t.focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:this.rowCtrl.rowIndex,column:s},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleCols;let n=this.column;do if(n=e?t.getColBefore(n):t.getColAfter(n),!n)break;while(!n.getColDef().filter||!n.getColDef().floatingFilter);return n}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case X.UP:case X.DOWN:t||e.preventDefault();case X.LEFT:case X.RIGHT:if(t)return;e.stopPropagation();case X.ENTER:t&&ho(this.eGui)&&e.preventDefault();break;case X.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const n=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),r=!!e.relatedTarget&&Qs(e.relatedTarget,"ag-floating-filter");if(n&&r&&e.target===this.eGui){const i=this.lastFocusEvent,s=!!(i&&i.key===X.TAB);if(i&&s){const o=i.shiftKey;ho(this.eGui,o)}}this.focusThis()}setupHover(e){var t;(t=this.beans.colHover)==null||t.addHeaderFilterColumnHoverListener(e,this.comp,this.column,this.eGui)}setupLeft(e){const t=new RC(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){var e;this.suppressFilterButton=!((e=this.beans.menuSvc)!=null&&e.isFloatingFilterButtonEnabled(this.column)),this.highlightFilterButtonWhenActive=!Vn(this.gos)}setupUserComp(){var t;if(!this.active)return;const e=(t=this.beans.filterManager)==null?void 0:t.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){var t;const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;(t=this.beans.menuSvc)==null||t.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;const{filterManager:t}=this.beans,n=r=>{if((r==null?void 0:r.source)==="filterDestroyed"&&!this.isAlive())return;const i=this.comp.getFloatingFilterComp();i&&i.then(s=>{if(s){const o=t==null?void 0:t.getCurrentFloatingFilterParentModel(this.column),l=r?{...r,columns:r.columns??[],source:r.source==="api"?"api":"columnFilter"}:null;s.onParentModelChanged(o,l)}})};[this.destroySyncListener]=e.addManagedListeners(this.column,{filterChanged:n}),t!=null&&t.isFilterActive(this.column)&&n(null)}setupWidth(e){const t=()=>{const n=`${this.column.getActualWidth()}px`;this.comp.setWidth(n)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){var e;if(!this.suppressFilterButton&&this.comp){const t=!!((e=this.beans.filterManager)!=null&&e.isFilterAllowed(this.column));this.comp.setButtonWrapperDisplayed(t),this.highlightFilterButtonWhenActive&&t&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){var s;const t=this.active;this.setupActive();const n=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const r=this.active?(s=this.beans.filterManager)==null?void 0:s.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,i=this.comp.getFloatingFilterComp();!i||!r?this.updateCompDetails(e,r,n):i.then(o=>{var l;!o||(l=this.beans.filterManager)!=null&&l.areFilterCompsDifferent(this.userCompDetails??null,r)?this.updateCompDetails(e,r,n):this.updateFloatingFilterParams(r)})}updateCompDetails(e,t,n){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),n&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e){var n;if(!e)return;const t=e.params;(n=this.comp.getFloatingFilterComp())==null||n.then(r=>{r!=null&&r.refresh&&typeof r.refresh=="function"&&r.refresh(t)})}addResizeAndMoveKeyboardListeners(){}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};function I_(e,t){var r;const n=e.colModel.getCol(t);if(!n){ut(12,{colKey:t});return}(r=e.menuSvc)==null||r.showColumnMenu({column:n,positionBy:"auto"})}function O_(e){var t;(t=e.menuSvc)==null||t.hidePopupMenu()}var L_={moduleName:"SharedMenu",version:ve,beans:[UB],apiFunctions:{showColumnMenu:I_,hidePopupMenu:O_}},N_=0,B_=200,H_=class extends te{constructor(){super(...arguments),this.beanName="popupSvc",this.popupList=[]}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:n,column:r,node:i,event:s}=e,o=t.getBoundingClientRect(),l=this.getParentRect();this.setAlignedTo(t,n);let c=!1;const d=()=>{const f=this.keepXYWithinBounds(n,o.top-l.top,0),p=n.clientWidth>0?n.clientWidth:200;c||(n.style.minWidth=`${p}px`,c=!0);const C=l.right-l.left-p;let y;return this.gos.get("enableRtl")?(y=R(),y<0&&(y=b(),this.setAlignedStyles(n,"left")),y>C&&(y=0,this.setAlignedStyles(n,"right"))):(y=b(),y>C&&(y=R(),this.setAlignedStyles(n,"right")),y<0&&(y=0,this.setAlignedStyles(n,"left"))),{x:y,y:f};function b(){return o.right-l.left-2}function R(){return o.left-l.left-p}};this.positionPopup({ePopup:n,keepWithinBounds:!0,updatePosition:d,postProcessCallback:()=>this.callPostProcessPopup("subMenu",n,t,s instanceof MouseEvent?s:void 0,r,i)})}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:n,nudgeY:r,skipObserver:i}=e;this.positionPopup({ePopup:t,nudgeX:n,nudgeY:r,keepWithinBounds:!0,skipObserver:i,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:n,nudgeY:r,keepWithinBounds:i,eventSource:s,alignSide:o="left",position:l="over",column:c,rowNode:d,type:f}=e,p=s.getBoundingClientRect(),m=this.getParentRect();this.setAlignedTo(s,t);const C=()=>{let y=p.left-m.left;o==="right"&&(y-=t.offsetWidth-p.width);let b;return l==="over"?(b=p.top-m.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,p,m,e.nudgeY||0)==="under"?b=p.top-m.top+p.height:b=p.top-t.offsetHeight-(r||0)*2-m.top),{x:y,y:b}};this.positionPopup({ePopup:t,nudgeX:n,nudgeY:r,keepWithinBounds:i,updatePosition:C,postProcessCallback:()=>this.callPostProcessPopup(f,t,s,null,c,d)})}shouldRenderUnderOrAbove(e,t,n,r){const i=n.bottom-t.bottom,s=t.top-n.top,o=e.offsetHeight+r;return i>o?"under":s>o||s>i?"above":"under"}setAlignedStyles(e,t){const n=this.getPopupIndex(e);if(n===-1)return;const r=this.popupList[n],{alignedToElement:i}=r;!i||(["right","left","over","above","under"].forEach(o=>{i.classList.remove(`ag-has-popup-positioned-${o}`),e.classList.remove(`ag-popup-positioned-${o}`)}),!t)||(i.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}setAlignedTo(e,t){const n=this.getPopupIndex(t);if(n!==-1){const r=this.popupList[n];r.alignedToElement=e}}callPostProcessPopup(e,t,n,r,i,s){const o=this.gos.getCallback("postProcessPopup");o&&o({column:i,rowNode:s,ePopup:t,type:e,eventSource:n,mouseEvent:r})}positionPopup(e){const{ePopup:t,keepWithinBounds:n,nudgeX:r,nudgeY:i,skipObserver:s,updatePosition:o}=e,l={width:0,height:0},c=(d=!1)=>{let{x:f,y:p}=o();d&&t.clientWidth===l.width&&t.clientHeight===l.height||(l.width=t.clientWidth,l.height=t.clientHeight,r&&(f+=r),i&&(p+=i),n&&(f=this.keepXYWithinBounds(t,f,1),p=this.keepXYWithinBounds(t,p,0)),t.style.left=`${f}px`,t.style.top=`${p}px`,e.postProcessCallback&&e.postProcessCallback())};if(c(),!s){const d=Mi(this.beans,t,()=>c(!0));setTimeout(()=>d(),B_)}}getActivePopups(){return this.popupList.map(e=>e.element)}getParentRect(){const e=Gt(this.beans);let t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),xE(t)}keepXYWithinBounds(e,t,n){const r=n===0,i=r?"clientHeight":"clientWidth",s=r?"top":"left",o=r?"height":"width",l=r?"scrollTop":"scrollLeft",c=Gt(this.beans),d=c.documentElement,f=this.getPopupParent(),p=e.getBoundingClientRect(),m=f.getBoundingClientRect(),C=c.documentElement.getBoundingClientRect(),y=f===c.body,b=Math.ceil(p[o]);let x=y?(r?RE:Md)(d)+d[l]:f[i];y&&(x-=Math.abs(C[s]-m[s]));const E=x-b;return Math.min(Math.max(t,0),Math.abs(E))}addPopup(e){const t=Gt(this.beans),{eChild:n,ariaLabel:r,alwaysOnTop:i,positionCallback:s,anchorToElement:o}=e;if(!t)return he(122),{hideFunc:()=>{}};const l=this.getPopupIndex(n);if(l!==-1)return{hideFunc:this.popupList[l].hideFunc};this.initialisePopupPosition(n);const c=this.createPopupWrapper(n,r,!!i),d=this.addEventListenersToPopup({...e,wrapperEl:c});return s&&s(),this.addPopupToPopupList(n,c,d,o),{hideFunc:d}}initialisePopupPosition(e){const n=this.getPopupParent().getBoundingClientRect();Ce(e.style.top)||(e.style.top=`${n.top*-1}px`),Ce(e.style.left)||(e.style.left=`${n.left*-1}px`)}createPopupWrapper(e,t,n){const r=this.getPopupParent(),i=document.createElement("div"),{environment:s,gos:o}=this.beans;return s.applyThemeClasses(i),i.classList.add("ag-popup"),e.classList.add(o.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||Fr(e,"dialog"),wh(e,t),i.appendChild(e),r.appendChild(i),n?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),i}handleThemeChange(e){if(e.themeChanged){const t=this.beans.environment;for(const n of this.popupList)t.applyThemeClasses(n.wrapper)}}addEventListenersToPopup(e){const t=this.beans,n=Gt(t),r=this.getPopupParent(),{wrapperEl:i,eChild:s,closedCallback:o,afterGuiAttached:l,closeOnEsc:c,modal:d}=e;let f=!1;const p=b=>{if(!i.contains(Nt(t)))return;b.key===X.ESCAPE&&!Si(b)&&y({keyboardEvent:b})},m=b=>y({mouseEvent:b}),C=b=>y({touchEvent:b}),y=(b={})=>{const{mouseEvent:R,touchEvent:x,keyboardEvent:E,forceHide:P}=b;!P&&(this.isEventFromCurrentPopup({mouseEvent:R,touchEvent:x},s)||f)||(f=!0,r.removeChild(i),n.removeEventListener("keydown",p),n.removeEventListener("mousedown",m),n.removeEventListener("touchstart",C),n.removeEventListener("contextmenu",m),this.eventSvc.removeEventListener("dragStarted",m),o&&o(R||x||E),this.removePopupFromPopupList(s))};return l&&l({hidePopup:y}),window.setTimeout(()=>{c&&n.addEventListener("keydown",p),d&&(n.addEventListener("mousedown",m),this.eventSvc.addEventListener("dragStarted",m),n.addEventListener("touchstart",C),n.addEventListener("contextmenu",m))},0),y}addPopupToPopupList(e,t,n,r){this.popupList.push({element:e,wrapper:t,hideFunc:n,instanceId:N_++,isAnchored:!!r}),r&&this.setPopupPositionRelatedToElement(e,r)}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const n=this.getPopupIndex(e);if(n===-1)return;const r=this.popupList[n];if(r.stopAnchoringPromise&&r.stopAnchoringPromise.then(s=>s&&s()),r.stopAnchoringPromise=void 0,r.isAnchored=!1,!t)return;const i=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:r.hideFunc});return r.stopAnchoringPromise=i,r.isAnchored=!0,i}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(t=>t.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),n=t.getBoundingClientRect(),{element:r,ePopup:i}=e,s=r.getBoundingClientRect(),o=p=>parseInt(p.substring(0,p.length-1),10),l=(p,m)=>{const C=n[p]-s[p],y=o(i.style[p]);return{initialDiff:C,lastDiff:C,initial:y,last:y,direction:m}},c=l("top",0),d=l("left",1),f=this.beans.frameworkOverrides;return new Et(p=>{f.wrapIncoming(()=>{f.setInterval(()=>{const m=t.getBoundingClientRect(),C=r.getBoundingClientRect();if(C.top==0&&C.left==0&&C.height==0&&C.width==0){e.hidePopup();return}const b=(R,x)=>{const E=o(i.style[x]);R.last!==E&&(R.initial=E,R.last=E);const P=m[x]-C[x];if(P!=R.lastDiff){const D=this.keepXYWithinBounds(i,R.initial+R.initialDiff-P,R.direction);i.style[x]=`${D}px`,R.last=D}R.lastDiff=P};b(c,"top"),b(d,"left")},200).then(m=>{p(()=>{m!=null&&window.clearInterval(m)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){const{mouseEvent:n,touchEvent:r}=e,i=n||r;if(!i)return!1;const s=this.getPopupIndex(t);if(s===-1)return!1;for(let o=s;o<this.popupList.length;o++){const l=this.popupList[o];if(zO(l.element,i))return!0}return this.isElementWithinCustomPopup(i.target)}isElementWithinCustomPopup(e){const t=Gt(this.beans);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const n=this.getWrapper(e);n&&(n.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(n))}bringPopupToFront(e){const t=this.getPopupParent(),n=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),r=n.length,i=this.getWrapper(e);if(!i||r<=1||!t.contains(e))return;const s=[],o=[];for(const m of n)m!==i&&(m.classList.contains("ag-always-on-top")?o.push(m):s.push(m));const l=[],c=o.length,p=i.classList.contains("ag-always-on-top")||!c?[...s,...o,i]:[...s,i,...o];for(let m=0;m<=r;m++){const C=p[m];if(n[m]===p[m]||C===i)continue;C.querySelectorAll("div").forEach(b=>{b.scrollTop!==0&&l.push([b,b.scrollTop])}),m===0?t.insertAdjacentElement("afterbegin",C):p[m-1].insertAdjacentElement("afterend",C)}for(;l.length;){const m=l.pop();m[0].scrollTop=m[1]}}},Eh={moduleName:"Popup",version:ve,beans:[H_]},G_=".ag-set-filter{--ag-indentation-level:0}.ag-set-filter-item{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-set-filter-item{padding-left:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}:where(.ag-rtl) .ag-set-filter-item{padding-right:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-set-filter-item-checkbox{display:flex;height:100%;width:100%}.ag-set-filter-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr) .ag-set-filter-group-icons{margin-right:var(--ag-widget-container-horizontal-padding)}:where(.ag-rtl) .ag-set-filter-group-icons{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-filter-body-wrapper{display:flex;flex-direction:column}:where(.ag-menu:not(.ag-tabs) .ag-filter) .ag-filter-body-wrapper,:where(.ag-menu:not(.ag-tabs) .ag-filter)>:not(.ag-filter-wrapper){min-width:180px}.ag-filter-filter{flex:1 1 0px}.ag-filter-condition{display:flex;justify-content:center}.ag-floating-filter-body{display:flex;flex:1 1 auto;height:100%;position:relative}.ag-floating-filter-full-body{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;width:100%}:where(.ag-floating-filter-full-body)>div{flex:1 1 auto}.ag-floating-filter-input{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}:where(.ag-input-field-input[type=date]){width:1px}}.ag-floating-filter-button{display:flex;flex:none}.ag-set-floating-filter-input [disabled]{pointer-events:none}.ag-floating-filter-button-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-filter-loading{align-items:unset;background-color:var(--ag-chrome-background-color);height:100%;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;width:100%;z-index:1;:where(.ag-menu) &{background-color:var(--ag-menu-background-color)}}.ag-filter-separator{border-top:1px solid var(--menu-separator-color)}:where(.ag-filter-select) .ag-picker-field-wrapper{width:0}.ag-filter-condition-operator{height:17px}:where(.ag-ltr) .ag-filter-condition-operator-or{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-condition-operator-or{margin-right:calc(var(--ag-spacing)*2)}.ag-set-filter-select-all{padding-top:var(--ag-widget-container-vertical-padding)}.ag-filter-no-matches,.ag-set-filter-list{height:calc(var(--ag-list-item-height)*6)}.ag-filter-no-matches{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-set-filter-tree-list{height:calc(var(--ag-list-item-height)*10)}.ag-set-filter-filter{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-to{margin-top:var(--ag-widget-vertical-spacing)}.ag-mini-filter{margin:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}:where(.ag-ltr) .ag-set-filter-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-rtl) .ag-set-filter-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-filter-menu) .ag-set-filter-list{min-width:200px}.ag-filter-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-filter-apply-panel{display:flex;justify-content:flex-end;overflow:hidden;padding:var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) var(--ag-widget-container-vertical-padding)}.ag-filter-apply-panel-button{line-height:1.5}:where(.ag-ltr) .ag-filter-apply-panel-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-apply-panel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-simple-filter-body-wrapper{display:flex;flex-direction:column;min-height:calc(var(--ag-list-item-height) + var(--ag-widget-container-vertical-padding) + var(--ag-widget-vertical-spacing));overflow-y:auto;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));&>*{margin-bottom:var(--ag-widget-vertical-spacing)}:where(.ag-resizer-wrapper){margin:0}}.ag-multi-filter-menu-item{margin:var(--ag-spacing) 0}.ag-multi-filter-group-title-bar{background-color:transparent;color:var(--ag-header-text-color);font-weight:500;padding:calc(var(--ag-spacing)*1.5) var(--ag-spacing)}.ag-group-filter-field-select-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}";function V_(e){const t=e.filterManager;return!!(t!=null&&t.isColumnFilterPresent())||!!(t!=null&&t.isAggregateFilterPresent())}function W_(e,t){var n;return((n=e.filterManager)==null?void 0:n.getColumnFilterInstance(t))??Promise.resolve(void 0)}function __(e,t){var r;const n=e.colModel.getColDefCol(t);if(n)return(r=e.filterManager)==null?void 0:r.destroyFilter(n,"api")}function z_(e,t){e.frameworkOverrides.wrapIncoming(()=>{var n;return(n=e.filterManager)==null?void 0:n.setFilterModel(t)})}function j_(e){var t;return((t=e.filterManager)==null?void 0:t.getFilterModel())??{}}function U_(e,t){var n;return((n=e.filterManager)==null?void 0:n.getColumnFilterModel(t))??null}function $_(e,t,n){var r;return((r=e.filterManager)==null?void 0:r.setColumnFilterModel(t,n))??Promise.resolve()}function K_(e,t){var r;const n=e.colModel.getCol(t);if(!n){ut(12,{colKey:t});return}(r=e.menuSvc)==null||r.showFilterMenu({column:n,containerType:"columnFilter",positionBy:"auto"})}var ob={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},ab=["january","february","march","april","may","june","july","august","september","october","november","december"];function q_(e,t){return e==null?-1:t==null?1:parseFloat(e)-parseFloat(t)}var Y_=class extends te{constructor(){super(...arguments),this.beanName="colFilter",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[]}postConstruct(){var e,t;this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),beforeRefreshModel:({params:n})=>{var r;(n.rowDataUpdated||(r=n.changedProps)!=null&&r.has("treeData"))&&this.onNewRowsLoaded("rowDataUpdated")},dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.initialFilterModel={...((t=(e=this.gos.get("initialState"))==null?void 0:e.filter)==null?void 0:t.filterModel)??{}}}setFilterModel(e,t="api"){const{colModel:n,dataTypeSvc:r,filterManager:i}=this.beans;if(r!=null&&r.isPendingInference){this.filterModelUpdateQueue.push({model:e,source:t});return}const s=[],o=this.getFilterModel(!0);if(e){const l=new Set(Object.keys(e));this.allColumnFilters.forEach((c,d)=>{const f=e[d];s.push(Zc(c.filterPromise,f)),l.delete(d)}),l.forEach(c=>{const d=n.getColDefCol(c)||n.getCol(c);if(!d){he(62,{colId:c});return}if(!d.isFilterAllowed()){he(63,{colId:c});return}const f=this.getOrCreateFilterWrapper(d);if(!f){he(64,{colId:c});return}s.push(Zc(f.filterPromise,e[c]))})}else this.allColumnFilters.forEach(l=>{s.push(Zc(l.filterPromise,null))});Et.all(s).then(()=>{const l=this.getFilterModel(!0),c=[];this.allColumnFilters.forEach((d,f)=>{const p=o?o[f]:null,m=l?l[f]:null;Zl(p,m)||c.push(d.column)}),c.length>0&&(i==null||i.onFilterChanged({columns:c,source:t}))})}getFilterModel(e){var s;const t={},{allColumnFilters:n,initialFilterModel:r,beans:{colModel:i}}=this;if(n.forEach((o,l)=>{const c=this.getModelFromFilterWrapper(o);Ce(c)&&(t[l]=c)}),!e)for(const o of Object.keys(r)){const l=r[o];Ce(l)&&!n.has(o)&&((s=i.getCol(o))!=null&&s.isFilterAllowed())&&(t[o]=l)}return t}getModelFromFilterWrapper(e){const{filter:t}=e;return t?typeof t.getModel!="function"?(he(66),null):t.getModel():this.getModelFromInitialState(e.column)}getModelFromInitialState(e){return this.initialFilterModel[e.getColId()]??null}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}disableColumnFilters(){const{allColumnFilters:e}=this;return e.size?(e.forEach(t=>this.disposeFilterWrapper(t,"advancedFilterEnabled")),!0):!1}doAggregateFiltersPass(e,t){return this.doColumnFiltersPass(e,t,!0)}updateActiveFilters(){const e=l=>l?l.isFilterActive?l.isFilterActive():(he(67),!1):!1,{colModel:t,gos:n}=this.beans,r=!!nm(n),i=l=>{if(!l.isPrimary())return!0;const d=!t.isPivotActive();return!l.isValueActive()||!d?!1:t.isPivotMode()?!0:r},s=[],o=[];return this.forEachColumnFilter((l,c)=>{e(l)&&(i(c.column)?s.push(l):o.push(l))}).then(()=>{this.activeAggregateFilters=s,this.activeColumnFilters=o})}updateFilterFlagInColumns(e,t){return this.forEachColumnFilter((n,r)=>this.setColFilterActive(r.column,n.isFilterActive(),e,t))}forEachColumnFilter(e){const t=[];return this.allColumnFilters.forEach(n=>{const r=n.filterPromise;r&&t.push(r.then(i=>e(i,n)))}),Et.all(t)}doColumnFiltersPass(e,t,n){const{data:r,aggData:i}=e,s=n?this.activeAggregateFilters:this.activeColumnFilters,o=n?i:r;for(let l=0;l<s.length;l++){const c=s[l];if(!(c==null||c===t)){if(typeof c.doesFilterPass!="function"){ut(91);continue}if(!c.doesFilterPass({node:e,data:o}))return!1}}return!0}callOnFilterChangedOutsideRenderCycle(e){const{rowRenderer:t,filterManager:n}=this.beans,r=()=>{this.isAlive()&&(n==null||n.onFilterChanged(e))};t.isRefreshInProgress()?setTimeout(r,0):r()}updateBeforeFilterChanged(e={}){const{filterInstance:t,additionalEventAttributes:n}=e;return this.updateDependentFilters(),this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",n).then(()=>{this.allColumnFilters.forEach(r=>{r.filterPromise&&r.filterPromise.then(i=>{i&&i!==t&&i.onAnyFilterChanged&&i.onAnyFilterChanged()})}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){this.forEachColumnFilter(t=>{var n;(n=t.onNewRowsLoaded)==null||n.call(t)}).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createGetValue(e){const{filterValueSvc:t,colModel:n}=this.beans;return(r,i)=>{const s=i?n.getCol(i):e;return s?t.getValue(s,r):void 0}}isFilterActive(e){const{filter:t}=this.cachedFilter(e)??{};return t?t.isFilterActive():this.getModelFromInitialState(e)!=null}getOrCreateFilterWrapper(e){if(!e.isFilterAllowed())return null;let t=this.cachedFilter(e);return t||(t=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,t)),t}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){let t;const{gos:n,dataTypeSvc:r}=this.beans;if(ig(n))t="agSetColumnFilter";else{const i=r==null?void 0:r.getBaseDataType(e);i==="number"?t="agNumberColumnFilter":i==="date"||i==="dateString"?t="agDateColumnFilter":t="agTextColumnFilter"}return t}getDefaultFloatingFilter(e){let t;const{gos:n,dataTypeSvc:r}=this.beans;if(ig(n))t="agSetColumnFloatingFilter";else{const i=r==null?void 0:r.getBaseDataType(e);i==="number"?t="agNumberColumnFloatingFilter":i==="date"||i==="dateString"?t="agDateColumnFloatingFilter":t="agTextColumnFloatingFilter"}return t}createFilterInstance(e,t){const n=this.getDefaultFilter(e),r=e.getColDef();let i;const s={...this.createFilterParams(e,r),filterModifiedCallback:()=>this.filterModifiedCallbackFactory(i,e)(),filterChangedCallback:l=>this.filterChangedCallbackFactory(i,e)(l),doesRowPassOtherFilter:l=>{var c;return((c=this.beans.filterManager)==null?void 0:c.doesRowPassOtherFilters(i,l))??!0}},o=XL(this.beans.userCompFactory,r,s,n);return o?{filterPromise:()=>{const l=o.newAgStackInstance();return l.then(c=>{i=c,t&&(t.filter=c??void 0)}),l},compDetails:o}:{filterPromise:null,compDetails:null}}createFilterParams(e,t){return Le(this.gos,{column:e,colDef:t,rowModel:this.beans.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},getValue:this.createGetValue(e),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(e){const t={column:e,filterPromise:null,compDetails:null},{filterPromise:n,compDetails:r}=this.createFilterInstance(e,t);return t.filterPromise=(n==null?void 0:n())??null,t.compDetails=r,t}onColumnsChanged(){const e=[],{colModel:t,filterManager:n}=this.beans;this.allColumnFilters.forEach((i,s)=>{let o;i.column.isPrimary()?o=t.getColDefCol(s):o=t.getCol(s),!(o&&o===i.column)&&(e.push(i.column),this.disposeFilterWrapper(i,"columnChanged"),this.disposeColumnListener(s))});const r=e.every(lb);e.length>0&&!r?n==null||n.onFilterChanged({columns:e,source:"api"}):this.updateDependentFilters()}updateDependentFilters(){var e,t;(t=(e=this.beans.autoColSvc)==null?void 0:e.getColumns())==null||t.forEach(n=>{lb(n)&&this.getOrCreateFilterWrapper(n)})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const{filter:n}=this.allColumnFilters.get(e.getColId())??{};return n&&typeof(n==null?void 0:n.isFilterAllowed)=="function"?n.isFilterAllowed():!0}getFloatingFilterCompDetails(e,t){const n=f=>{var m;const p=(m=this.getOrCreateFilterWrapper(e))==null?void 0:m.filterPromise;p!=null&&p.then(C=>{f(ru(C))})},r=e.getColDef(),i={...this.createFilterParams(e,r),filterChangedCallback:()=>n(f=>this.filterChangedCallbackFactory(f,e)())},{userCompFactory:s,frameworkOverrides:o}=this.beans,l=sN(s,r,i);let c=iB(o,r,()=>this.getDefaultFloatingFilter(e));c==null&&(c="agReadOnlyFloatingFilter");const d=Le(this.gos,{column:e,filterParams:l,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:n,showParentFilter:t});return rN(s,r,d,c)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilter(e,t="api"){const n=e.getColId(),r=this.allColumnFilters.get(n);this.disposeColumnListener(n),delete this.initialFilterModel[n],r&&this.disposeFilterWrapper(r,t).then(i=>{var s;i&&this.isAlive()&&((s=this.beans.filterManager)==null||s.onFilterChanged({columns:[e],source:"api"}))})}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){var n;return((n=e.filterPromise)==null?void 0:n.then(r=>{const i=!!(r!=null&&r.isFilterActive());return this.destroyBean(r),this.setColFilterActive(e.column,!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId()),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:t,column:e.column}),i}))??Et.resolve(!1)}filterModifiedCallbackFactory(e,t){return()=>{this.eventSvc.dispatchEvent({type:"filterModified",column:t,filterInstance:e})}}filterChangedCallbackFactory(e,t){return n=>{const r=(n==null?void 0:n.source)??"columnFilter",i={filter:e,additionalEventAttributes:n,columns:[t],source:r};this.callOnFilterChangedOutsideRenderCycle(i)}}checkDestroyFilter(e){const t=this.allColumnFilters.get(e);if(!t)return;const n=t.column,{compDetails:r}=n.isFilterAllowed()?this.createFilterInstance(n):{compDetails:null};if(this.areFilterCompsDifferent(t.compDetails,r)){this.destroyFilter(n,"paramsUpdated");return}const i=n.getColDef().filterParams;if(!t.filterPromise){this.destroyFilter(n,"paramsUpdated");return}t.filterPromise.then(s=>{(s!=null&&s.refresh?s.refresh({...this.createFilterParams(n,n.getColDef()),filterModifiedCallback:this.filterModifiedCallbackFactory(s,n),filterChangedCallback:this.filterChangedCallbackFactory(s,n),doesRowPassOtherFilter:l=>{var c;return((c=this.beans.filterManager)==null?void 0:c.doesRowPassOtherFilters(s,l))??!0},...i}):!0)===!1&&this.destroyFilter(n,"paramsUpdated")})}setColumnFilterWrapper(e,t){const n=e.getColId();this.allColumnFilters.set(n,t),this.allColumnListeners.set(n,this.addManagedListeners(e,{colDefChanged:()=>this.checkDestroyFilter(n)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:n}=e,{componentClass:r}=t;return!(n===r||(n==null?void 0:n.render)&&(r==null?void 0:r.render)&&n.render===r.render)}hasFloatingFilters(){return this.beans.colModel.getCols().some(t=>t.getColDef().floatingFilter)}getColumnFilterInstance(e){return new Promise(t=>{this.getFilterInstanceImpl(e).then(n=>{t(ru(n))})})}getFilterInstanceImpl(e){var r;const t=this.beans.colModel.getColDefCol(e);return t?((r=this.getOrCreateFilterWrapper(t))==null?void 0:r.filterPromise)??Et.resolve(null):Et.resolve(void 0)}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:e,source:t})=>this.setFilterModel(e,t)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:e,model:t,resolve:n})=>{this.setColumnFilterModel(e,t).then(()=>n())}),this.columnFilterModelUpdateQueue=[]}getColumnFilterModel(e){const t=this.getFilterWrapper(e);return t?this.getModelFromFilterWrapper(t):null}setColumnFilterModel(e,t){const{colModel:n,dataTypeSvc:r}=this.beans;if(r!=null&&r.isPendingInference){let l=()=>{};const c=new Promise(d=>{l=d});return this.columnFilterModelUpdateQueue.push({key:e,model:t,resolve:l}),c}const i=n.getColDefCol(e),s=i?this.getOrCreateFilterWrapper(i):null;return s?(l=>new Promise(c=>{l.then(d=>c(d))}))(Zc(s.filterPromise,t)):Promise.resolve()}getFilterWrapper(e){const t=this.beans.colModel.getColDefCol(e);return t?this.cachedFilter(t)??null:null}setColDefPropertiesForDataType(e,t,n){const r=ig(this.gos),i=this.getLocaleTextFunc(),s=o=>{const{filterParams:l}=e;e.filterParams=typeof l=="object"?{...l,...o}:o};switch(t.baseDataType){case"number":{r&&s({comparator:q_});break}case"boolean":{s(r?{valueFormatter:o=>Ce(o.value)?i(String(o.value),o.value?"True":"False"):i("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(o,l)=>l,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(o,l)=>l===!1,numberOfInputs:0}]});break}case"date":{s(r?{valueFormatter:o=>{const l=n(o);return Ce(l)?l:i("blanks","(Blanks)")},treeList:!0,treeListFormatter:(o,l)=>{if(o==="NaN")return i("invalidDate","Invalid Date");if(l===1&&o!=null){const c=ab[Number(o)-1];return i(c,ob[c])}return o??i("blanks","(Blanks)")}}:{isValidDate:ub});break}case"dateString":{const o=t.dateParser;s(r?{valueFormatter:l=>{const c=n(l);return Ce(c)?c:i("blanks","(Blanks)")},treeList:!0,treeListPathGetter:l=>{const c=o(l??void 0);return c?[String(c.getFullYear()),String(c.getMonth()+1),String(c.getDate())]:null},treeListFormatter:(l,c)=>{if(c===1&&l!=null){const d=ab[Number(l)-1];return i(d,ob[d])}return l??i("blanks","(Blanks)")}}:{comparator:(l,c)=>{const d=o(c);return c==null||d<l?-1:d>l?1:0},isValidDate:l=>typeof l=="string"&&ub(o(l))});break}case"object":{r?s({valueFormatter:o=>{const l=n(o);return Ce(l)?l:i("blanks","(Blanks)")}}):e.filterValueGetter=o=>n({column:o.column,node:o.node,value:this.beans.valueSvc.getValue(o.column,o.node)});break}}}setColFilterActive(e,t,n,r){e.filterActive!==t&&(e.filterActive=t,e.dispatchColEvent("filterActiveChanged",n)),e.dispatchColEvent("filterChanged",n,r)}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear()}};function Zc(e,t){return e?new Et(n=>{e.then(r=>{typeof r.setModel!="function"&&(he(65),n()),(r.setModel(t)||Et.resolve()).then(()=>n())})}):Et.resolve()}function lb(e){return e.getColDef().filter==="agGroupColumnFilter"}function ub(e){return e instanceof Date&&!isNaN(e.getTime())}function Q_(e){var t;return!!((t=e.filterManager)!=null&&t.isAnyFilterPresent())}function J_(e,t="api"){var n;(n=e.filterManager)==null||n.onFilterChanged({source:t})}var X_=class extends te{constructor(){super(...arguments),this.beanName="filterManager",this.advFilterModelUpdateQueue=[]}wireBeans(e){this.quickFilter=e.quickFilter,this.advancedFilter=e.advancedFilter,this.colFilter=e.colFilter}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:r})=>this.onAdvFilterEnabledChanged(r),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.quickFilter&&this.addManagedListeners(this.quickFilter,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})});const{gos:n}=this;this.alwaysPassFilter=n.get("alwaysPassFilter"),this.addManagedPropertyListener("alwaysPassFilter",()=>{this.alwaysPassFilter=n.get("alwaysPassFilter"),this.onFilterChanged({source:"api"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"&&e({})}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return typeof t=="function"&&t(e)}setFilterModel(e,t="api"){var n;if(this.isAdvFilterEnabled()){this.warnAdvFilters();return}(n=this.colFilter)==null||n.setFilterModel(e,t)}getFilterModel(){var e;return((e=this.colFilter)==null?void 0:e.getFilterModel())??{}}isColumnFilterPresent(){var e;return!!((e=this.colFilter)!=null&&e.isColumnFilterPresent())}isAggregateFilterPresent(){var e;return!!((e=this.colFilter)!=null&&e.isAggregateFilterPresent())}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.externalFilterPresent||this.isAdvFilterPresent()}isAnyFilterPresent(){return this.isChildFilterPresent()||this.isAggregateFilterPresent()}isAdvFilterPresent(){return this.isAdvFilterEnabled()&&this.advancedFilter.isFilterPresent()}onAdvFilterEnabledChanged(e){var t,n;e?(t=this.colFilter)!=null&&t.disableColumnFilters()&&this.onFilterChanged({source:"advancedFilter"}):(n=this.advancedFilter)!=null&&n.isFilterPresent()&&(this.advancedFilter.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvFilterEnabled(){var e;return!!((e=this.advancedFilter)!=null&&e.isEnabled())}isAdvFilterHeaderActive(){return this.isAdvFilterEnabled()&&this.advancedFilter.isHeaderActive()}refreshFiltersForAggregations(){nm(this.gos)&&this.onFilterChanged()}onFilterChanged(e={}){const{source:t,additionalEventAttributes:n,columns:r=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.colFilter?this.colFilter.updateBeforeFilterChanged(e):Et.resolve()).then(()=>{var s;const i={source:t,type:"filterChanged",columns:r};n&&Dn(i,n),this.eventSvc.dispatchEvent(i),(s=this.colFilter)==null||s.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){var e;return!!((e=this.colFilter)!=null&&e.isSuppressFlashingCellsBecauseFiltering())}isQuickFilterPresent(){var e;return!!((e=this.quickFilter)!=null&&e.isFilterPresent())}updateAggFiltering(){this.aggFiltering=!!nm(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.beans.colModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){var n;const{rowNode:t}=e;return(n=this.alwaysPassFilter)!=null&&n.call(this,t)?!0:!(this.isAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.isAggregateFilterPresent()&&!this.colFilter.doAggregateFiltersPass(t,e.filterInstanceToSkip))}doesRowPassFilter(e){var n;const{rowNode:t}=e;return(n=this.alwaysPassFilter)!=null&&n.call(this,t)?!0:!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.externalFilterPresent&&!this.doesExternalFilterPass(t)||this.isColumnFilterPresent()&&!this.colFilter.doColumnFiltersPass(t,e.filterInstanceToSkip)||this.isAdvFilterPresent()&&!this.advancedFilter.doesFilterPass(t))}isFilterActive(e){var t;return!!((t=this.colFilter)!=null&&t.isFilterActive(e))}getOrCreateFilterWrapper(e){var t;return((t=this.colFilter)==null?void 0:t.getOrCreateFilterWrapper(e))??null}getDefaultFloatingFilter(e){return this.colFilter.getDefaultFloatingFilter(e)}createFilterParams(e,t){return this.colFilter.createFilterParams(e,t)}isFilterAllowed(e){var t;return this.isAdvFilterEnabled()?!1:!!((t=this.colFilter)!=null&&t.isFilterAllowed(e))}getFloatingFilterCompDetails(e,t){var n;return(n=this.colFilter)==null?void 0:n.getFloatingFilterCompDetails(e,t)}getCurrentFloatingFilterParentModel(e){var t;return(t=this.colFilter)==null?void 0:t.getCurrentFloatingFilterParentModel(e)}destroyFilter(e,t="api"){var n;(n=this.colFilter)==null||n.destroyFilter(e,t)}areFilterCompsDifferent(e,t){var n;return!!((n=this.colFilter)!=null&&n.areFilterCompsDifferent(e,t))}getAdvFilterModel(){return this.isAdvFilterEnabled()?this.advancedFilter.getModel():null}setAdvFilterModel(e,t="api"){var n;if(this.isAdvFilterEnabled()){if((n=this.beans.dataTypeSvc)!=null&&n.isPendingInference){this.advFilterModelUpdateQueue.push(e);return}this.advancedFilter.setModel(e??null),this.onFilterChanged({source:t})}}toggleAdvFilterBuilder(e,t){this.isAdvFilterEnabled()&&this.advancedFilter.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvFilterColumns(){this.isAdvFilterEnabled()&&this.advancedFilter.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){var e;return this.isAdvFilterEnabled()?!1:!!((e=this.colFilter)!=null&&e.hasFloatingFilters())}getColumnFilterInstance(e){var t;return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve(void 0)):((t=this.colFilter)==null?void 0:t.getColumnFilterInstance(e))??Promise.resolve(void 0)}warnAdvFilters(){he(68)}setupAdvFilterHeaderComp(e){var t;(t=this.advancedFilter)==null||t.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvFilterHeaderActive()?this.advancedFilter.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advFilterModelUpdateQueue.forEach(e=>this.setAdvFilterModel(e)),this.advFilterModelUpdateQueue=[]}getColumnFilterModel(e){var t;return(t=this.colFilter)==null?void 0:t.getColumnFilterModel(e)}setColumnFilterModel(e,t){var n;return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve()):((n=this.colFilter)==null?void 0:n.setColumnFilterModel(e,t))??Promise.resolve()}setColDefPropertiesForDataType(e,t,n){var r;(r=this.colFilter)==null||r.setColDefPropertiesForDataType(e,t,n)}},Z_=class extends te{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupSvc=e.popupSvc}hideActiveMenu(){var e;(e=this.hidePopup)==null||e.call(this)}showMenuAfterMouseEvent(e,t,n,r){this.showPopup(e,i=>{var s;(s=this.popupSvc)==null||s.positionPopupUnderMouseEvent({column:e,type:n,mouseEvent:t,ePopup:i})},n,t.target,Vn(this.gos),r)}showMenuAfterButtonClick(e,t,n,r){let i=-1,s="left";const o=Vn(this.gos);!o&&this.gos.get("enableRtl")&&(i=1,s="right");const l=o?void 0:4*i,c=o?void 0:4;this.showPopup(e,d=>{var f;(f=this.popupSvc)==null||f.positionPopupByComponent({type:n,eventSource:t,ePopup:d,nudgeX:l,nudgeY:c,alignSide:s,keepWithinBounds:!0,position:"under",column:e})},n,t,o,r)}showPopup(e,t,n,r,i,s){var b;const o=e?this.createBean(new ZN(e,"COLUMN_MENU")):void 0;if(this.activeMenu=o,!(o!=null&&o.hasFilter())||!e){ut(57);return}const l=document.createElement("div");Fr(l,"presentation"),l.classList.add("ag-menu"),i||l.classList.add("ag-filter-menu"),[this.tabListener]=this.addManagedElementListeners(l,{keydown:R=>this.trapFocusWithin(R,l)}),l.appendChild(o==null?void 0:o.getGui());let c;const d=()=>o==null?void 0:o.afterGuiDetached(),f=HO(this.gos)?r??this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody:void 0,p=R=>{zS(e,!1,"contextMenu");const x=R instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),x&&r&&Xr(r)){const E=c0(r);E==null||E.focus({preventScroll:!0})}d(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,n,e),s==null||s()},m=this.getLocaleTextFunc(),C=i&&n!=="columnFilter"?m("ariaLabelColumnMenu","Column Menu"):m("ariaLabelColumnFilter","Column Filter"),y=(b=this.popupSvc)==null?void 0:b.addPopup({modal:!0,eChild:l,closeOnEsc:!0,closedCallback:p,positionCallback:()=>t(l),anchorToElement:f,ariaLabel:C});y&&(this.hidePopup=c=y.hideFunc),o.afterInit().then(()=>{t(l),o.afterGuiAttached({container:n,hidePopup:c})}),zS(e,!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,n,e)}trapFocusWithin(e,t){e.key!==X.TAB||e.defaultPrevented||vo(this.beans,t,!1,e.shiftKey)||(e.preventDefault(),ho(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,n){this.eventSvc.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:n??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},ez=class extends te{constructor(){super(...arguments),this.beanName="filterValueSvc"}getValue(e,t){if(!t)return;const n=e.getColDef(),{filterValueGetter:r}=n;return r?this.executeFilterValueGetter(r,t.data,e,t,n):this.beans.valueSvc.getValue(e,t)}executeFilterValueGetter(e,t,n,r,i){const{expressionSvc:s,valueSvc:o}=this.beans,l=Le(this.gos,{data:t,node:r,column:n,colDef:i,getValue:o.getValueCallback.bind(o,r)});return typeof e=="function"?e(l):s==null?void 0:s.evaluate(e,l)}},tz=class extends Pt{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eFloatingFilterText"></ag-input-text-field>
            </div>`,[bh]),this.eFloatingFilterText=Ie}init(e){this.params=e;const t=this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0);this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){const n=t.getModelAsString(e);this.eFloatingFilterText.setValue(n)}})}refresh(e){this.init(e)}},hF=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)}mapCustomOptions(){const{filterOptions:e}=this;e&&e.forEach(t=>{if(typeof t=="string")return;const n=[["displayKey"],["displayName"],["predicate","test"]],r=i=>i.some(s=>t[s]!=null)?!0:(he(72,{keys:i}),!1);if(!n.every(r)){this.filterOptions=e.filter(i=>i===t)||[];return}this.customFilterOptions[t.displayKey]=t})}selectDefaultItem(e){const{filterOptions:t}=this;if(e.defaultOption)this.defaultOption=e.defaultOption;else if(t.length>=1){const n=t[0];typeof n=="string"?this.defaultOption=n:n.displayKey?this.defaultOption=n.displayKey:he(73)}else he(74)}getCustomOption(e){return this.customFilterOptions[e]}};function jl(e,t,n){return n==null?e.splice(t):e.splice(t,n)}function eh(e){return e==null||typeof e=="string"&&e.trim().length===0}function nz(e){return e==="AND"||e==="OR"?e:"AND"}function rz(e,t,n){if(e==null)return;const{predicate:r}=e;if(r!=null&&!t.some(i=>i==null))return r(t,n)}function iz(e,t){let n=e.length;return n>t&&(e.splice(t),he(78),n=t),n}var fF=class extends rB{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){const t=this.optionsFactory.getCustomOption(e);if(t){const{numberOfInputs:r}=t;return r??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,n)=>{const r=n===0?e:this.optionsFactory.defaultOption;t.setValue(r,!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.filterType,operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){const{eJoinOperatorsOr:e,defaultJoinOperator:t}=this;return e.length===0?t:e[0].getValue()===!0?"OR":"AND"}areModelsEqual(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;const n=!e.operator,r=!t.operator;if(!n&&r||n&&!r)return!1;let s;if(n){const o=e,l=t;s=this.areSimpleModelsEqual(o,l)}else{const o=e,l=t;s=o.operator===l.operator&&Co(o.conditions,l.conditions,(c,d)=>this.areSimpleModelsEqual(c,d))}return s}shouldRefresh(e){var s;const t=this.getModel(),n=t?t.conditions??[t]:null,r=((s=e.filterOptions)==null?void 0:s.map(o=>typeof o=="string"?o:o.displayKey))??this.getDefaultFilterOptions();return!(!(!n||n.every(o=>r.find(l=>l===o.type)!==void 0))||typeof e.maxNumConditions=="number"&&n&&n.length>e.maxNumConditions)}refresh(e){return!this.shouldRefresh(e)||!super.refresh(e)?!1:(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(e){if(e.operator){const n=e;let r=n.conditions;r==null&&(r=[],he(77));const i=iz(r,this.maxNumConditions),s=this.getNumConditions();if(i<s)this.removeConditionsAndOperators(i);else if(i>s)for(let l=s;l<i;l++)this.createJoinOperatorPanel(),this.createOption();const o=n.operator==="OR";this.eJoinOperatorsAnd.forEach(l=>l.setValue(!o,!0)),this.eJoinOperatorsOr.forEach(l=>l.setValue(o,!0)),r.forEach((l,c)=>{this.eTypes[c].setValue(l.type,!0),this.setConditionIntoUi(l,c)})}else{const n=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(n.type,!0),this.setConditionIntoUi(n,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),Et.resolve()}doesFilterPass(e){const t=this.getModel();if(t==null)return!0;const{operator:n}=t,r=[];if(n){const s=t;r.push(...s.conditions??[])}else r.push(t);return r[n&&n==="OR"?"some":"every"](s=>this.individualConditionPasses(e,s))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=nz(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new hF,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){let t=e.maxNumConditions??2;t<1&&(he(79),t=1),this.maxNumConditions=t;let n=e.numAlwaysVisibleConditions??1;n<1&&(he(80),n=1),n>t&&(he(81),n=t),this.numAlwaysVisibleConditions=n}createOption(){const e=this.createManagedBean(new DC);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());const t=this.createValueElement();this.eConditionBodies.push(t),this.eFilterBody.appendChild(t),this.putOptionsIntoDropdown(e),this.resetType(e);const n=this.getNumConditions()-1;this.forEachPositionInput(n,r=>this.resetInput(r)),this.addChangedListeners(e,n)}createJoinOperatorPanel(){const e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");const t=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),n=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);const r=this.eJoinOperatorPanels.length-1,i=this.joinOperatorId++;this.resetJoinOperatorAnd(t,r,i),this.resetJoinOperatorOr(n,r,i),this.isReadOnly()||(t.onValueChange(this.listener),n.onValueChange(this.listener))}createJoinOperator(e,t,n){const r=this.createManagedBean(new aH);e.push(r);const i="ag-filter-condition-operator";return r.addCssClass(i),r.addCssClass(`${i}-${n}`),t.appendChild(r.getGui()),r}createFilterListOptions(){this.filterListOptions=this.optionsFactory.filterOptions.map(e=>typeof e=="string"?this.createBoilerplateListOption(e):this.createCustomListOption(e))}putOptionsIntoDropdown(e){const{filterListOptions:t}=this;t.forEach(n=>{e.addOption(n)}),e.setDisabled(t.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,n=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:n?this.getLocaleTextFunc()(n.displayKey,n.displayName):this.translate(t)}}createBodyTemplate(){return""}getAgComponents(){return[]}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)?e=n:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{const n=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<n){this.removeConditionsAndOperators(n+1);const r=e+1,i=n-r;i>0&&this.removeConditionsAndOperators(r,i),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((r,i)=>{const s=this.isConditionDisabled(i,e);r.setDisabled(s||this.filterListOptions.length<=1),i===1&&(Ql(this.eJoinOperatorPanels[0],s),this.eJoinOperatorsAnd[0].setDisabled(s),this.eJoinOperatorsOr[0].setDisabled(s))}),this.eConditionBodies.forEach((r,i)=>{Ot(r,this.isConditionBodyVisible(i))});const n=(t??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach(r=>{r.setValue(!n,!0)}),this.eJoinOperatorsOr.forEach(r=>{r.setValue(n,!0)}),this.forEachInput((r,i,s,o)=>{this.setElementDisplayed(r,i<o),this.setElementDisabled(r,this.isConditionDisabled(s,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;const{eTypes:n,eConditionBodies:r,eJoinOperatorPanels:i,eJoinOperatorsAnd:s,eJoinOperatorsOr:o}=this;this.removeComponents(n,e,t),this.removeElements(r,e,t),this.removeValueElements(e,t);const l=Math.max(e-1,0);this.removeElements(i,l,t),this.removeComponents(s,l,t),this.removeComponents(o,l,t)}removeElements(e,t,n){jl(e,t,n).forEach(i=>lo(i))}removeComponents(e,t,n){jl(e,t,n).forEach(i=>{lo(i.getGui()),this.destroyBean(i)})}afterGuiAttached(e){var t;if(super.afterGuiAttached(e),this.resetPlaceholder(),!(e!=null&&e.suppressFocus)){const{eFilterBody:n,eTypes:r}=this;let i;if(!this.isReadOnly()){const s=this.getInputs(0)[0];s instanceof Ks&&this.isConditionBodyVisible(0)?i=s.getInputElement():i=(t=r[0])==null?void 0:t.getFocusableElement()}(i??n).focus({preventScroll:!0})}}afterGuiDetached(){super.afterGuiDetached();const e=this.getModel();this.resetUiToActiveModel(e);let t=-1,n=-1,r=!1;const i=this.getJoinOperator();for(let o=this.getNumConditions()-1;o>=0;o--)if(this.isConditionUiComplete(o))t===-1&&(t=o,n=o);else{const l=o>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(o-1),c=o<t;(l||c)&&(this.removeConditionsAndOperators(o,1),r=!0,c&&n--)}let s=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),s=!0),this.shouldAddNewConditionAtEnd(n===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),s=!0),s&&this.updateConditionStatusesAndValues(n,i),r&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=n}getPlaceholderText(e,t){let n=this.translate(e);if(typeof this.filterPlaceholder=="function"){const r=this.eTypes[t].getValue(),i=this.translate(r);n=this.filterPlaceholder({filterOptionKey:r,filterOption:i,placeholder:n})}else typeof this.filterPlaceholder=="string"&&(n=this.filterPlaceholder);return n}resetPlaceholder(){const e=this.getLocaleTextFunc();this.forEachInput((t,n,r,i)=>{if(!(t instanceof Ks))return;const s=n===0&&i>1?"inRangeStart":n===0?"filterOoo":"inRangeEnd",o=n===0&&i>1?e("ariaFilterFromValue","Filter from value"):n===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(s,r)),t.setInputAriaLabel(o)})}setElementValue(e,t,n){e instanceof Ks&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){e instanceof Pt&&Ot(e.getGui(),t)}setElementDisabled(e,t){e instanceof Pt&&Ql(e.getGui(),t)}attachElementOnChange(e,t){e instanceof Ks&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,n)=>{this.forEachPositionTypeInput(n,t,e)})}forEachPositionInput(e,t){const n=this.getConditionType(e);this.forEachPositionTypeInput(e,n,t)}forEachPositionTypeInput(e,t,n){const r=this.getNumberOfInputs(t),i=this.getInputs(e);for(let s=0;s<i.length;s++){const o=i[s];o!=null&&n(o,s,e,r)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return this.getNumberOfInputs(t)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(n=>n==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinOperatorsAnd.forEach((t,n)=>this.resetJoinOperatorAnd(t,n,this.joinOperatorId+n)),this.eJoinOperatorsOr.forEach((t,n)=>this.resetJoinOperatorOr(t,n,this.joinOperatorId+n)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),Et.resolve()}resetType(e){const n=this.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.defaultOption,!0).setAriaLabel(n).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="AND",this.translate("andCondition"),n)}resetJoinOperatorOr(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="OR",this.translate("orCondition"),n)}resetJoinOperator(e,t,n,r,i){this.updateJoinOperatorDisabled(e.setValue(n,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${i}`).setLabel(r),t)}updateJoinOperatorsDisabled(){const e=(t,n)=>this.updateJoinOperatorDisabled(t,n);this.eJoinOperatorsAnd.forEach(e),this.eJoinOperatorsOr.forEach(e)}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const n=this.mapValuesFromModel(e);this.forEachInput((r,i,s)=>{s===t&&this.setElementValue(r,n[i]!=null?n[i]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,n,r)=>{this.setElementValue(t,n===0&&r===0?e:null,!0)})}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,n=>{this.attachElementOnChange(n,this.listener)}))}individualConditionPasses(e,t){const n=this.getCellValue(e.node),r=this.mapValuesFromModel(t),i=this.optionsFactory.getCustomOption(t.type),s=rz(i,r,n);return s??(n==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(r,n,t,e))}hasInvalidInputs(){return!1}},pF=class extends fF{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){const{includeBlanksInEquals:t,includeBlanksInNotEqual:n,includeBlanksInGreaterThan:r,includeBlanksInLessThan:i,includeBlanksInRange:s}=this.scalarFilterParams;switch(e){case"equals":if(t)return!0;break;case"notEqual":if(n)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(r)return!0;break;case"lessThan":case"lessThanOrEqual":if(i)return!0;break;case"inRange":if(s)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,n){const r=n.type;if(!this.isValid(t))return r==="notEqual"||r==="notBlank";const i=this.comparator(),s=e[0]!=null?i(e[0],t):0;switch(r){case"equals":return s===0;case"notEqual":return s!==0;case"greaterThan":return s>0;case"greaterThanOrEqual":return s>=0;case"lessThan":return s<0;case"lessThanOrEqual":return s<=0;case"inRange":{const o=i(e[1],t);return this.scalarFilterParams.inRangeInclusive?s>=0&&o<=0:s>0&&o<0}case"blank":return eh(t);case"notBlank":return!eh(t);default:return he(76,{filterModelType:r}),!0}}},gF=class{constructor(e,t,n,r,i){this.alive=!0,this.context=e,this.eParent=r;const s=ZL(t,n);s&&s.newAgStackInstance().then(o=>{var d,f;if(!this.alive){e.destroyBean(o);return}if(this.dateComp=o,!o)return;r.appendChild(o.getGui()),(d=o==null?void 0:o.afterGuiAttached)==null||d.call(o);const{tempValue:l,disabled:c}=this;l&&o.setDate(l),c!=null&&((f=o.setDisabled)==null||f.call(o,c)),i==null||i(this)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){const t=this.dateComp;t?t.setDate(e):this.tempValue=e}setDisabled(e){var n;const t=this.dateComp;t?(n=t.setDisabled)==null||n.call(t,e):this.disabled=e}setDisplayed(e){Ot(this.eParent,e)}setInputPlaceholder(e){var t,n;(n=(t=this.dateComp)==null?void 0:t.setInputPlaceholder)==null||n.call(t,e)}setInputAriaLabel(e){var t,n;(n=(t=this.dateComp)==null?void 0:t.setInputAriaLabel)==null||n.call(t,e)}afterGuiAttached(e){var t,n;(n=(t=this.dateComp)==null?void 0:t.afterGuiAttached)==null||n.call(t,e)}updateParams(e){var t,n;(n=(t=this.dateComp)==null?void 0:t.refresh)==null||n.call(t,e)}},mF=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"],IC=class{constructor(e,t,n){this.getLocaleTextFunc=e,this.optionsFactory=t,this.valueFormatter=n}getModelAsString(e){if(!e)return null;const t=e.operator!=null,n=this.getLocaleTextFunc();if(t){const r=e,s=(r.conditions??[]).map(l=>this.getModelAsString(l)),o=r.operator==="AND"?"andCondition":"orCondition";return s.join(` ${n(o,S0[o])} `)}else{if(e.type==="blank"||e.type==="notBlank")return n(e.type,e.type);{const r=e,i=this.optionsFactory.getCustomOption(r.type),{displayKey:s,displayName:o,numberOfInputs:l}=i||{};return s&&o&&l===0?(n(s,o),o):this.conditionToString(r,i)}}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){const t=this.valueFormatter;return t?t(e??null)??"":String(e)}},CF=class extends IC{constructor(e,t,n){super(t,n),this.dateFilterParams=e}conditionToString(e,t){const{type:n}=e,{numberOfInputs:r}=t||{},i=n=="inRange"||r===2,s=Fn(e.dateFrom),o=Fn(e.dateTo),l=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(i){const c=s!==null?_l(s,l):"null",d=o!==null?_l(o,l):"null";return`${c}-${d}`}return s!=null?_l(s,l):`${n}`}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams}},cb=1e3,db=1/0,sz=class extends pF{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=cb,this.maxValidYear=db,this.minValidDate=null,this.maxValidDate=null,this.filterType="date"}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){const{dateFrom:t,dateTo:n,type:r}=e||{};return[t&&Fn(t)||null,n&&Fn(n)||null].slice(0,this.getNumberOfInputs(r))}comparator(){return this.dateFilterParams.comparator??oz}isValid(e){const t=this.dateFilterParams.isValidDate;return!t||t(e)}setParams(e){this.dateFilterParams=e,super.setParams(e);const t=(n,r)=>{if(e[n]!=null)if(isNaN(e[n]))he(82,{param:n});else return e[n]==null?r:Number(e[n]);return r};this.minValidYear=t("minValidYear",cb),this.maxValidYear=t("maxValidYear",db),this.minValidYear>this.maxValidYear&&he(83),this.minValidDate=e.minValidDate?e.minValidDate instanceof Date?e.minValidDate:Fn(e.minValidDate):null,this.maxValidDate=e.maxValidDate?e.maxValidDate instanceof Date?e.maxValidDate:Fn(e.maxValidDate):null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&he(84),this.filterModelFormatter=new CF(this.dateFilterParams,this.getLocaleTextFunc.bind(this),this.optionsFactory)}createDateCompWrapper(e){const{userCompFactory:t,context:n,gos:r}=this.beans,i=new gF(n,t,Le(r,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams,location:"filter"}),e);return this.addDestroyFunc(()=>i.destroy()),i}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}getDefaultFilterOptions(){return mF}createValueElement(){const t=Gt(this.beans).createElement("div");return t.classList.add("ag-filter-body"),this.createFromToElement(t,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(t,this.eConditionPanelsTo,this.dateConditionToComps,"to"),t}createFromToElement(e,t,n,r){const s=Gt(this.beans).createElement("div");s.classList.add(`ag-filter-${r}`),s.classList.add(`ag-filter-date-${r}`),t.push(s),e.appendChild(s),n.push(this.createDateCompWrapper(s))}removeValueElements(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),jl(this.eConditionPanelsFrom,e,t),jl(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,n){jl(e,t,n).forEach(i=>i.destroy())}isValidDateValue(e){if(e===null)return!1;const{minValidDate:t,maxValidDate:n,minValidYear:r,maxValidYear:i}=this;if(t){if(e<t)return!1}else if(e.getUTCFullYear()<r)return!1;if(n){if(e>n)return!1}else if(e.getUTCFullYear()>i)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((n,r,i,s)=>{i!==e||!t||r>=s||(t=t&&this.isValidDateValue(n.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}createCondition(e){const t=this.getConditionType(e),n={},r=this.getValues(e);return r.length>0&&(n.dateFrom=ar(r[0])),r.length>1&&(n.dateTo=ar(r[1])),{dateFrom:null,dateTo:null,filterType:this.filterType,type:t,...n}}resetPlaceholder(){const e=this.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),n=e("ariaFilterValue","Filter Value");this.forEachInput(r=>{r.setInputPlaceholder(t),r.setInputAriaLabel(n)})}getInputs(e){const{dateConditionFromComps:t,dateConditionToComps:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(n,r,i,s)=>{r<s&&t.push(n.getDate())}),t}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e)}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}};function oz(e,t){const n=t;return n<e?-1:n>e?1:0}var vF=class extends Pt{constructor(){super(...arguments),this.defaultDebounceMs=0}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.defaultOption;return}const t=e.operator;let n;t?n=e.conditions[0]:n=e,this.lastType=n.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const n=e;return this.isTypeEditable(n.type)}init(e){this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){const n=new hF;this.optionsFactory=n,n.init(e.filterParams,this.getDefaultOptions());const r=n.defaultOption;t||(this.lastType=r),this.readOnly=!!e.filterParams.readOnly;const i=this.isTypeEditable(r);this.setEditable(i)}refresh(e){this.setSimpleParams(e)}hasSingleInput(e){var n;const t=(n=this.optionsFactory.getCustomOption(e))==null?void 0:n.numberOfInputs;return t==null||t==1}isTypeEditable(e){const t=["inRange","empty","blank","notBlank"];return!!e&&!this.readOnly&&this.hasSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){return`${this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0)} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}},az=class extends vF{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eReadOnlyText"></ag-input-text-field>
                <div data-ref="eDateWrapper" style="display: flex;"></div>
            </div>`,[bh]),this.eReadOnlyText=Ie,this.eDateWrapper=Ie}getDefaultOptions(){return mF}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new CF(this.filterParams,this.getLocaleTextFunc.bind(this),this.optionsFactory);const t=this.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}refresh(e){super.refresh(e),this.params=e,this.filterParams=e.filterParams,this.dateComp.updateParams(this.getDateComponentParams()),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.readOnly&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){const n=e?Fn(e.dateFrom):null;this.dateComp.setDate(n),this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){Ot(this.eDateWrapper,e),Ot(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,t){t!=null&&t.afterFloatingFilter||t!=null&&t.afterDataChange||(super.setLastTypeFromModel(e),this.updateCompOnModelChange(e))}onDateChanged(){const e=this.dateComp.getDate(),t=ar(e);this.params.parentFilterInstance(n=>{if(n){const r=Fn(t);n.onFloatingFilterChanged(this.lastType||null,r)}})}getDateComponentParams(){const{filterParams:e,column:t}=this.params,n=CC(e,this.defaultDebounceMs);return Le(this.gos,{onDateChanged:en(this,this.onDateChanged.bind(this),n),filterParams:t.getColDef().filterParams,location:"floatingFilter"})}createDateComponent(){const{beans:{context:e,userCompFactory:t},eDateWrapper:n}=this;this.dateComp=new gF(e,t,this.getDateComponentParams(),n,r=>{r.setInputAriaLabel(this.getAriaLabel(this.params))}),this.addDestroyFunc(()=>this.dateComp.destroy())}},lz=class extends Pt{constructor(){super(`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" data-ref="eDateInput"></ag-input-text-field>
            </div>`,[bh]),this.eDateInput=Ie,this.isApply=!1,this.applyOnFocusOut=!1}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus({preventScroll:!0})},input:this.handleInput.bind(this,!1),change:this.handleInput.bind(this,!0),focusout:this.handleFocusOut.bind(this)})}handleInput(e,t){if(t.target===Nt(this.beans)&&!this.eDateInput.isDisabled()){if(this.isApply){this.applyOnFocusOut=!e,e&&this.params.onDateChanged();return}e||this.params.onDateChanged()}}handleFocusOut(){this.applyOnFocusOut&&(this.applyOnFocusOut=!1,this.params.onDateChanged())}setParams(e){const t=this.eDateInput.getInputElement(),n=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=n&&bs(),t.type=n?"date":"text";const{minValidYear:r,maxValidYear:i,minValidDate:s,maxValidDate:o,buttons:l}=e.filterParams||{};if(s&&r&&he(85),o&&i&&he(86),s&&o){const[c,d]=[s,o].map(f=>f instanceof Date?f:Fn(f));c&&d&&c.getTime()>d.getTime()&&he(87)}s?s instanceof Date?t.min=_l(s):t.min=s:r&&(t.min=`${r}-01-01`),o?o instanceof Date?t.max=_l(o):t.max=o:i&&(t.max=`${i}-12-31`),this.isApply=e.location==="floatingFilter"&&!!(l!=null&&l.includes("apply"))}refresh(e){this.params=e,this.setParams(e)}getDate(){return Fn(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(ar(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus({preventScroll:!0})}shouldUseBrowserDatePicker(e){var t;return((t=e==null?void 0:e.filterParams)==null?void 0:t.browserDatePicker)??!0}},wF=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"],yF=class extends IC{conditionToString(e,t){const{numberOfInputs:n}=t||{},{filter:r,filterTo:i,type:s}=e,o=s=="inRange"||n===2,l=this.formatValue.bind(this);return o?`${l(r)}-${l(i)}`:r!=null?l(r):`${s}`}};function vm(e){const{allowedCharPattern:t}=e??{};return t??null}var uz=class extends pF{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[],this.filterType="number",this.defaultDebounceMs=500}refresh(e){return this.numberFilterParams.allowedCharPattern!==e.allowedCharPattern?!1:super.refresh(e)}mapValuesFromModel(e){const{filter:t,filterTo:n,type:r}=e||{};return[this.processValue(t),this.processValue(n)].slice(0,this.getNumberOfInputs(r))}comparator(){return(e,t)=>e===t?0:e<t?1:-1}isValid(e){return!isNaN(e)}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new yF(this.getLocaleTextFunc.bind(this),this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return wF}setElementValue(e,t,n){const{numberFormatter:r}=this.numberFilterParams,i=!n&&r?r(t??null):t;super.setElementValue(e,i)}createValueElement(){const e=vm(this.numberFilterParams),t=document.createElement("div");return t.classList.add("ag-filter-body"),Fr(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,n,r){const i=this.createManagedBean(r?new wo({allowedCharPattern:r}):new PC);i.addCssClass(`ag-filter-${n}`),i.addCssClass("ag-filter-filter"),t.push(i),e.appendChild(i.getGui())}removeValueElements(e,t){const n=r=>this.removeComponents(r,e,t);n(this.eValuesFrom),n(this.eValuesTo)}getValues(e){const t=[];return this.forEachPositionInput(e,(n,r,i,s)=>{r<s&&t.push(this.processValue(this.stringToFloat(n.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}processValue(e){return e==null||isNaN(e)?null:e}stringToFloat(e){if(typeof e=="number")return e;let t=yi(e);t!=null&&t.trim()===""&&(t=null);const n=this.numberFilterParams.numberParser;return n?n(t):t==null||t.trim()==="-"?null:parseFloat(t)}createCondition(e){const t=this.getConditionType(e),n={filterType:this.filterType,type:t},r=this.getValues(e);return r.length>0&&(n.filter=r[0]),r.length>1&&(n.filterTo=r[1]),n}getInputs(e){const{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{if(!t.getInputElement().validity.valid){e=!0;return}}),e}},SF=class extends te{constructor(e){super(),this.params=e,this.eInput=Ie,this.onValueChanged=()=>{}}setupGui(e){var r;this.eInput=this.createManagedBean(new wo((r=this.params)==null?void 0:r.config));const t=this.eInput.getGui();e.appendChild(t);const n=i=>this.onValueChanged(i);this.addManagedListeners(t,{input:n,keydown:n})}setEditable(e){this.eInput.setDisabled(!e)}getValue(){return this.eInput.getValue()}setValue(e,t){this.eInput.setValue(e,t)}setValueChangedListener(e){this.onValueChanged=e}setParams({ariaLabel:e,autoComplete:t}){const{eInput:n}=this;n.setInputAriaLabel(e),t!==void 0&&n.setAutoComplete(t)}};function bF(e){const t=e==null?void 0:e.trim();return t===""?e:t}var RF=class extends vF{constructor(){super(...arguments),this.eFloatingFilterInputContainer=Ie,this.defaultDebounceMs=500}postConstruct(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" data-ref="eFloatingFilterInputContainer"></div>
        `)}onParentModelChanged(e,t){t!=null&&t.afterFloatingFilter||t!=null&&t.afterDataChange||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.inputSvc.setValue(this.filterModelFormatter.getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.inputSvc=this.createFloatingFilterInputService(e),this.inputSvc.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){this.params=e;const t=e.browserAutoComplete??!1,{inputSvc:n,defaultDebounceMs:r,readOnly:i}=this;if(n.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=Yd(e.filterParams),!i){const s=CC(e.filterParams,r),o=en(this,this.syncUpWithParentFilter.bind(this),s);n.setValueChangedListener(o)}}refresh(e){super.refresh(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const{inputSvc:t}=this,n=t.getValue();zn(this.eFloatingFilterInputContainer),this.destroyBean(t),this.setupFloatingFilterInputService(e),t.setValue(n,!0)}syncUpWithParentFilter(e){const t=e.key===X.ENTER;if(this.applyActive&&!t)return;const{inputSvc:n,params:r}=this;let i=n.getValue();r.filterParams.trimInput&&(i=bF(i),n.setValue(i,!0)),r.parentFilterInstance(s=>{s==null||s.onFloatingFilterChanged(this.lastType||null,i||null)})}setEditable(e){this.inputSvc.setEditable(e)}},cz=class extends te{constructor(){super(...arguments),this.onValueChanged=()=>{},this.numberInputActive=!0}setupGui(e){this.eNumberInput=this.createManagedBean(new PC),this.eTextInput=this.createManagedBean(new wo),this.eTextInput.setDisabled(!0);const t=this.eNumberInput.getGui(),n=this.eTextInput.getGui();e.appendChild(t),e.appendChild(n),this.setupListeners(t,r=>this.onValueChanged(r)),this.setupListeners(n,r=>this.onValueChanged(r))}setEditable(e){this.numberInputActive=e,this.eNumberInput.setDisplayed(this.numberInputActive),this.eTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eNumberInput.setAutoComplete(e),this.eTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eNumberInput:this.eTextInput}setValueChangedListener(e){this.onValueChanged=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eNumberInput.setInputAriaLabel(e),this.eTextInput.setInputAriaLabel(e)}},dz=class extends RF{init(e){var t;super.init(e),this.filterModelFormatter=new yF(this.getLocaleTextFunc.bind(this),this.optionsFactory,(t=e.filterParams)==null?void 0:t.numberFormatter)}refresh(e){vm(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultOptions(){return wF}createFloatingFilterInputService(e){return this.allowedCharPattern=vm(e.filterParams),this.allowedCharPattern?this.createManagedBean(new SF({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new cz)}},xF=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],EF=class extends IC{conditionToString(e,t){const{numberOfInputs:n}=t||{},{filter:r,filterTo:i,type:s}=e;return s=="inRange"||n===2?`${r}-${i}`:r!=null?`${r}`:`${s}`}},hz=class extends fF{constructor(){super("textFilter"),this.filterType="text",this.defaultFormatter=e=>e,this.defaultLowercaseFormatter=e=>e==null?null:e.toString().toLowerCase(),this.defaultMatcher=({filterOption:e,value:t,filterText:n})=>{if(n==null)return!1;switch(e){case"contains":return t.indexOf(n)>=0;case"notContains":return t.indexOf(n)<0;case"equals":return t===n;case"notEqual":return t!=n;case"startsWith":return t.indexOf(n)===0;case"endsWith":{const r=t.lastIndexOf(n);return r>=0&&r===t.length-n.length}default:return!1}},this.eValuesFrom=[],this.eValuesTo=[],this.defaultDebounceMs=500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=e.textMatcher||this.defaultMatcher,this.formatter=e.textFormatter||(e.caseSensitive?this.defaultFormatter:this.defaultLowercaseFormatter),this.filterModelFormatter=new EF(this.getLocaleTextFunc.bind(this),this.optionsFactory)}createCondition(e){const t=this.getConditionType(e),n={filterType:this.filterType,type:t},r=this.getValuesWithSideEffects(e,!0);return r.length>0&&(n.filter=r[0]),r.length>1&&(n.filterTo=r[1]),n}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){const{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){const n=[];return this.forEachPositionInput(e,(r,i,s,o)=>{if(i<o){let l=yi(r.getValue());t&&this.textFilterParams.trimInput&&(l=bF(l)??null,r.setValue(l,!0)),n.push(l)}}),n}getDefaultFilterOptions(){return xF}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),Fr(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,t,n){const r=this.createManagedBean(new wo);r.addCssClass(`ag-filter-${n}`),r.addCssClass("ag-filter-filter"),t.push(r),e.appendChild(r.getGui())}removeValueElements(e,t){const n=r=>this.removeComponents(r,e,t);n(this.eValuesFrom),n(this.eValuesTo)}mapValuesFromModel(e){const{filter:t,filterTo:n,type:r}=e||{};return[t||null,n||null].slice(0,this.getNumberOfInputs(r))}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,n,r){const i=e.map(m=>this.formatter(m))||[],s=this.formatter(t),{api:o,colDef:l,column:c,context:d,textFormatter:f}=this.textFilterParams;if(n.type==="blank")return eh(t);if(n.type==="notBlank")return!eh(t);const p={api:o,colDef:l,column:c,context:d,node:r.node,data:r.data,filterOption:n.type,value:s,textFormatter:f};return i.some(m=>this.matcher({...p,filterText:m}))}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}},fz=class extends RF{init(e){super.init(e),this.filterModelFormatter=new EF(this.getLocaleTextFunc.bind(this),this.optionsFactory)}refresh(e){super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultOptions(){return xF}createFloatingFilterInputService(){return this.createManagedBean(new SF)}};function pz(e){var t;return!!((t=e.quickFilter)!=null&&t.isFilterPresent())}function gz(e){var t;return(t=e.quickFilter)==null?void 0:t.getText()}function mz(e){var t;(t=e.quickFilter)==null||t.resetCache()}var Cz=class extends te{constructor(){super(...arguments),this.beanName="quickFilter",this.quickFilter=null,this.quickFilterParts=null}postConstruct(){const e=this.resetCache.bind(this),t=this.gos;this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{t.get("includeHiddenColumnsInQuickFilter")||this.resetCache()}}),this.addManagedPropertyListener("quickFilterText",n=>this.setFilter(n.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onColumnConfigChanged()),this.quickFilter=this.parseFilter(t.get("quickFilterText")),this.parser=t.get("quickFilterParser"),this.matcher=t.get("quickFilterMatcher"),this.setFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setParserAndMatcher())}refreshCols(){var c;const{autoColSvc:e,colModel:t,gos:n,pivotResultCols:r}=this.beans,i=t.isPivotMode(),s=e==null?void 0:e.getColumns(),o=t.getColDefCols();let l=(i&&!n.get("applyQuickFilterBeforePivotOrAgg")?(c=r==null?void 0:r.getPivotResultCols())==null?void 0:c.list:o)??[];s&&(l=l.concat(s)),this.colsToUse=n.get("includeHiddenColumnsInQuickFilter")?l:l.filter(d=>d.isVisible()||d.isRowGroupActive())}isFilterPresent(){return this.quickFilter!==null}doesRowPass(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassMatcher(t,e):this.quickFilterParts.every(n=>t?this.doesRowPassCache(e,n):this.doesRowPassNoCache(e,n))}resetCache(){this.beans.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}getText(){return this.gos.get("quickFilterText")}setFilterParts(){const{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseFilter(e){return Ce(e)?e.toUpperCase():null}setFilter(e){if(e!=null&&typeof e!="string"){he(70,{newFilter:e});return}const t=this.parseFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),n=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,n&&(this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onColumnConfigChanged(){this.refreshCols(),this.resetCache(),this.isFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassNoCache(e,t){return this.colsToUse.some(n=>{const r=this.getTextForColumn(n,e);return Ce(r)&&r.indexOf(t)>=0})}doesRowPassCache(e,t){return this.checkGenerateAggText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassMatcher(e,t){let n;e?(this.checkGenerateAggText(t),n=t.quickFilterAggregateText):n=this.getAggText(t);const{quickFilterParts:r,matcher:i}=this;return i(r,n)}checkGenerateAggText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getAggText(e))}getTextForColumn(e,t){let n=this.beans.filterValueSvc.getValue(e,t);const r=e.getColDef();if(r.getQuickFilterText){const i=Le(this.gos,{value:n,node:t,data:t.data,column:e,colDef:r});n=r.getQuickFilterText(i)}return Ce(n)?n.toString().toUpperCase():null}getAggText(e){const t=[];return this.colsToUse.forEach(n=>{const r=this.getTextForColumn(n,e);Ce(r)&&t.push(r)}),t.join(`
`)}},vz={moduleName:"ClientSideRowModelFilter",version:ve,rowModels:["clientSide"],beans:[M_]},OC={moduleName:"FilterCore",version:ve,beans:[X_],apiFunctions:{isAnyFilterPresent:Q_,onFilterChanged:J_},css:[G_],dependsOn:[vz]},FF={moduleName:"FilterValue",version:ve,beans:[ez]},Fh={moduleName:"ColumnFilter",version:ve,beans:[Y_,Z_],dynamicBeans:{headerFilterCellCtrl:k_},icons:{filter:"filter",filterActive:"filter"},apiFunctions:{isColumnFilterPresent:V_,getColumnFilterInstance:W_,destroyFilter:__,setFilterModel:z_,getFilterModel:j_,getColumnFilterModel:U_,setColumnFilterModel:$_,showColumnFilter:K_},dependsOn:[OC,Eh,FF,L_]},wz={moduleName:"CustomFilter",version:ve,userComponents:{agReadOnlyFloatingFilter:tz},dependsOn:[Fh]},yz={moduleName:"TextFilter",version:ve,dependsOn:[Fh],userComponents:{agTextColumnFilter:hz,agTextColumnFloatingFilter:fz}},Sz={moduleName:"NumberFilter",version:ve,dependsOn:[Fh],userComponents:{agNumberColumnFilter:uz,agNumberColumnFloatingFilter:dz}},bz={moduleName:"DateFilter",version:ve,dependsOn:[Fh],userComponents:{agDateColumnFilter:sz,agDateInput:lz,agDateColumnFloatingFilter:az}},Rz={moduleName:"QuickFilterCore",version:ve,rowModels:["clientSide"],beans:[Cz],dependsOn:[OC,FF]},xz={moduleName:"QuickFilter",version:ve,apiFunctions:{isQuickFilterPresent:pz,getQuickFilter:gz,resetQuickFilter:mz},dependsOn:[Rz]},Ez={moduleName:"ExternalFilter",version:ve,dependsOn:[OC]},Ll=class{constructor(e){this.cellValueChanges=e}},Rg=class extends Ll{constructor(e,t,n,r){super(e),this.initialRange=t,this.finalRange=n,this.ranges=r}},Fz=10,hb=class{constructor(e){this.actionStack=[],this.maxStackSize=e||Fz,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},Pz=class extends te{constructor(){super(...arguments),this.beanName="undoRedo",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},n=this.activeCellEdit!==null&&am(this.activeCellEdit,t),r=this.activeRowEdit!==null&&$N(this.activeRowEdit,t);if(!(n||r||this.isPasting||this.isRangeInAction))return;const{rowPinned:s,rowIndex:o,column:l,oldValue:c,value:d}=e,f={rowPinned:s,rowIndex:o,columnId:l.getColId(),newValue:d,oldValue:c};this.cellValueChanges.push(f)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}postConstruct(){const{gos:e,ctrlsSvc:t}=this.beans;if(!e.get("undoRedoCellEditing"))return;const n=e.get("undoRedoCellEditingLimit");if(n<=0)return;this.undoStack=new hb(n),this.redoStack=new hb(n),this.addListeners();const r=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:i=>{i.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:r,newColumnsLoaded:r,columnGroupOpened:r,columnRowGroupChanged:r,columnMoved:r,columnPinned:r,columnVisible:r,rowDragEnd:r}),t.whenReady(this,i=>{this.gridBodyCtrl=i.gridBodyCtrl})}getCurrentUndoStackSize(){var e;return((e=this.undoStack)==null?void 0:e.getCurrentStackSize())??0}getCurrentRedoStackSize(){var e;return((e=this.redoStack)==null?void 0:e.getCurrentStackSize())??0}undo(e){const{eventSvc:t,undoStack:n,redoStack:r}=this;t.dispatchEvent({type:"undoStarted",source:e});const i=this.undoRedo(n,r,"initialRange","oldValue","undo");t.dispatchEvent({type:"undoEnded",source:e,operationPerformed:i})}redo(e){const{eventSvc:t,undoStack:n,redoStack:r}=this;t.dispatchEvent({type:"redoStarted",source:e});const i=this.undoRedo(r,n,"finalRange","newValue","redo");t.dispatchEvent({type:"redoEnded",source:e,operationPerformed:i})}undoRedo(e,t,n,r,i){if(!e)return!1;const s=e.pop();return!s||!s.cellValueChanges?!1:(this.processAction(s,o=>o[r],i),s instanceof Rg?this.processRange(s.ranges||[s[n]]):this.processCell(s.cellValueChanges),t.push(s),!0)}processAction(e,t,n){e.cellValueChanges.forEach(r=>{const{rowIndex:i,rowPinned:s,columnId:o}=r,l={rowIndex:i,rowPinned:s},c=qd(this.beans,l);c.displayed&&c.setDataValue(o,t(r),n)})}processRange(e){let t;const n=this.beans.rangeSvc;n.removeAllCellRanges(!0),e.forEach((r,i)=>{if(!r)return;const s=r.startRow,o=r.endRow;i===e.length-1&&(t={rowPinned:s.rowPinned,rowIndex:s.rowIndex,columnId:r.startColumn.getColId()},this.setLastFocusedCell(t));const l={rowStartIndex:s.rowIndex,rowStartPinned:s.rowPinned,rowEndIndex:o.rowIndex,rowEndPinned:o.rowPinned,columnStart:r.startColumn,columns:r.columns};n.addCellRange(l)})}processCell(e){const t=e[0],{rowIndex:n,rowPinned:r}=t,i={rowIndex:n,rowPinned:r},s=qd(this.beans,i),o={rowPinned:t.rowPinned,rowIndex:s.rowIndex,columnId:t.columnId};this.setLastFocusedCell(o)}setLastFocusedCell(e){const{rowIndex:t,columnId:n,rowPinned:r}=e,{colModel:i,focusSvc:s,rangeSvc:o}=this.beans,l=i.getCol(n);if(!l)return;const{scrollFeature:c}=this.gridBodyCtrl;c.ensureIndexVisible(t),c.ensureColumnVisible(l);const d={rowIndex:t,column:l,rowPinned:r};s.setFocusedCell({...d,forceBrowserFocus:!0}),o==null||o.setRangeToCell(d)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new Ll(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const n=new Ll(this.cellValueChanges);this.pushActionsToUndoStack(n)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new Ll(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const t=new Rg(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;const{rangeSvc:t,gos:n}=this.beans;t&&ms(n)?e=new Rg(this.cellValueChanges,void 0,void 0,[...t.getCellRanges()]):e=new Ll(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1}})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}},Dz=".ag-cell-inline-editing{border:var(--ag-cell-editing-border)!important;border-radius:var(--ag-border-radius);box-shadow:var(--ag-cell-editing-shadow);padding:0;z-index:1;.ag-cell-edit-wrapper,.ag-cell-editor,.ag-cell-wrapper,:where(.ag-cell-editor) .ag-input-field-input,:where(.ag-cell-editor) .ag-wrapper{height:100%;line-height:normal;width:100%}}:where(.ag-popup-editor) .ag-large-text{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0}.ag-large-text-input{height:auto;padding:var(--ag-cell-horizontal-padding)}:where(.ag-rtl .ag-large-text-input) textarea{resize:none}:where(.ag-ltr) .ag-checkbox-edit{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-checkbox-edit{padding-right:var(--ag-cell-horizontal-padding)}",Tz=class extends ka{constructor(){super(`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[FC]),this.eCheckbox=Ie}init(e){this.params=e;const t=e.value??void 0,n=this.eCheckbox;n.setValue(t),n.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(n,{fieldValueChanged:i=>this.setAriaLabel(i.selected)})}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.getLocaleTextFunc(),n=sC(t,e),r=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${r} (${n})`)}},Ph=class extends ka{constructor(e){super(`
            <div class="ag-cell-edit-wrapper">
                ${e.getTemplate()}
            </div>`,e.getAgComponents()),this.cellEditorInput=e,this.eInput=Ie}init(e){this.params=e;const{cellStartedEdit:t,eventKey:n,suppressPreventDefault:r}=e,i=this.eInput;this.cellEditorInput.init(i,e);let s,o=!0;t?(this.focusAfterAttached=!0,n===X.BACKSPACE||n===X.DELETE?s="":n&&n.length===1?r?o=!1:s=n:(s=this.cellEditorInput.getStartValue(),n!==X.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,s=this.cellEditorInput.getStartValue()),o&&s!=null&&i.setStartValue(s),this.addManagedElementListeners(i.getGui(),{keydown:l=>{const{key:c}=l;(c===X.PAGE_UP||c===X.PAGE_DOWN)&&l.preventDefault()}})}afterGuiAttached(){var r,i;const e=this.getLocaleTextFunc(),t=this.eInput;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;bs()||t.getFocusableElement().focus();const n=t.getInputElement();this.highlightAllOnFocus?n.select():(i=(r=this.cellEditorInput).setCaret)==null||i.call(r)}focusIn(){const e=this.eInput,t=e.getFocusableElement(),n=e.getInputElement();t.focus(),n.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}},Az=class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[I0]}init(e,t){this.eInput=e,this.params=t;const{min:n,max:r,step:i}=t;n!=null&&e.setMin(n),r!=null&&e.setMax(r),i!=null&&e.setStep(i)}getValue(){const{eInput:e,params:t}=this,n=e.getDate();return!Ce(n)&&!Ce(t.value)?t.value:n??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return ar(e,!1)}},Mz=class extends Ph{constructor(){super(new Az)}},kz=class{constructor(e){this.getDataTypeService=e}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[I0]}init(e,t){this.eInput=e,this.params=t;const{min:n,max:r,step:i}=t;n!=null&&e.setMin(n),r!=null&&e.setMax(r),i!=null&&e.setStep(i)}getValue(){const{params:e,eInput:t}=this,n=this.formatDate(t.getDate());return!Ce(n)&&!Ce(e.value)?e.value:e.parseValue(n??"")}getStartValue(){return ar(this.parseDate(this.params.value??void 0)??null,!1)}parseDate(e){const t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):Fn(e)??void 0}formatDate(e){const t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):ar(e??null,!1)??void 0}},Iz=class extends Ph{constructor(){super(new kz(()=>this.beans.dataTypeSvc))}},Oz=class extends ka{constructor(){super(`<div class="ag-large-text">
        <ag-input-text-area data-ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`,[uH]),this.eTextArea=Ie}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),e.value!=null&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const t=e.key;(t===X.LEFT||t===X.UP||t===X.RIGHT||t===X.DOWN||e.shiftKey&&t===X.ENTER)&&e.stopPropagation()}afterGuiAttached(){const e=this.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const e=this.eTextArea.getValue(),t=this.params;return!Ce(e)&&!Ce(t.value)?t.value:t.parseValue(e)}},Lz=class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" data-ref="eInput"></ag-input-number-field>'}getAgComponents(){return[cH]}init(e,t){this.eInput=e,this.params=t;const{max:n,min:r,precision:i,step:s}=t;n!=null&&e.setMax(n),r!=null&&e.setMin(r),i!=null&&e.setPrecision(i),s!=null&&e.setStep(s);const o=e.getInputElement();t.preventStepping?e.addManagedElementListeners(o,{keydown:this.preventStepping}):t.showStepperButtons&&o.classList.add("ag-number-field-input-stepper")}preventStepping(e){(e.key===X.UP||e.key===X.DOWN)&&e.preventDefault()}getValue(){const{eInput:e,params:t}=this,n=e.getValue();if(!Ce(n)&&!Ce(t.value))return t.value;let r=t.parseValue(n);if(r==null)return r;if(typeof r=="string"){if(r==="")return null;r=Number(r)}return isNaN(r)?null:r}getStartValue(){return this.params.value}setCaret(){bs()&&this.eInput.getInputElement().focus({preventScroll:!0})}},Nz=class extends Ph{constructor(){super(new Lz)}},Bz=class extends ka{constructor(){super(`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" data-ref="eSelect"></ag-select>
            </div>`,[yH]),this.eSelect=Ie,this.startedByEnter=!1}wireBeans(e){this.valueSvc=e.valueSvc}init(e){this.focusAfterAttached=e.cellStartedEdit;const{eSelect:t,valueSvc:n,gos:r}=this,{values:i,value:s,eventKey:o}=e;if(Ft(i)){he(58);return}this.startedByEnter=o!=null?o===X.ENTER:!1;let l=!1;i.forEach(p=>{const m={value:p},C=n.formatValue(e.column,null,p),y=C!=null;m.text=y?C:p,t.addOption(m),l=l||s===p}),l?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:c,valueListMaxWidth:d,valueListMaxHeight:f}=e;c!=null&&t.setPickerGap(c),f!=null&&t.setPickerMaxHeight(f),d!=null&&t.setPickerMaxWidth(d),r.get("editType")!=="fullRow"&&this.addManagedListeners(this.eSelect,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}},Hz=class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" data-ref="eInput"></ag-input-text-field>'}getAgComponents(){return[bh]}init(e,t){this.eInput=e,this.params=t;const n=t.maxLength;n!=null&&e.setMaxLength(n)}getValue(){const{eInput:e,params:t}=this,n=e.getValue();return!Ce(n)&&!Ce(t.value)?t.value:t.parseValue(n)}getStartValue(){const e=this.params;return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value}setCaret(){const e=this.eInput,t=e.getValue(),n=Ce(t)&&t.length||0;n&&e.getInputElement().setSelectionRange(n,n)}},fb=class extends Ph{constructor(){super(new Hz)}};function Gz(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}function Vz(e){return e.ctrlsSvc.getScrollFeature().getHScrollPosition()}function PF(e,t,n="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureColumnVisible(t,n),"ensureVisible")}function DF(e,t,n){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureIndexVisible(t,n),"ensureVisible")}function Wz(e,t,n=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureNodeVisible(t,n),"ensureVisible")}function _z(e){var t;(t=e.undoRedo)==null||t.undo("api")}function zz(e){var t;(t=e.undoRedo)==null||t.redo("api")}function jz(e,t={}){const n=[];return e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(r=>{var s;const i=(s=r.comp)==null?void 0:s.getCellEditor();i&&n.push(ru(i))}),n}function Uz(e){const t=[];return e.rowRenderer.getAllCellCtrls().forEach(n=>{if(n.editing){const{cellPosition:r}=n;t.push(r)}}),t}function $z(e,t=!1){var n;(n=e.editSvc)==null||n.stopAllEditing(t)}function Kz(e,t){const n=e.colModel.getCol(t.colKey);if(!n){he(12,{colKey:t.colKey});return}const r={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:n};t.rowPinned==null&&DF(e,t.rowIndex),PF(e,t.colKey);const s=Zo(e,r);if(!s)return;const{focusSvc:o,gos:l,editSvc:c}=e,d=()=>{const p=Nt(e),m=s.eGui;return p!==m&&!!(m!=null&&m.contains(p))},f=l.get("stopEditingWhenCellsLoseFocus")&&d();(f||!o.isCellFocused(r))&&o.setFocusedCell({...r,forceBrowserFocus:f,preventScrollOnBrowserFocus:!0}),c==null||c.startRowOrCellEdit(s,t.key)}function qz(e){var t;return((t=e.undoRedo)==null?void 0:t.getCurrentUndoStackSize())??0}function Yz(e){var t;return((t=e.undoRedo)==null?void 0:t.getCurrentRedoStackSize())??0}var Qz=class extends ka{constructor(e){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=e}postConstruct(){co(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params,n=r=>{um(this.gos,r,t.node,t.column,!0)||t.onKeyDown(r)};this.addManagedElementListeners(e,{keydown:n})}},Jz=class extends te{constructor(){super(...arguments),this.beanName="editSvc"}startEditing(e,t=null,n=!1,r=null){var d;if(!e.isCellEditable()||e.editing)return!0;if(!e.comp)return e.onCompAttachedFuncs.push(()=>{this.startEditing(e,t,n,r)}),!0;const i=this.createCellEditorParams(e,t,n),s=e.column.getColDef(),o=BS(this.beans.userCompFactory,s,i),l=(o==null?void 0:o.popupFromSelector)!=null?o.popupFromSelector:!!s.cellEditorPopup,c=(o==null?void 0:o.popupPositionFromSelector)!=null?o.popupPositionFromSelector:s.cellEditorPopupPosition;return pb(e,!0,o),e.comp.setEditDetails(o,l,c,this.gos.get("reactiveCustomComponents")),this.eventSvc.dispatchEvent(e.createEvent(r,"cellEditingStarted")),!((d=o==null?void 0:o.params)!=null&&d.suppressPreventDefault)}stopEditing(e,t=!1){if(e.onEditorAttachedFuncs=[],!e.editing)return!1;const{comp:n,column:r,rowNode:i}=e,{newValue:s,newValueExists:o}=Xz(t,n),l=this.beans.valueSvc.getValueForDisplay(r,i);let c=!1;return o&&(c=Zz(e,l,s,i,r)),pb(e,!1,void 0),n.setEditDetails(),e.updateAndFormatValue(!1),e.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.eventSvc.dispatchEvent({...e.createEvent(null,"cellEditingStopped"),oldValue:l,newValue:s,valueChanged:c}),c}handleColDefChanged(e){var n;const t=(n=e.comp)==null?void 0:n.getCellEditor();if(t!=null&&t.refresh){const{eventKey:r,cellStartedEdit:i}=e.editCompDetails.params,s=this.createCellEditorParams(e,r,i),o=e.column.getColDef(),l=BS(this.beans.userCompFactory,o,s);t.refresh(l.params)}}setFocusOutOnEditor(e){if(!e.editing)return;const t=e.comp.getCellEditor();t&&t.focusOut&&t.focusOut()}setFocusInOnEditor(e){if(!e.editing)return;const t=e.comp,n=t.getCellEditor();n!=null&&n.focusIn?n.focusIn():(e.focusCell(!0),e.onEditorAttachedFuncs.push(()=>{var r,i;return(i=(r=t.getCellEditor())==null?void 0:r.focusIn)==null?void 0:i.call(r)}))}stopEditingAndFocus(e,t=!1,n=!1){this.stopRowOrCellEdit(e),e.focusCell(!0),t||this.navigateAfterEdit(n,e.cellPosition)}createPopupEditorWrapper(e){return new Qz(e)}stopAllEditing(e=!1){this.beans.rowRenderer.getAllRowCtrls().forEach(t=>this.stopRowEditing(t,e))}stopRowEditing(e,t=!1){var s;if(e.stoppingRowEdit)return;const n=e.getAllCellCtrls(),r=e.editing;e.stoppingRowEdit=!0;let i=!1;for(const o of n){const l=o.stopEditing(t);r&&!t&&!i&&l&&(i=!0)}i&&this.eventSvc.dispatchEvent(e.createRowEvent("rowValueChanged")),r&&((s=this.beans.rowEditSvc)==null||s.setEditing(e,!1)),e.stoppingRowEdit=!1}addStopEditingWhenGridLosesFocus(e){if(!this.gos.get("stopEditingWhenCellsLoseFocus"))return;const t=n=>{const r=n.relatedTarget;if(Jg(r)===null){this.stopAllEditing();return}let i=e.some(s=>s.contains(r))&&p0(this.gos,r);if(!i){const s=this.beans.popupSvc;i=!!s&&(s.getActivePopups().some(o=>o.contains(r))||s.isElementWithinCustomPopup(r))}i||this.stopAllEditing()};e.forEach(n=>this.addManagedElementListeners(n,{focusout:t}))}setInlineEditingCss(e){const t=e.editing||e.getAllCellCtrls().some(n=>n.editing);e.forEachGui(void 0,n=>{n.rowComp.addOrRemoveCssClass("ag-row-inline-editing",t),n.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!t)})}isCellEditable(e,t){if(t.group){if(this.gos.get("treeData")){if(!t.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1}return e.isColumnFunc(t,e.colDef.editable)}startRowOrCellEdit(e,t,n=null){var r;return e.comp?this.gos.get("editType")==="fullRow"?((r=this.beans.rowEditSvc)==null?void 0:r.startEditing(e.rowCtrl,t,e))??!0:this.startEditing(e,t,!0,n):(e.onCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(e,t,n)}),!0)}stopRowOrCellEdit(e,t=!1){this.gos.get("editType")==="fullRow"?this.stopRowEditing(e.rowCtrl,t):this.stopEditing(e,t)}createCellEditorParams(e,t,n){const{column:r,rowNode:i,cellPosition:{rowIndex:s}}=e,{valueSvc:o,gos:l}=this.beans;return Le(l,{value:o.getValueForDisplay(r,i),eventKey:t,column:r,colDef:r.getColDef(),rowIndex:s,node:i,data:i.data,cellStartedEdit:n,onKeyDown:e.onKeyDown.bind(e),stopEditing:e.stopEditingAndFocus.bind(e),eGridCell:e.eGui,parseValue:c=>o.parseValue(r,i,c,e.value),formatValue:e.formatValue.bind(e)})}navigateAfterEdit(e,t){var r;if(this.gos.get("enterNavigatesVerticallyAfterEdit")){const i=e?X.UP:X.DOWN;(r=this.beans.navigation)==null||r.navigateToNextCell(null,i,t,!1)}}};function pb(e,t,n){e.editCompDetails=n,e.editing!==t&&(e.editing=t)}function Xz(e,t){const n={newValueExists:!1};if(e)return n;const r=t.getCellEditor();return!r||r.isCancelAfterEnd&&r.isCancelAfterEnd()?n:{newValue:r.getValue(),newValueExists:!0}}function Zz(e,t,n,r,i){if(n===t)return!1;e.suppressRefreshCell=!0;const s=r.setDataValue(i,n,"edit");return e.suppressRefreshCell=!1,s}var ej=class extends te{constructor(){super(...arguments),this.beanName="rowEditSvc"}startEditing(e,t=null,n=null,r=null){if(e.editing)return!0;let i=!0,s=!1;const{editSvc:o}=this.beans;return e.getAllCellCtrls().forEach(l=>{const c=l===n;c?i=(o==null?void 0:o.startEditing(l,t,c,r))??!0:o==null||o.startEditing(l,null,c,r),s||(s=l.editing)}),s&&this.setEditing(e,!0),i}setEditing(e,t){e.editing=t,e.forEachGui(void 0,r=>r.rowComp.addOrRemoveCssClass("ag-row-editing",t));const n=t?e.createRowEvent("rowEditingStarted"):e.createRowEvent("rowEditingStopped");this.eventSvc.dispatchEvent(n)}},Rs={moduleName:"EditCore",version:ve,beans:[Jz,ej],apiFunctions:{getCellEditorInstances:jz,getEditingCells:Uz,stopEditing:$z,startEditingCell:Kz},dependsOn:[Eh],css:[Dz]},tj={moduleName:"UndoRedoEdit",version:ve,beans:[Pz],apiFunctions:{undoCellEditing:_z,redoCellEditing:zz,getCurrentUndoSize:qz,getCurrentRedoSize:Yz},dependsOn:[Rs]},nj={moduleName:"TextEditor",version:ve,userComponents:{agCellEditor:fb,agTextCellEditor:fb},dependsOn:[Rs]},rj={moduleName:"NumberEditor",version:ve,userComponents:{agNumberCellEditor:{classImp:Nz,params:{suppressPreventDefault:!0}}},dependsOn:[Rs]},ij={moduleName:"DateEditor",version:ve,userComponents:{agDateCellEditor:Mz,agDateStringCellEditor:Iz},dependsOn:[Rs]},sj={moduleName:"CheckboxEditor",version:ve,userComponents:{agCheckboxCellEditor:Tz},dependsOn:[Rs]},oj={moduleName:"SelectEditor",version:ve,userComponents:{agSelectCellEditor:Bz},dependsOn:[Rs]},aj={moduleName:"LargeTextEditor",version:ve,userComponents:{agLargeTextCellEditor:Oz},dependsOn:[Rs]},lj={moduleName:"CustomEditor",version:ve,dependsOn:[Rs]},uj=class extends te{constructor(){super(...arguments),this.beanName="selectionColSvc"}postConstruct(){this.addManagedPropertyListener("rowSelection",e=>{this.onSelectionOptionsChanged(e.currentValue,e.previousValue,ia(e.source))}),this.addManagedPropertyListener("selectionColumnDef",this.updateColumns.bind(this))}addColumns(e){const t=this.columns;t!=null&&(e.list=t.list.concat(e.list),e.tree=t.tree.concat(e.tree),iL(e))}createColumns(e,t){var m,C;const n=()=>{var y;Wd(this.beans,(y=this.columns)==null?void 0:y.tree),this.columns=null},r=e.treeDepth,s=(((m=this.columns)==null?void 0:m.treeDepth)??-1)==r,o=this.generateSelectionCols();if(rL(o,((C=this.columns)==null?void 0:C.list)??[])&&s)return;n();const{colGroupSvc:c}=this.beans,d=(c==null?void 0:c.findDepth(e.tree))??0,f=(c==null?void 0:c.balanceTreeForAutoCols(o,d))??[];this.columns={list:o,tree:f,treeDepth:d,map:{}},t(y=>{if(!y)return null;const b=y.filter(R=>!Ei(R));return[...o,...b]})}updateColumns(e){var r;const t=ia(e.source),n=e.currentValue;(r=this.columns)==null||r.list.forEach(i=>{const s=this.createSelectionColDef(n);i.setColDef(s,null,t),or(this.beans,{state:[{colId:i.getColId(),...s}]},t)})}getColumn(e){var t;return((t=this.columns)==null?void 0:t.list.find(n=>qE(n,e)))??null}getColumns(){var e;return((e=this.columns)==null?void 0:e.list)??null}isSelectionColumnEnabled(){var o,l;const{gos:e,beans:t}=this,n=e.get("rowSelection");if(typeof n!="object"||!Xs(e))return!1;const r=(((l=(o=t.autoColSvc)==null?void 0:o.getColumns())==null?void 0:l.length)??0)>0;if(n.checkboxLocation==="autoGroupColumn"&&r)return!1;const i=!!ra(n),s=ld(n);return i||s}createSelectionColDef(e){const{gos:t}=this.beans,n=e??t.get("selectionColumnDef"),r=t.get("enableRtl"),{rowSpan:i,spanRows:s,...o}=n??{};return{width:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:r?"right":"left",comparator(l,c,d,f){const p=d.isSelected(),m=f.isSelected();return p===m?0:p?1:-1},editable:!1,suppressFillHandle:!0,pinned:null,...o,colId:$E}}generateSelectionCols(){var r;if(!this.isSelectionColumnEnabled())return[];const e=this.createSelectionColDef(),t=e.colId;(r=this.beans.validation)==null||r.validateColDef(e,t,!0);const n=new fC(e,null,t,!1);return this.createBean(n),[n]}onSelectionOptionsChanged(e,t,n){const r=t&&typeof t!="string"?ra(t):void 0,i=e&&typeof e!="string"?ra(e):void 0,s=r!==i,o=t&&typeof t!="string"?ld(t):void 0,l=e&&typeof e!="string"?ld(e):void 0,c=o!==l,d=rm(e),f=rm(t);(s||c||d!==f)&&this.beans.colModel.refreshAll(n)}destroy(){var e;Wd(this.beans,(e=this.columns)==null?void 0:e.tree),super.destroy()}refreshVisibility(e){if(!this.isSelectionColumnEnabled())return;const t=this.beans,n=t.visibleCols.getAllTrees()??[];if(n.length!==0){if(!n.some(TF)){const r=nu(t).find(i=>Ei(i.colId));r&&or(t,{state:[{colId:r.colId,hide:!r.hide}]},e)}if(n.length===1){const r=n[0],i=AF(r);if(!i)return;or(t,{state:[{colId:i.getColId(),hide:!0}]},e)}}}},TF=e=>{var t;return e.isColumn?Ei(e):((t=e.getChildren())==null?void 0:t.some(TF))??!1};function AF(e){if(e.isColumn)return Ei(e)?e:null;const t=e.getChildren()??[];for(const n of t){const r=AF(n);if(r)return r}return null}function cj(e,t){var o;if(!t.nodes.every(l=>l.rowPinned?(he(59),!1):l.id===void 0?(he(60),!1):!0))return;const{nodes:r,source:i,newValue:s}=t;(o=e.selectionSvc)==null||o.setNodesSelected({nodes:r,source:i??"api",newValue:s})}function dj(e,t,n="apiSelectAll"){var r;(r=e.selectionSvc)==null||r.selectAllRowNodes({source:n,selectAll:t})}function hj(e,t,n="apiSelectAll"){var r;(r=e.selectionSvc)==null||r.deselectAllRowNodes({source:n,selectAll:t})}function fj(e,t="apiSelectAllFiltered"){var n;(n=e.selectionSvc)==null||n.selectAllRowNodes({source:t,selectAll:"filtered"})}function pj(e,t="apiSelectAllFiltered"){var n;(n=e.selectionSvc)==null||n.deselectAllRowNodes({source:t,selectAll:"filtered"})}function gj(e,t="apiSelectAllCurrentPage"){var n;(n=e.selectionSvc)==null||n.selectAllRowNodes({source:t,selectAll:"currentPage"})}function mj(e,t="apiSelectAllCurrentPage"){var n;(n=e.selectionSvc)==null||n.deselectAllRowNodes({source:t,selectAll:"currentPage"})}function Cj(e){var t;return((t=e.selectionSvc)==null?void 0:t.getSelectedNodes())??[]}function vj(e){var t;return((t=e.selectionSvc)==null?void 0:t.getSelectedRows())??[]}var wj=class extends oH{constructor(){super(...arguments),this.beanName="selectionSvc",this.selectedNodes=new Map,this.detailSelection=new Map,this.masterSelectsDetail=!1}postConstruct(){super.postConstruct();const{gos:e}=this;this.mode=Hd(e),this.groupSelectsDescendants=tu(e),this.groupSelectsFiltered=Vd(e)==="filteredDescendants",this.masterSelectsDetail=kS(e)==="detail",this.addManagedPropertyListeners(["groupSelectsChildren","groupSelectsFiltered","rowSelection"],()=>{const t=tu(e),n=Hd(e),r=Vd(e)==="filteredDescendants";this.masterSelectsDetail=kS(e)==="detail",(t!==this.groupSelectsDescendants||r!==this.groupSelectsFiltered||n!==this.mode)&&(this.deselectAllRowNodes({source:"api"}),this.groupSelectsDescendants=t,this.groupSelectsFiltered=r,this.mode=n)}),this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)})}destroy(){super.destroy(),this.resetNodes()}handleSelectionEvent(e,t,n){if(this.isRowSelectionBlocked(t))return 0;const r=this.inferNodeSelections(t,e.shiftKey,e.metaKey||e.ctrlKey,n);return r==null?0:(this.selectionCtx.selectAll=!1,"select"in r?(r.reset?this.resetNodes():this.selectRange(r.deselect,!1,n),this.selectRange(r.select,!0,n)):this.setNodesSelected({nodes:[r.node],newValue:r.newValue,clearSelection:r.clearSelection,event:e,source:n}))}setNodesSelected({newValue:e,clearSelection:t,suppressFinishActions:n,nodes:r,event:i,source:s}){var l;if(!Xs(this.gos)&&e)return he(132),0;if(r.length===0)return 0;if(r.length>1&&!this.isMultiSelect())return he(130),0;let o=0;for(let c=0;c<r.length;c++){const d=r[c],f=ed(d),p=this.groupSelectsFiltered&&f.group;if(f.rowPinned){he(59);continue}if(f.id===void 0){he(60);continue}p||this.selectRowNode(f,e,i,s)&&(this.detailSelection.delete(f.id),o++),this.groupSelectsDescendants&&((l=f.childrenAfterGroup)!=null&&l.length)&&(o+=this.selectChildren(f,e,s))}return n||(e&&(t||!this.isMultiSelect())&&(o+=this.clearOtherNodes(ed(r[0]),s)),o>0&&(this.updateGroupsFromChildrenSelections(s),this.dispatchSelectionChanged(s))),o}selectRange(e,t,n){let r=0;return e.forEach(i=>{if(i.group&&this.groupSelectsDescendants)return;this.selectRowNode(i,t,void 0,n)&&r++}),r>0&&(this.updateGroupsFromChildrenSelections(n),this.dispatchSelectionChanged(n)),r}selectChildren(e,t,n){const r=this.groupSelectsFiltered?e.childrenAfterAggFilter:e.childrenAfterGroup;return r?this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,source:n,nodes:r}):0}getSelectedNodes(){return Array.from(this.selectedNodes.values())}getSelectedRows(){const e=[];return this.selectedNodes.forEach(t=>e.push(t.data)),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach((n,r)=>{e(n)&&t.set(r,n)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsDescendants)return!1;const{gos:n,rowModel:r}=this.beans;if(!un(n))return!1;const i=r.rootNode;if(!i)return!1;t||(t=new Xd(!0,i),t.active=!1);let s=!1;return t.forEachChangedNodeDepthFirst(o=>{if(o!==i){const l=this.calculateSelectedFromChildren(o);s=this.selectRowNode(o,l===null?!1:l,void 0,e)||s}}),s}clearOtherNodes(e,t){const n=new Map;let r=0;return this.selectedNodes.forEach(i=>{if(i&&i.id!==e.id){const s=this.selectedNodes.get(i.id);r+=this.setNodesSelected({nodes:[s],newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:t}),this.groupSelectsDescendants&&i.parent&&n.set(i.parent.id,i.parent)}}),n.forEach(i=>{const s=this.calculateSelectedFromChildren(i);this.selectRowNode(i,s===null?!1:s,void 0,t)}),r}onRowSelected(e){const t=e.node;this.groupSelectsDescendants&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}createDaemonNode(e){if(!e.id)return;const t=new va(this.beans);return t.id=e.id,t.data=e.data,t.__daemon=!0,t.__selected=e.__selected,t.level=e.level,t}syncInOldRowNode(e,t){t&&e.id!==t.id&&this.selectedNodes.get(t.id)==e&&this.selectedNodes.set(t.id,t)}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.__selected=!0,this.selectedNodes.set(e.id,e)):e.__selected=!1}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes.forEach(e=>{this.selectRowNode(e,!1)}),this.selectedNodes.clear()}getBestCostNodeSelection(){const{gos:e,rowModel:t}=this.beans;if(!un(e))return;const n=t.getTopLevelNodes();if(n===null)return;const r=[];function i(s){for(let o=0,l=s.length;o<l;o++){const c=s[o];c.isSelected()?r.push(c):c.group&&c.childrenAfterGroup&&i(c.childrenAfterGroup)}}return i(n),r}isEmpty(){return this.getSelectionCount()===0}deselectAllRowNodes({source:e,selectAll:t}){const n=un(this.gos);let r=!1;const i=s=>{const o=this.selectRowNode(ed(s),!1,void 0,e);r||(r=o)};if(t==="currentPage"||t==="filtered"){if(!n){ut(102);return}this.getNodesToSelect(t).forEach(i)}else this.selectedNodes.forEach(i),this.reset(e);if(this.selectionCtx.selectAll=!1,n&&this.groupSelectsDescendants){const s=this.updateGroupsFromChildrenSelections(e);r||(r=s)}r&&this.dispatchSelectionChanged(e)}getSelectedCounts(e){let t=0,n=0;return this.getNodesToSelect(e).forEach(r=>{this.groupSelectsDescendants&&r.group||(r.isSelected()?t++:r.selectable&&n++)}),{selectedCount:t,notSelectedCount:n}}getSelectAllState(e){const{selectedCount:t,notSelectedCount:n}=this.getSelectedCounts(e);return MF(t,n)??null}hasNodesToSelect(e){return this.getNodesToSelect(e).filter(t=>t.selectable).length>0}getNodesToSelect(e){if(!this.canSelectAll())return[];const t=[];if(e==="currentPage")return this.forEachNodeOnPage(r=>{if(!r.group){t.push(r);return}if(!r.expanded&&!r.footer){const i=s=>{var o;t.push(s),(o=s.childrenAfterFilter)!=null&&o.length&&s.childrenAfterFilter.forEach(i)};i(r);return}this.groupSelectsDescendants||t.push(r)}),t;const n=this.beans.rowModel;return e==="filtered"?(n.forEachNodeAfterFilter(r=>{t.push(r)}),t):(n.forEachNode(r=>{t.push(r)}),t)}forEachNodeOnPage(e){const{pageBounds:t,rowModel:n}=this.beans,r=t.getFirstRow(),i=t.getLastRow();for(let s=r;s<=i;s++){const o=n.getRow(s);o&&e(o)}}selectAllRowNodes(e){const{gos:t,selectionCtx:n}=this;if(!Xs(t)){he(132);return}if(OO(t)&&!Gd(t)){he(130);return}if(!this.canSelectAll())return;const{source:r,selectAll:i}=e;let s=!1;if(this.getNodesToSelect(i).forEach(o=>{const l=this.selectRowNode(ed(o),!0,void 0,r);s||(s=l)}),n.selectAll=!0,un(t)&&this.groupSelectsDescendants){const o=this.updateGroupsFromChildrenSelections(r);s||(s=o)}s&&this.dispatchSelectionChanged(r)}getSelectionState(){const e=[];return this.selectedNodes.forEach(t=>{t!=null&&t.id&&e.push(t.id)}),e.length?e:null}setSelectionState(e,t){if(!Array.isArray(e)){ut(103);return}const n=new Set(e),r=[];this.beans.rowModel.forEachNode(i=>{n.has(i.id)&&r.push(i)}),this.setNodesSelected({newValue:!0,nodes:r,source:t})}canSelectAll(){const{gos:e,rowModel:t}=this.beans;return un(e)?!0:(ut(100,{rowModelType:t.getType()}),!1)}updateSelectable(e){var c;const{gos:t,rowModel:n}=this.beans;if(!Xs(t))return;const r="selectableChanged",i=e!==void 0,s=un(t)&&this.groupSelectsDescendants,o=[],l=d=>{var p;if(i&&!d.group)return;if(s&&d.group){const m=((p=d.childrenAfterGroup)==null?void 0:p.some(C=>C.selectable))??!1;this.setRowSelectable(d,m,!0);return}!this.updateRowSelectable(d,!0)&&d.isSelected()&&o.push(d)};if(s){if(e===void 0){const d=n.rootNode;e=d?new Xd(!1,d):void 0}e==null||e.forEachChangedNodeDepthFirst(l,!i,!i)}else n.forEachNode(l);o.length&&this.setNodesSelected({nodes:o,newValue:!1,source:r}),!i&&s&&((c=this.updateGroupsFromChildrenSelections)==null||c.call(this,r))}updateSelectableAfterGrouping(e){var t;this.updateSelectable(e),this.groupSelectsDescendants&&((t=this.updateGroupsFromChildrenSelections)!=null&&t.call(this,"rowGroupChanged",e))&&this.dispatchSelectionChanged("rowGroupChanged")}refreshMasterNodeState(e,t){var s,o;if(!this.masterSelectsDetail)return;const n=(o=(s=e.detailNode)==null?void 0:s.detailGridInfo)==null?void 0:o.api;if(!n)return;const r=yj(n);if(e.isSelected()!==r&&this.selectRowNode(e,r,t,"masterDetail")&&this.dispatchSelectionChanged("masterDetail"),!r){const l=this.detailSelection.get(e.id)??new Set;for(const c of n.getSelectedNodes())l.add(c.id);this.detailSelection.set(e.id,l)}}setDetailSelectionState(e,t,n){if(this.masterSelectsDetail){if(!Gd(t)){he(269);return}switch(e.isSelected()){case!0:{n.selectAll();break}case!1:{n.deselectAll();break}case void 0:{const r=this.detailSelection.get(e.id);if(r){const i=[];for(const s of r){const o=n.getRowNode(s);o&&i.push(o)}n.setNodesSelected({nodes:i,newValue:!0,source:"masterDetail"})}break}}}}};function ed(e){return e.footer?e.sibling:e}function yj(e){let t=0,n=0;return e.forEachNode(r=>{r.isSelected()?t++:r.selectable&&n++}),MF(t,n)}function MF(e,t){if(e===0&&t===0)return!1;if(!(e>0&&t>0))return e>0}var Sj={moduleName:"SharedRowSelection",version:ve,beans:[uj],apiFunctions:{setNodesSelected:cj,selectAll:dj,deselectAll:hj,selectAllFiltered:fj,deselectAllFiltered:pj,selectAllOnCurrentPage:gj,deselectAllOnCurrentPage:mj,getSelectedNodes:Cj,getSelectedRows:vj}},bj={moduleName:"RowSelection",version:ve,rowModels:["clientSide","infinite","viewport"],beans:[wj],dependsOn:[Sj]};function Rj(e){var t;(t=e.expansionSvc)==null||t.expandAll(!0)}function xj(e){var t;(t=e.expansionSvc)==null||t.expandAll(!1)}function Ej(e){const t=ni(e),n=sF(e);t?t.onRowHeightChanged():n&&n.onRowHeightChanged()}function Fj(e,t,n){var s;const r=sF(e);if(r){if(((s=e.rowGroupColsSvc)==null?void 0:s.columns.length)===0){if(t<0){ut(238);return}r.setRowCount(t,n);return}ut(28);return}const i=xh(e);if(i){i.setRowCount(t,n);return}}function Pj(e){var t;return mo(e.gos)?e.rowModel.getBlockStates():((t=e.rowNodeBlockLoader)==null?void 0:t.getBlockState())??{}}function Dj(e){return e.rowModel.isLastRowIndexKnown()}var Tj={moduleName:"CsrmSsrmSharedApi",version:ve,apiFunctions:{expandAll:Rj,collapseAll:xj,onRowHeightChanged:Ej}},Aj={moduleName:"SsrmInfiniteSharedApi",version:ve,apiFunctions:{setRowCount:Fj,getCacheBlockState:Pj,isLastRowIndexKnown:Dj}},Mj=class extends te{constructor(){super(...arguments),this.beanName="alignedGridsSvc",this.consuming=!1}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[];const t=typeof e=="function";return typeof e=="function"&&(e=e()),e.map(r=>{var s;if(!r){ut(18),t||ut(20);return}if(this.isGridApi(r))return r;const i=r;return"current"in i?(s=i.current)==null?void 0:s.api:(i.api||ut(19),i.api)}).filter(r=>!!r&&!r.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{t.isDestroyed()||t.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.beans.ctrlsSvc.getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){const n=[];return e.columns?e.columns.forEach(r=>{n.push(t(r))}):e.column&&n.push(t(e.column)),n}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":he(21);break}})}processGroupOpenedEvent(e){const{colGroupSvc:t}=this.beans;t&&e.columnGroups.forEach(n=>{let r=null;n&&(r=t.getProvidedColGroup(n.getGroupId())),!(n&&!r)&&t.setColumnGroupOpened(r,n.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){var f;const t=e.column;let n=null;const r=this.beans,{colResize:i,ctrlsSvc:s,colModel:o}=r;if(t&&(n=o.getColDefCol(t.getColId())),t&&!n)return;const l=this.getMasterColumns(e);switch(e.type){case"columnMoved":{const m=e.api.getColumnState().map(C=>({colId:C.colId}));or(r,{state:m,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const m=e.api.getColumnState().map(C=>({colId:C.colId,hide:C.hide}));or(r,{state:m},"alignedGridChanged")}break;case"columnPinned":{const m=e.api.getColumnState().map(C=>({colId:C.colId,pinned:C.pinned}));or(r,{state:m},"alignedGridChanged")}break;case"columnResized":{const p=e,m={};l.forEach(C=>{m[C.getId()]={key:C.getColId(),newWidth:C.getActualWidth()}}),(f=p.flexColumns)==null||f.forEach(C=>{m[C.getId()]&&delete m[C.getId()]}),i==null||i.setColumnWidths(Object.values(m),!1,p.finished,"alignedGridChanged");break}}const d=s.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(p=>{p.setGridOption("alwaysShowVerticalScroll",d)})}},kj={moduleName:"AlignedGrids",version:ve,beans:[Mj]},Ij=class extends nH{constructor(){super(...arguments),this.beanName="csrmNodeSvc"}},xg=class{constructor(){this.removals=new Set,this.updates=new Set,this.adds=new Set}remove(e){this.adds.delete(e)||(this.updates.delete(e),this.removals.add(e))}update(e){this.adds.has(e)||this.updates.add(e)}add(e){this.adds.add(e)}};function Oj(e){if(Ft(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let n=0;n<t.length;n++){const r=t[n],i=n===0,s=n===e.childrenAfterSort.length-1;r.setFirstChild(i),r.lastChild!==s&&(r.lastChild=s,r.dispatchRowEvent("lastChildChanged")),r.childIndex!==n&&(r.childIndex=n,r.dispatchRowEvent("childIndexChanged"))}}function kF(e){e.sibling&&(e.sibling.childrenAfterSort=e.childrenAfterSort),Oj(e)}var Lj=class extends te{constructor(){super(...arguments),this.beanName="sortStage",this.refreshProps=new Set(["postSortRows","groupDisplayType","accentedSort"]),this.step="sort"}execute(e){const t=this.beans,n=t.sortSvc.getSortOptions(),r=Ce(n)&&n.length>0,i=r&&!!e.changedRowNodes&&this.gos.get("deltaSort"),s=n.some(({column:o})=>qr(t.gos)?o.isPrimary()&&o.isRowGroupActive():!!o.getColDef().showRowGroup);this.sort(t,n,r,i,e.changedRowNodes,e.changedPath,s)}sort(e,t,n,r,i,s,o){const{gos:l,colModel:c,rowGroupColsSvc:d,groupHideOpenParentsSvc:f,rowNodeSorter:p}=e,m=l.get("groupMaintainOrder"),C=c.getCols().some(x=>x.isRowGroupActive()),y=c.isPivotMode(),b=l.getCallback("postSortRows"),R=x=>{var A;f==null||f.pullDownGroupDataForHideOpenParents(x.childrenAfterAggFilter,!0);const E=y&&x.leafGroup,P=m&&C&&!x.leafGroup&&!o;let D;if(P){const O=(A=d==null?void 0:d.columns)==null?void 0:A[x.level+1],T=(O==null?void 0:O.getSort())===null,G=x.childrenAfterAggFilter.slice(0);if(x.childrenAfterSort&&!T){const $={};x.childrenAfterSort.forEach((U,J)=>{$[U.id]=J}),G.sort((U,J)=>($[U.id]??0)-($[J.id]??0))}D=G}else!n||E?D=x.childrenAfterAggFilter.slice(0):r&&i?D=Nj(p,x,i,s,t):D=p.doFullSort(x.childrenAfterAggFilter,t);if(x.childrenAfterSort=D,kF(x),b){const O={nodes:x.childrenAfterSort};b(O)}};s==null||s.forEachChangedNodeDepthFirst(R)}};function Nj(e,t,n,r,i){const s=t.childrenAfterAggFilter,o=t.childrenAfterSort;if(!o)return e.doFullSort(s,i);const l=new Set,c=[],{updates:d,adds:f}=n;for(let m=0,C=s.length;m<C;++m){const y=s[m];d.has(y)||f.has(y)||r&&!r.canSkip(y)?c.push({currentPos:c.length,rowNode:y}):l.add(y.id)}const p=o.filter(m=>l.has(m.id)).map((m,C)=>({currentPos:C,rowNode:m}));return c.sort((m,C)=>e.compareRowNodes(i,m,C)),Bj(e,i,c,p)}function Bj(e,t,n,r){const i=[];let s=0,o=0;const l=n.length,c=r.length;for(;s<l&&o<c;){const d=n[s],f=r[o],p=e.compareRowNodes(t,d,f);let m;p<0?(m=d,++s):(m=f,++o),i.push(m.rowNode)}for(;s<l;)i.push(n[s++].rowNode);for(;o<c;)i.push(r[o++].rowNode);return i}var Hj=class extends te{constructor(){super(...arguments),this.beanName="rowModel",this.rootNode=null,this.rowsToDisplay=[],this.started=!1,this.isRefreshingModel=!1,this.rowNodesCountReady=!1,this.rowCountReady=!1,this.onRowHeightChanged_debounced=en(this,this.onRowHeightChanged.bind(this),100)}wireBeans(e){this.colModel=e.colModel,this.valueCache=e.valueCache,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggStage=e.aggStage,this.pivotStage=e.pivotStage,this.filterAggStage=e.filterAggStage}postConstruct(){this.orderedStages=[this.groupStage,this.filterStage,this.pivotStage,this.aggStage,this.sortStage,this.filterAggStage,this.flattenStage].filter(r=>!!r);const e=this.refreshModel.bind(this,{step:"group"}),t=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame")});this.addManagedEventListeners({newColumnsLoaded:t,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new va(this.beans);const n=this.getNewNodeManager();this.nodeManager=n,n.activate(this.rootNode)}getNewNodeManager(){const{gos:e,beans:t}=this;let n;return e.get("treeData")&&(e.get("treeDataChildrenField")?n=t.csrmChildrenTreeNodeSvc:n=t.csrmPathTreeNodeSvc),n??t.csrmNodeSvc}addPropertyListeners(){const e=["treeData","treeDataChildrenField",...this.orderedStages.flatMap(({refreshProps:t})=>[...t])];this.addManagedPropertyListeners(e,t=>{var r;const n=(r=t.changeSet)==null?void 0:r.properties;n&&this.onPropChange(n)}),this.addManagedPropertyListener("rowData",()=>this.onPropChange(["rowData"])),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.started=!0,this.rowNodesCountReady?this.refreshModel({step:"group",rowDataUpdated:!0,newData:!0}):this.setInitialData()}setInitialData(){this.gos.get("rowData")&&this.onPropChange(["rowData"])}ensureRowHeightsValid(e,t,n,r){let i,s=!1;do{i=!1;const o=this.getRowIndexAtPixel(e),l=this.getRowIndexAtPixel(t),c=Math.max(o,n),d=Math.min(l,r);for(let f=c;f<=d;f++){const p=this.getRow(f);if(p.rowHeightEstimated){const m=fa(this.beans,p);p.setRowHeight(m.height),i=!0,s=!0}}i&&this.setRowTopAndRowIndex()}while(i);return s}onPropChange(e){var f;if(!this.rootNode)return;const t=this.gos,n=new Set(e),r={step:"nothing",changedProps:n},i=n.has("rowData"),s=n.has("treeData"),o=this.nodeManager,l=this.getNewNodeManager(),c=o!==l||n.has("treeDataChildrenField")&&t.get("treeData");let d;if(s&&(r.step="group"),(c||i)&&(d=t.get("rowData"),d!=null&&!Array.isArray(d)&&(d=null,he(1))),c&&(i||(d=(o==null?void 0:o.extractRowData())??d),o!==l&&(o==null||o.deactivate(),this.nodeManager=l),l.activate(this.rootNode)),d&&(!c&&!this.isEmpty()&&d.length>0&&t.exists("getRowId")&&!t.get("resetRowDataOnUpdate")?(r.keepRenderedRows=!0,r.animate=!this.gos.get("suppressAnimationFrame"),r.changedRowNodes=new xg,l.setImmutableRowData(r,d)):(r.rowDataUpdated=!0,r.newData=!0,(f=this.beans.selectionSvc)==null||f.reset("rowDataChanged"),this.rowNodesCountReady=!0,l.setNewRowData(d))),r.rowDataUpdated)r.step="group";else if(r.step==="nothing"){for(const{refreshProps:p,step:m}of this.orderedStages)if(e.some(C=>p.has(C))){r.step=m;break}}r.step!=="nothing"&&this.refreshModel(r)}setRowTopAndRowIndex(){const{beans:e}=this,t=e.environment.getDefaultRowHeight();let n=0;const r=new Set,i=tn(this.gos,"normal"),s=this.rowsToDisplay;for(let o=0,l=s.length;o<l;++o){const c=s[o];if(c.id!=null&&r.add(c.id),c.rowHeight==null){const d=fa(e,c,i,t);c.setRowHeight(d.height,d.estimated)}c.setRowTop(n),c.setRowIndex(o),n+=c.rowHeight}return r}clearRowTopAndRowIndex(e,t){const n=e.active,r=s=>{s&&s.id!=null&&!t.has(s.id)&&s.clearRowTopAndRowIndex()},i=s=>{if(s!==null&&(r(s),r(s.detailNode),r(s.sibling),s.hasChildren()&&s.childrenAfterGroup)){const o=s.level==-1;n&&!o&&!s.expanded||s.childrenAfterGroup.forEach(i)}};i(this.rootNode)}ensureRowsAtPixel(e,t,n=0){var l;const r=this.getRowIndexAtPixel(t),i=this.getRow(r),s=!this.gos.get("suppressAnimationFrame");if(i===e[0])return!1;const o=(l=this.rootNode)==null?void 0:l.allLeafChildren;return o?(e.forEach(c=>{Pr(o,c)}),e.forEach((c,d)=>{o.splice(Math.max(r+n,0)+d,0,c)}),e.forEach((c,d)=>{c.sourceRowIndex=d}),this.refreshModel({step:"group",keepRenderedRows:!0,animate:s,rowNodesOrderChanged:!0}),!0):!1}highlightRowAtPixel(e,t){const n=t!=null?this.getRowIndexAtPixel(t):null,r=n!=null?this.getRow(n):null;if(!r||!e||t==null){this.clearHighlightedRow();return}const i=this.getHighlightPosition(t,r),s=this.isHighlightingCurrentPosition(e,r,i),o=this.lastHighlightedRow!=null&&this.lastHighlightedRow!==r;(s||o)&&(this.clearHighlightedRow(),s)||(this.setRowNodeHighlighted(r,i),this.lastHighlightedRow=r)}setRowNodeHighlighted(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchRowEvent("rowHighlightChanged"))}getHighlightPosition(e,t){if(!t){const i=this.getRowIndexAtPixel(e);if(t=this.getRow(i||0),!t)return"Below"}const{rowTop:n,rowHeight:r}=t;return e-n<r/2?"Above":"Below"}getLastHighlightedRowNode(){return this.lastHighlightedRow}isHighlightingCurrentPosition(e,t,n){if(e===t)return!0;const r=n==="Above"?-1:1;return this.getRow(t.rowIndex+r)===e}clearHighlightedRow(){this.lastHighlightedRow&&(this.setRowNodeHighlighted(this.lastHighlightedRow,null),this.lastHighlightedRow=null)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){const e=this.rootNode;if(!e||this.rowsToDisplay.length===0)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===e)return 1;const n=e.childrenAfterAggFilter,r=e.sibling?1:0;return(n?n.length:0)+r}getTopLevelRowDisplayedIndex(e){const{rootNode:t,rowsToDisplay:n}=this;if(!t||!n.length||n[0]===t)return e;const{childrenAfterSort:i}=t,s=l=>{let c=i[l];if(this.gos.get("groupHideOpenParents"))for(;c.expanded&&c.childrenAfterSort&&c.childrenAfterSort.length>0;)c=c.childrenAfterSort[0];return c.rowIndex},{footerSvc:o}=this.beans;return o?o.getTopDisplayIndex(n,e,i,s):s(e)}getRowBounds(e){const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=na(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=na(this.gos),r=e.columns.length===0||e.columns.some(i=>i.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:r,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=na(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e})}getType(){return"clientSide"}onValueChanged(){this.refreshModel({step:this.colModel.isPivotActive()?"pivot":"aggregate"})}createChangePath(e){const t=new Xd(!1,this.rootNode);return e||(t.active=!1),t}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction"))return!1;const{changedRowNodes:t,newData:n,rowDataUpdated:r}=e;return!(!t||n||!r||t.removals.size||t.adds.size)}refreshModel(e){var r,i;if(!this.rootNode)return;const t=e.changedPath??(e.changedPath=this.createChangePath(!e.newData&&!!e.rowDataUpdated));if((i=(r=this.nodeManager).refreshModel)==null||i.call(r,e,this.started),this.eventSvc.dispatchEvent({type:"beforeRefreshModel",params:e}),!this.started||(e.rowDataUpdated&&this.eventSvc.dispatchEvent({type:"rowDataUpdated"}),this.isRefreshingModel||this.colModel.changeEventsDispatching||this.isSuppressModelUpdateAfterUpdateTransaction(e)))return;switch(this.isRefreshingModel=!0,e.step){case"group":this.doRowGrouping(e.changedRowNodes,t,!!e.rowNodesOrderChanged,!!e.afterColumnsChanged);case"filter":this.doFilter(t);case"pivot":this.doPivot(t);case"aggregate":this.doAggregate(t);case"filter_aggregates":this.doFilterAggregates(t);case"sort":this.doSort(e.changedRowNodes,t);case"map":this.doRowsToDisplay()}const n=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(t,n),this.isRefreshingModel=!1,this.eventSvc.dispatchEvent({type:"modelUpdated",animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack})}isEmpty(){var e,t,n;return!((t=(e=this.rootNode)==null?void 0:e.allLeafChildren)!=null&&t.length)||!((n=this.colModel)!=null&&n.ready)}isRowsToRender(){return this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let n=!1,r=!1;const i=[],s=tu(this.gos);return this.forEachNodeAfterFilterAndSort(o=>{if(r)return;if(n&&(o===t||o===e)&&(r=!0,o.group&&s)){i.push(...o.allLeafChildren);return}if(!n){if(o!==t&&o!==e)return;n=!0}if(!o.group||!s){i.push(o);return}}),i}getTopLevelNodes(){var e;return((e=this.rootNode)==null?void 0:e.childrenAfterGroup)??null}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){const t=this.rowsToDisplay;if(this.isEmpty()||t.length===0)return-1;let n=0,r=t.length-1;if(e<=0)return 0;if(lt(t).rowTop<=e)return t.length-1;let s=-1,o=-1;for(;;){const l=Math.floor((n+r)/2),c=t[l];if(this.isRowInPixel(c,e)||(c.rowTop<e?n=l+1:c.rowTop>e&&(r=l-1),s===n&&o===r))return l;s=n,o=r}}isRowInPixel(e,t){const n=e.rowTop,r=e.rowTop+e.rowHeight;return n<=t&&r>t}forEachLeafNode(e){var t,n;(n=(t=this.rootNode)==null?void 0:t.allLeafChildren)==null||n.forEach((r,i)=>e(r,i))}forEachNode(e,t=!1){this.depthFirstSearchRowNodes(e,t)}forEachDisplayedNode(e){this.rowsToDisplay.forEach(e)}forEachNodeAfterFilter(e,t=!1){this.depthFirstSearchRowNodes(e,t,n=>n.childrenAfterAggFilter)}forEachNodeAfterFilterAndSort(e,t=!1){this.depthFirstSearchRowNodes(e,t,n=>n.childrenAfterSort)}forEachPivotNode(e,t=!1,n=!1){const r=n?"childrenAfterSort":"childrenAfterGroup";this.depthFirstSearchRowNodes(e,t,i=>i.leafGroup?null:i[r])}depthFirstSearchRowNodes(e,t=!1,n=s=>s.childrenAfterGroup,r=this.rootNode,i=0){let s=i;if(!r)return s;const o=r===this.rootNode;o||e(r,s++);const{footerSvc:l}=this.beans;if(r.hasChildren()&&!r.footer){const c=n(r);if(c){s=(l==null?void 0:l.addTotalRows(s,r,e,t,o,"top"))??s;for(const d of c)s=this.depthFirstSearchRowNodes(e,t,n,d,s);return(l==null?void 0:l.addTotalRows(s,r,e,t,o,"bottom"))??s}}return s}doAggregate(e){var n;const t=this.rootNode;t&&((n=this.aggStage)==null||n.execute({rowNode:t,changedPath:e}))}doFilterAggregates(e){const t=this.rootNode;this.filterAggStage?this.filterAggStage.execute({rowNode:t,changedPath:e}):t.childrenAfterAggFilter=t.childrenAfterFilter}doSort(e,t){const{groupHideOpenParentsSvc:n}=this.beans;this.sortStage?this.sortStage.execute({rowNode:this.rootNode,changedRowNodes:e,changedPath:t}):t.forEachChangedNodeDepthFirst(r=>{n==null||n.pullDownGroupDataForHideOpenParents(r.childrenAfterAggFilter,!0),r.childrenAfterSort=r.childrenAfterAggFilter.slice(0),kF(r)}),n==null||n.updateGroupDataForHideOpenParents(t)}doRowGrouping(e,t,n,r){const i=this.nodeManager.treeData,s=this.rootNode;if(!i){const o=this.groupStage;if(o)o.execute({rowNode:s,changedPath:t,changedRowNodes:e,rowNodesOrderChanged:n,afterColumnsChanged:r});else{const l=s.sibling;s.childrenAfterGroup=s.allLeafChildren,l&&(l.childrenAfterGroup=s.childrenAfterGroup),s.updateHasChildren()}}this.rowNodesCountReady&&(this.rowCountReady=!0,this.eventSvc.dispatchEventOnce({type:"rowCountReady"}))}doFilter(e){this.filterStage?this.filterStage.execute({rowNode:this.rootNode,changedPath:e}):e.forEachChangedNodeDepthFirst(t=>{t.childrenAfterFilter=t.childrenAfterGroup,dF(t)},!0)}doPivot(e){var t;(t=this.pivotStage)==null||t.execute({rowNode:this.rootNode,changedPath:e})}getRowNode(e){if(typeof e=="string"&&e.indexOf(lm)==0){let n;return this.forEachNode(r=>{r.id===e&&(n=r)}),n}return this.nodeManager.getRowNode(e)}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];const n=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},n)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){var i,s;(i=this.valueCache)==null||i.onDataChanged();const e=[],t=[],n=new xg;let r=!1;(s=this.rowDataTransactionBatch)==null||s.forEach(o=>{this.rowNodesCountReady=!0;const{rowNodeTransaction:l,rowsInserted:c}=this.nodeManager.updateRowData(o.rowDataTransaction,n);c&&(r=!0),t.push(l),o.callback&&e.push(o.callback.bind(null,l))}),this.commitTransactions(r,n),e.length>0&&window.setTimeout(()=>{e.forEach(o=>o())},0),t.length>0&&this.eventSvc.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){var i;(i=this.valueCache)==null||i.onDataChanged(),this.rowNodesCountReady=!0;const t=new xg,{rowNodeTransaction:n,rowsInserted:r}=this.nodeManager.updateRowData(e,t);return this.commitTransactions(r,t),n}commitTransactions(e,t){this.refreshModel({step:"group",rowDataUpdated:!0,rowNodesOrderChanged:e,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedRowNodes:t,changedPath:this.createChangePath(!0)})}doRowsToDisplay(){const{flattenStage:e,rootNode:t}=this;let n;if(e)n=e.execute({rowNode:t});else{n=(t==null?void 0:t.childrenAfterSort)??[];for(const r of n)r.setUiLevel(0)}this.rowsToDisplay=n}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepUndoRedoStack:!0})}resetRowHeights(){const e=this.rootNode;if(!e)return;const t=this.resetRowHeightsForAllRowNodes();e.setRowHeight(e.rowHeight,!0),e.sibling&&e.sibling.setRowHeight(e.sibling.rowHeight,!0),t&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const n=t.detailNode;n&&n.setRowHeight(n.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){var t;if(e.rowHeightChanged){if((t=this.beans.rowAutoHeight)!=null&&t.active)return;this.resetRowHeights()}}onGridReady(){this.started||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy(),this.clearHighlightedRow(),this.started=!1,this.rootNode=null,this.nodeManager=null,this.rowDataTransactionBatch=null,this.lastHighlightedRow=null,this.orderedStages=OS,this.rowsToDisplay=OS}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}};function Gj(e){var t;(t=e.expansionSvc)==null||t.onGroupExpandedOrCollapsed()}function Vj(e,t){const n=ni(e);n&&((!t||t==="everything")&&(t="group"),n.refreshModel({step:t,keepRenderedRows:!0,animate:!e.gos.get("suppressAnimationFrame")}))}function Wj(e){var t;return((t=ni(e))==null?void 0:t.isEmpty())??!0}function _j(e,t){var n;(n=ni(e))==null||n.forEachLeafNode(t)}function zj(e,t){var n;(n=ni(e))==null||n.forEachNodeAfterFilter(t)}function jj(e,t){var n;(n=ni(e))==null||n.forEachNodeAfterFilterAndSort(t)}function Uj(e){var t,n;if((t=e.rowAutoHeight)!=null&&t.active){he(3);return}(n=ni(e))==null||n.resetRowHeights()}function $j(e,t){return e.frameworkOverrides.wrapIncoming(()=>{var n;return(n=ni(e))==null?void 0:n.updateRowData(t)})}function Kj(e,t,n){e.frameworkOverrides.wrapIncoming(()=>{var r;return(r=ni(e))==null?void 0:r.batchUpdateRowData(t,n)})}function qj(e){e.frameworkOverrides.wrapIncoming(()=>{var t;return(t=ni(e))==null?void 0:t.flushAsyncTransactions()})}function Yj(e){var t;return(t=e.selectionSvc)==null?void 0:t.getBestCostNodeSelection()}var Qj={moduleName:"ClientSideRowModel",version:ve,rowModels:["clientSide"],beans:[Ij,Hj,Lj],dependsOn:[iF]},Jj={moduleName:"ClientSideRowModelApi",version:ve,apiFunctions:{onGroupExpandedOrCollapsed:Gj,refreshClientSideRowModel:Vj,isRowDataEmpty:Wj,forEachLeafNode:_j,forEachNodeAfterFilter:zj,forEachNodeAfterFilterAndSort:jj,resetRowHeights:Uj,applyTransaction:$j,applyTransactionAsync:Kj,flushAsyncTransactions:qj,getBestCostNodeSelection:Yj},dependsOn:[Tj]},Xj=class extends te{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel}serialize(e,t={}){const{allColumns:n,columnKeys:r,skipRowGroups:i,exportRowNumbers:s}=t,o=this.getColumnsToExport({allColumns:n,skipRowGroups:i,columnKeys:r,exportRowNumbers:s});return[this.prepareSession(o),this.prependContent(t),this.exportColumnGroups(t,o),this.exportHeaders(t,o),this.processPinnedTopRows(t,o),this.processRows(t,o),this.processPinnedBottomRows(t,o),this.appendContent(t)].reduce((l,c)=>c(l),e).parse()}processRow(e,t,n,r){var y;const i=t.shouldRowBeSkipped||(()=>!1),o=t.rowPositions!=null||!!t.onlySelected,l=this.gos.get("groupHideOpenParents")&&!o,c=this.colModel.isPivotMode()?r.leafGroup:!r.group,d=!!r.footer,f=r.allChildrenCount===1&&((y=r.childrenAfterGroup)==null?void 0:y.length)===1&&kO(this.gos,r);if(!c&&!d&&(t.skipRowGroups||f||l)||t.onlySelected&&!r.isSelected()||t.skipPinnedTop&&r.rowPinned==="top"||t.skipPinnedBottom&&r.rowPinned==="bottom"||r.level===-1&&!c&&!d||i(Le(this.gos,{node:r})))return;const C=e.onNewBodyRow(r);if(n.forEach((b,R)=>{C.onColumn(b,R,r)}),t.getCustomContentBelowRow){const b=t.getCustomContentBelowRow(Le(this.gos,{node:r}));b&&e.addCustomContent(b)}}appendContent(e){return t=>{const n=e.appendContent;return n&&t.addCustomContent(n),t}}prependContent(e){return t=>{const n=e.prependContent;return n&&t.addCustomContent(n),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return n=>{if(!e.skipColumnGroupHeaders){const r=new r0,{colGroupSvc:i}=this.beans,s=i?i.createColumnGroups({columns:t,idCreator:r,pinned:null,isStandaloneStructure:!0}):t;this.recursivelyAddHeaderGroups(s,n,e.processGroupHeaderCallback)}return n}}exportHeaders(e,t){return n=>{if(!e.skipColumnHeaders){const r=n.onNewHeaderRow();t.forEach((i,s)=>{r.onColumn(i,s,void 0)})}return n}}processPinnedTopRows(e,t){return n=>{var i;const r=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(s=>s.rowPinned==="top").sort((s,o)=>s.rowIndex-o.rowIndex).map(s=>{var o;return(o=this.pinnedRowModel)==null?void 0:o.getPinnedTopRow(s.rowIndex)}).forEach(r):(i=this.pinnedRowModel)==null||i.forEachPinnedRow("top",r),n}}processRows(e,t){return n=>{var d;const r=this.rowModel,i=un(this.gos),s=mo(this.gos),o=!i&&e.onlySelected,l=this.processRow.bind(this,n,e,t),{exportedRows:c="filteredAndSorted"}=e;if(e.rowPositions)return e.rowPositions.filter(f=>f.rowPinned==null).sort((f,p)=>f.rowIndex-p.rowIndex).map(f=>r.getRow(f.rowIndex)).forEach(l),n;if(this.colModel.isPivotMode())return i?r.forEachPivotNode(l,!0,c==="filteredAndSorted"):s?r.forEachNodeAfterFilterAndSort(l,!0):r.forEachNode(l),n;if(e.onlySelectedAllPages||o){const f=((d=this.beans.selectionSvc)==null?void 0:d.getSelectedNodes())??[];this.replicateSortedOrder(f),f.forEach(l)}else c==="all"?r.forEachNode(l):i||s?r.forEachNodeAfterFilterAndSort(l,!0):r.forEachNode(l);return n}}replicateSortedOrder(e){const{sortSvc:t,rowNodeSorter:n}=this.beans;if(!t||!n)return;const r=t.getSortOptions(),i=(s,o)=>{var l,c;return s.rowIndex!=null&&o.rowIndex!=null?s.rowIndex-o.rowIndex:s.level===o.level?((l=s.parent)==null?void 0:l.id)===((c=o.parent)==null?void 0:c.id)?n.compareRowNodes(r,{rowNode:s,currentPos:s.rowIndex??-1},{rowNode:o,currentPos:o.rowIndex??-1}):i(s.parent,o.parent):s.level>o.level?i(s.parent,o):i(s,o.parent)};e.sort(i)}processPinnedBottomRows(e,t){return n=>{var i;const r=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(s=>s.rowPinned==="bottom").sort((s,o)=>s.rowIndex-o.rowIndex).map(s=>{var o;return(o=this.pinnedRowModel)==null?void 0:o.getPinnedBottomRow(s.rowIndex)}).forEach(r):(i=this.pinnedRowModel)==null||i.forEachPinnedRow("bottom",r),n}}getColumnsToExport(e){const{allColumns:t=!1,skipRowGroups:n=!1,exportRowNumbers:r=!1,columnKeys:i}=e,{colModel:s,gos:o,visibleCols:l}=this,c=s.isPivotMode(),d=m=>Ei(m)?!1:!vu(m)||r;if(i&&i.length)return s.getColsForKeys(i).filter(d);const f=o.get("treeData");let p=[];return t&&!c?p=s.getCols():p=l.allCols,p=p.filter(m=>d(m)&&(n&&!f?!pC(m):!0)),p}recursivelyAddHeaderGroups(e,t,n){const r=[];e.forEach(i=>{const s=i;s.getChildren&&s.getChildren().forEach(o=>r.push(o))}),e.length>0&&It(e[0])&&this.doAddHeaderHeader(t,e,n),r&&r.length>0&&this.recursivelyAddHeaderGroups(r,t,n)}doAddHeaderHeader(e,t,n){const r=e.onNewHeaderGroupingRow();let i=0;t.forEach(s=>{const o=s;let l;n?l=n(Le(this.gos,{columnGroup:o})):l=this.beans.colNames.getDisplayNameForColumnGroup(o,"header");const c=o.getLeafColumns().reduce((d,f,p,m)=>{let C=lt(d);return f.getColumnGroupShow()==="open"?(!C||C[1]!=null)&&(C=[p],d.push(C)):C&&C[1]==null&&(C[1]=p-1),p===m.length-1&&C&&C[1]==null&&(C[1]=p),d},[]);r.onColumn(o,l||"",i++,o.getLeafColumns().length-1,c)})}},Zj={moduleName:"SharedExport",version:ve,beans:[Xj]},gb=`\r
`,eU=class extends t_{constructor(e){super(e),this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:n}=e;this.suppressQuotes=t,this.columnSeparator=n}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,gb),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((n,r)=>{r!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(n.data.value||""),n.mergeAcross&&this.appendEmptyCells(n.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,n,r){n!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(r)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,n){t!=0&&(this.result+=this.columnSeparator);const r=this.extractRowCellValue(e,t,t,"csv",n);this.result+=this.putInQuotes(r.valueFormatted??r.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(he(53),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=gb),this.isFirstLine=!1}},tU=class extends e_{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.colModel=e.colModel,this.colNames=e.colNames,this.rowGroupColsSvc=e.rowGroupColsSvc,this.valueSvc=e.valueSvc}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){he(51);return}const t=this.getMergedParams(e),n=this.getData(t),r=new Blob(["\uFEFF",n],{type:"text/plain"}),i=typeof t.fileName=="function"?t.fileName(Le(this.gos,{})):t.fileName;n_(this.getFileName(i),r)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){const n=t?Object.assign({},e):this.getMergedParams(e);return this.getData(n)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{colModel:t,colNames:n,rowGroupColsSvc:r,valueSvc:i,gos:s}=this,{processCellCallback:o,processHeaderCallback:l,processGroupHeaderCallback:c,processRowGroupCallback:d,suppressQuotes:f,columnSeparator:p}=e;return new eU({colModel:t,colNames:n,valueSvc:i,gos:s,processCellCallback:o||void 0,processHeaderCallback:l||void 0,processGroupHeaderCallback:c||void 0,processRowGroupCallback:d||void 0,suppressQuotes:f||!1,columnSeparator:p||",",rowGroupColsSvc:r})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function nU(e,t){var n;return(n=e.csvCreator)==null?void 0:n.getDataAsCsv(t)}function rU(e,t){var n;(n=e.csvCreator)==null||n.exportDataAsCsv(t)}var iU={moduleName:"CsvExport",version:ve,beans:[tU],apiFunctions:{getDataAsCsv:nU,exportDataAsCsv:rU},dependsOn:[Zj]},sU=class extends te{constructor(e,t,n){super(),this.id=e,this.parentCache=t,this.params=n,this.state="needsLoading",this.version=0,this.startRow=e*n.blockSize,this.endRow=this.startRow+n.blockSize}load(){this.state="loading",this.loadFromDatasource()}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed"),this.dispatchLocalEvent({type:"loadComplete"})}pageLoaded(e,t,n){this.successCommon(e,{rowData:t,rowCount:n})}isRequestMostRecentAndLive(e){const t=e===this.version,n=this.isAlive();return t&&n}successCommon(e,t){this.dispatchLocalEvent({type:"loadComplete"}),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}postConstruct(){this.rowNodes=[];const{params:{blockSize:e,rowHeight:t},startRow:n,beans:r,rowNodes:i}=this;for(let s=0;s<e;s++){const o=n+s,l=new va(r);l.setRowHeight(t),l.uiLevel=0,l.setRowIndex(o),l.setRowTop(t*o),i.push(l)}}getBlockStateJson(){const{id:e,startRow:t,endRow:n,state:r}=this;return{id:""+e,state:{blockNumber:e,startRow:t,endRow:n,pageStatus:r}}}setDataAndId(e,t,n){Ce(t)?e.setDataAndId(t,n.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();if(Ft(this.params.datasource.getRows)){he(90);return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}createLoadParams(){const{startRow:e,endRow:t,version:n,params:{sortModel:r,filterModel:i},gos:s}=this;return{startRow:e,endRow:t,successCallback:this.pageLoaded.bind(this,n),failCallback:this.pageLoadFailed.bind(this,n),sortModel:r,filterModel:i,context:Le(s,{}).context}}forEachNode(e,t,n){this.rowNodes.forEach((r,i)=>{this.startRow+i<n&&e(r,t.value++)})}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.value++);const n=e-this.startRow;return this.rowNodes[n]}processServerResult(e){const{rowNodes:t,beans:n}=this;t.forEach((i,s)=>{const o=e.rowData?e.rowData[s]:void 0;!i.id&&i.alreadyRendered&&o&&(t[s]=new va(n),t[s].setRowIndex(i.rowIndex),t[s].setRowTop(i.rowTop),t[s].setRowHeight(i.rowHeight),i.clearRowTopAndRowIndex()),this.setDataAndId(t[s],o,this.startRow+s)});const r=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,r)}destroy(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()}),super.destroy()}},oU=2,aU=class extends te{constructor(e){super(),this.params=e,this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount}getRow(e,t=!1){const n=Math.floor(e/this.params.blockSize);let r=this.blocks[n];if(!r){if(t)return;r=this.createBlock(n)}return r.getRow(e)}createBlock(e){const t=this.params,n=this.createBean(new sU(e,this,t));return this.blocks[n.id]=n,this.blockCount++,this.purgeBlocksIfNeeded(n),t.rowNodeBlockLoader.addBlock(n),n}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(t=>t.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e)),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(uo(this.gos,`InfiniteCache - onPageLoaded: page = ${e.id}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const t=this.getBlocksInOrder().filter(o=>o!=e),n=(o,l)=>l.lastAccessed-o.lastAccessed;t.sort(n);const r=this.params.maxBlocksInCache>0,i=r?this.params.maxBlocksInCache-1:null,s=oU-1;t.forEach((o,l)=>{const c=o.state==="needsLoading"&&l>=s,d=r?l>=i:!1;if(c||d){if(this.isBlockCurrentlyDisplayed(o)||this.isBlockFocused(o))return;this.removeBlockFromCache(o)}})}isBlockFocused(e){const t=this.beans.focusSvc.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;const{startRow:n,endRow:r}=e;return t.rowIndex>=n&&t.rowIndex<r}isBlockCurrentlyDisplayed(e){const{startRow:t,endRow:n}=e;return this.beans.rowRenderer.isRangeInRenderedViewport(t,n-1)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if(typeof t=="number"&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const{blockSize:n,overflowSize:r}=this.params,s=(e.id+1)*n+r;this.rowCount<s&&(this.rowCount=s)}}setRowCount(e,t){this.rowCount=e,Ce(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const t={value:0};this.getBlocksInOrder().forEach(n=>n.forEachNode(e,t,this.rowCount))}getBlocksInOrder(){const e=(n,r)=>n.id-r.id;return Object.values(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.id],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventSvc.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const e=[];this.getBlocksInOrder().forEach(t=>{t.id*this.params.blockSize>=this.rowCount&&e.push(t)}),e.length>0&&e.forEach(t=>this.destroyBlock(t))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){const n=[];let r=-1,i=!1;const s={value:0};let o=!1;return this.getBlocksInOrder().forEach(c=>{if(!o){if(i&&r+1!==c.id){o=!0;return}r=c.id,c.forEachNode(d=>{const f=d===e||d===t;(i||f)&&n.push(d),f&&(i=!i)},s,this.rowCount)}}),o||i?[]:n}},lU=class extends te{constructor(){super(...arguments),this.beanName="rowModel"}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){this.gos.get("rowModelType")==="infinite"&&(this.rowHeight=Zs(this.beans),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()))}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.beans.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.reset.bind(this),sortChanged:this.reset.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.dispatchModelUpdatedEvent.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=Zs(this.beans),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onColumnEverything(){var t;let e;this.cacheParams?e=!Zl(this.cacheParams.sortModel,((t=this.beans.sortSvc)==null?void 0:t.getSortModel())??[]):e=!0,e&&this.reset()}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){var n;return((n=this.infiniteCache)==null?void 0:n.getRowNodesInRange(e,t))??[]}reset(){var n;if(!this.datasource)return;pa(this.gos)!=null||(n=this.beans.selectionSvc)==null||n.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventSvc.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache();const e=this.beans,{filterManager:t,sortSvc:n,rowNodeBlockLoader:r,eventSvc:i,gos:s}=e;this.cacheParams={datasource:this.datasource,filterModel:(t==null?void 0:t.getFilterModel())??{},sortModel:(n==null?void 0:n.getSortModel())??[],rowNodeBlockLoader:r,initialRowCount:s.get("infiniteInitialRowCount"),maxBlocksInCache:s.get("maxBlocksInCache"),rowHeight:Zs(e),overflowSize:s.get("cacheOverflowSize"),blockSize:s.get("cacheBlockSize"),lastAccessedSequence:{value:0}},this.infiniteCache=this.createBean(new aU(this.cacheParams)),i.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache=this.destroyBean(this.infiniteCache)}getRow(e){const t=this.infiniteCache;if(t&&!(e>=t.getRowCount()))return t.getRow(e)}getRowNode(e){let t;return this.forEachNode(n=>{n.id===e&&(t=n)}),t}forEachNode(e){var t;(t=this.infiniteCache)==null||t.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){const t=Math.floor(e/this.rowHeight),n=this.getRowCount()-1;return t>n?n:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){var e;(e=this.infiniteCache)==null||e.refreshCache()}purgeCache(){var e;(e=this.infiniteCache)==null||e.purgeCache()}isLastRowIndexKnown(){var e;return((e=this.infiniteCache)==null?void 0:e.isLastRowIndexKnown())??!1}setRowCount(e,t){var n;(n=this.infiniteCache)==null||n.setRowCount(e,t)}};function uU(e){var t;(t=xh(e))==null||t.refreshCache()}function cU(e){var t;(t=xh(e))==null||t.purgeCache()}function dU(e){var t;return(t=xh(e))==null?void 0:t.getRowCount()}var hU=class extends te{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=IO(this.gos);const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=en(this,this.performCheckBlocksToLoad.bind(this),e))}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){Pr(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad()}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){uo(this.gos,"RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}const e=this.maxConcurrentRequests!=null?this.maxConcurrentRequests-this.activeBlockLoadsCount:1,t=this.blocks.filter(n=>n.state==="needsLoading").slice(0,e);this.activeBlockLoadsCount+=t.length,t.forEach(n=>n.load()),this.printCacheStatus()}getBlockState(){const e={};return this.blocks.forEach(t=>{const{id:n,state:r}=t.getBlockStateJson();e[n]=r}),e}printCacheStatus(){uo(this.gos,`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}},fU={moduleName:"InfiniteRowModelCore",version:ve,rowModels:["infinite"],beans:[lU,hU]},pU={moduleName:"InfiniteRowModel",version:ve,apiFunctions:{refreshInfiniteCache:uU,purgeInfiniteCache:cU,getInfiniteRowCount:dU},dependsOn:[fU,Aj]},gU="↑",mU="↓",CU=class extends Pt{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-change-delta");const n=document.createElement("span");n.setAttribute("class","ag-value-change-value"),e.appendChild(t),e.appendChild(n),this.setTemplateFromElement(e)}init(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e,!0)}showDelta(e,t){const n=Math.abs(t),r=e.formatValue(n),i=Ce(r)?r:n,s=t>=0,o=this.eDelta;s?o.textContent=gU+i:o.textContent=mU+i,o.classList.toggle("ag-value-change-delta-up",s),o.classList.toggle("ag-value-change-delta-down",!s)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),zn(this.eDelta)}refresh(e,t=!1){var l;const{value:n,valueFormatted:r}=e,{eValue:i,lastValue:s,beans:o}=this;if(n===s||(Ce(r)?i.textContent=r:Ce(n)?i.textContent=n:zn(i),(l=o.filterManager)!=null&&l.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof n=="number"&&typeof s=="number"){const c=n-s;this.showDelta(e,c)}return s&&i.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=n,!0}},vU=".ag-value-slide-out{opacity:1}:where(.ag-ltr) .ag-value-slide-out{margin-right:5px;transition:opacity 3s,margin-right 3s}:where(.ag-rtl) .ag-value-slide-out{margin-left:5px;transition:opacity 3s,margin-left 3s}:where(.ag-ltr,.ag-rtl) .ag-value-slide-out{transition-timing-function:linear}.ag-value-slide-out-end{opacity:0}:where(.ag-ltr) .ag-value-slide-out-end{margin-right:10px}:where(.ag-rtl) .ag-value-slide-out-end{margin-left:10px}",wU=class extends Pt{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-slide-current"),e.appendChild(t),this.setTemplateFromElement(e),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current"),this.registerCSS(vU)}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const{beans:t,eCurrent:n}=this,r=Gt(t).createElement("span");r.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=r,r.textContent=n.textContent,this.getGui().insertBefore(r,n),t.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,t=!1){var i;let n=e.value;if(Ft(n)&&(n=""),n===this.lastValue||(i=this.beans.filterManager)!=null&&i.isSuppressFlashingCellsBecauseFiltering())return!1;t||this.addSlideAnimation(),this.lastValue=n;const r=this.eCurrent;return Ce(e.valueFormatted)?r.textContent=e.valueFormatted:Ce(e.value)?r.textContent=n:zn(r),!0}},yU=class extends te{constructor(){super(...arguments),this.beanName="cellFlashSvc"}onFlashCells(e,t){if(!e.comp)return;const n=jN(e.cellPosition);t.cells[n]&&this.animateCell(e,"highlight")}flashCell(e,t){this.animateCell(e,"data-changed",t==null?void 0:t.flashDuration,t==null?void 0:t.fadeDuration)}animateCell(e,t,n,r){const i=e.comp;if(!i)return;const{gos:s}=this;if(n||(n=s.get("cellFlashDuration")),n===0)return;Ce(r)||(r=s.get("cellFadeDuration"));const o=`ag-cell-${t}`,l=`ag-cell-${t}-animation`;i.addOrRemoveCssClass(o,!0),i.addOrRemoveCssClass(l,!1);const c=e.eGui;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e.isAlive()&&(i.addOrRemoveCssClass(o,!1),i.addOrRemoveCssClass(l,!0),c.style.transition=`background-color ${r}ms`,window.setTimeout(()=>{e.isAlive()&&(i.addOrRemoveCssClass(l,!1),c.style.transition="")},r))},n)})}};function SU(e,t={}){const{cellFlashSvc:n}=e;n&&e.frameworkOverrides.wrapIncoming(()=>{e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(r=>n.flashCell(r,t))})}var bU={moduleName:"HighlightChanges",version:ve,beans:[yU],userComponents:{agAnimateShowChangeCellRenderer:CU,agAnimateSlideCellRenderer:wU},apiFunctions:{flashCells:SU}};function RU(e){var t;return((t=e.stateSvc)==null?void 0:t.getState())??{}}function xU(e){switch(e={...e},e.version||(e.version="32.1.0"),e.version){case"32.1.0":e=EU(e)}return e}function EU(e){return e.cellSelection=FU(e,"rangeSelection"),e}function FU(e,t){if(e&&typeof e=="object")return e[t]}var PU=class extends te{constructor(){super(...arguments),this.beanName="stateSvc",this.updateRowGroupExpansionStateTimer=0,this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=en(this,()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=en(this,()=>{this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState())},0),this.onRowSelectedDebounced=en(this,()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){this.isClientSideRowModel=un(this.gos),this.cachedState=this.getInitialState(),this.setCachedStateValue("version",ve);const e=this.suppressEventsAndDispatchInitEvent.bind(this);this.beans.ctrlsSvc.whenReady(this,()=>e(()=>this.setupStateOnGridReady()));const[t,n,r]=this.addManagedEventListeners({newColumnsLoaded:({source:i})=>{i==="gridInitializing"&&(t(),e(()=>this.setupStateOnColumnsInitialised()))},rowCountReady:()=>{n==null||n(),e(()=>this.setupStateOnRowCountReady())},firstDataRendered:()=>{r==null||r(),e(()=>this.setupStateOnFirstDataRendered())}})}destroy(){super.destroy(),clearTimeout(this.updateRowGroupExpansionStateTimer),this.queuedUpdateSources.clear()}getInitialState(){return xU(this.gos.get("initialState")??{})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){const e=()=>this.updateCachedState("sideBar",this.getSideBarState());e(),this.addManagedEventListeners({toolPanelVisibleChanged:e,sideBarUpdated:e})}setupStateOnColumnsInitialised(){const e=this.getInitialState();this.setColumnState(e),this.setColumnGroupState(e),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState());const t=n=>()=>this.updateColumnState([n]);this.addManagedEventListeners({columnValueChanged:t("aggregation"),columnMoved:t("columnOrder"),columnPinned:t("columnPinning"),columnResized:t("columnSizing"),columnVisible:t("columnVisibility"),columnPivotChanged:t("pivot"),columnPivotModeChanged:t("pivot"),columnRowGroupChanged:t("rowGroup"),sortChanged:t("sort"),newColumnsLoaded:()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setupStateOnRowCountReady(){const{filter:e,rowGroupExpansion:t,rowSelection:n,pagination:r}=this.getInitialState();e&&this.setFilterState(e),t&&this.setRowGroupExpansionState(t),n&&this.setRowSelectionState(n),r&&this.setPaginationState(r);const i=this.updateCachedState.bind(this);i("filter",this.getFilterState()),i("rowGroupExpansion",this.getRowGroupExpansionState()),i("rowSelection",this.getRowSelectionState()),i("pagination",this.getPaginationState());const s=()=>{this.updateRowGroupExpansionStateTimer=0,i("rowGroupExpansion",this.getRowGroupExpansionState())};this.addManagedEventListeners({filterChanged:()=>i("filter",this.getFilterState()),rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:s,columnRowGroupChanged:s,rowDataUpdated:()=>{this.gos.get("groupDefaultExpanded")!==0&&(this.updateRowGroupExpansionStateTimer||(this.updateRowGroupExpansionStateTimer=setTimeout(s)))},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:o=>{(o.newPage||o.newPageSize)&&i("pagination",this.getPaginationState())}})}setupStateOnFirstDataRendered(){const{scroll:e,cellSelection:t,focusedCell:n,columnOrder:r}=this.getInitialState();n&&this.setFocusedCellState(n),t&&this.setCellSelectionState(t),e&&this.setScrollState(e),this.setColumnPivotState(!!(r!=null&&r.orderedColIds));const i=this.updateCachedState.bind(this);i("sideBar",this.getSideBarState()),i("focusedCell",this.getFocusedCellState());const s=this.getRangeSelectionState();i("rangeSelection",s),i("cellSelection",s),i("scroll",this.getScrollState()),this.addManagedEventListeners({cellFocused:()=>i("focusedCell",this.getFocusedCellState()),cellSelectionChanged:o=>{if(o.finished){const l=this.getRangeSelectionState();i("rangeSelection",l),i("cellSelection",l)}},bodyScrollEnd:()=>i("scroll",this.getScrollState())})}getColumnState(){const e=this.beans,t=e.colModel.isPivotMode(),n=[],r=[],i=[],s=[],o=[],l=[],c=[],d=[],f=[];let p=0;const m=nu(e);for(let C=0;C<m.length;C++){const{colId:y,sort:b,sortIndex:R,rowGroup:x,rowGroupIndex:E,aggFunc:P,pivot:D,pivotIndex:A,pinned:O,hide:T,width:G,flex:$}=m[C];f.push(y),b&&(n[R??p++]={colId:y,sort:b}),x&&(r[E??0]=y),typeof P=="string"&&i.push({colId:y,aggFunc:P}),D&&(s[A??0]=y),O&&(O==="right"?l:o).push(y),T&&c.push(y),($!=null||G)&&d.push({colId:y,flex:$??void 0,width:G})}return{sort:n.length?{sortModel:n}:void 0,rowGroup:r.length?{groupColIds:r}:void 0,aggregation:i.length?{aggregationModel:i}:void 0,pivot:s.length||t?{pivotMode:t,pivotColIds:s}:void 0,columnPinning:o.length||l.length?{leftColIds:o,rightColIds:l}:void 0,columnVisibility:c.length?{hiddenColIds:c}:void 0,columnSizing:d.length?{columnSizingModel:d}:void 0,columnOrder:f.length?{orderedColIds:f}:void 0}}setColumnState(e){const{sort:t,rowGroup:n,aggregation:r,pivot:i,columnPinning:s,columnVisibility:o,columnSizing:l,columnOrder:c,partialColumnState:d}=e,f={},p=R=>{let x=f[R];return x||(x={colId:R},f[R]=x,x)},m=d?{}:{sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};t&&(t.sortModel.forEach(({colId:R,sort:x},E)=>{const P=p(R);P.sort=x,P.sortIndex=E}),m.sort=null,m.sortIndex=null),n&&(n.groupColIds.forEach((R,x)=>{const E=p(R);E.rowGroup=!0,E.rowGroupIndex=x}),m.rowGroup=null,m.rowGroupIndex=null),r&&(r.aggregationModel.forEach(({colId:R,aggFunc:x})=>{p(R).aggFunc=x}),m.aggFunc=null),i&&(i.pivotColIds.forEach((R,x)=>{const E=p(R);E.pivot=!0,E.pivotIndex=x}),this.gos.updateGridOptions({options:{pivotMode:i.pivotMode},source:"gridInitializing"}),m.pivot=null,m.pivotIndex=null),s&&(s.leftColIds.forEach(R=>{p(R).pinned="left"}),s.rightColIds.forEach(R=>{p(R).pinned="right"}),m.pinned=null),o&&(o.hiddenColIds.forEach(R=>{p(R).hide=!0}),m.hide=null),l&&(l.columnSizingModel.forEach(({colId:R,flex:x,width:E})=>{const P=p(R);P.flex=x??null,P.width=E}),m.flex=null);const C=c==null?void 0:c.orderedColIds,y=!!(C!=null&&C.length),b=y?C.map(R=>p(R)):Object.values(f);b.length&&(this.columnStates=b,or(this.beans,{state:b,applyOrder:y,defaultState:m},"gridInitializing"))}setColumnPivotState(e){const t=this.columnStates;this.columnStates=void 0;const n=this.columnGroupStates;this.columnGroupStates=void 0;const r=this.beans,{pivotResultCols:i,colGroupSvc:s}=r;if(i!=null&&i.isPivotResultColsPresent()){if(t){const o=[];for(const l of t)i.getPivotResultCol(l.colId)&&o.push(l);or(r,{state:o,applyOrder:e},"gridInitializing")}n&&(s==null||s.setColumnGroupState(n,"gridInitializing"))}}getColumnGroupState(){const e=this.beans.colGroupSvc;if(!e)return;const t=e.getColumnGroupState(),n=[];return t.forEach(({groupId:r,open:i})=>{i&&n.push(r)}),n.length?{openColumnGroupIds:n}:void 0}setColumnGroupState(e){var s;const t=this.beans.colGroupSvc;if(!Object.prototype.hasOwnProperty.call(e,"columnGroup")||!t)return;const n=new Set((s=e.columnGroup)==null?void 0:s.openColumnGroupIds),i=t.getColumnGroupState().map(({groupId:o})=>{const l=n.has(o);return l&&n.delete(o),{groupId:o,open:l}});n.forEach(o=>{i.push({groupId:o,open:!0})}),i.length&&(this.columnGroupStates=i),t.setColumnGroupState(i,"gridInitializing")}getFilterState(){const e=this.beans.filterManager;let t=e==null?void 0:e.getFilterModel();t&&Object.keys(t).length===0&&(t=void 0);const n=(e==null?void 0:e.getAdvFilterModel())??void 0;return t||n?{filterModel:t,advancedFilterModel:n}:void 0}setFilterState(e){const t=this.beans.filterManager,{filterModel:n,advancedFilterModel:r}=e??{};n&&(t==null||t.setFilterModel(n,"columnFilter")),r&&(t==null||t.setAdvFilterModel(r,"advancedFilter"))}getRangeSelectionState(){var t;const e=(t=this.beans.rangeSvc)==null?void 0:t.getCellRanges().map(n=>{const{id:r,type:i,startRow:s,endRow:o,columns:l,startColumn:c}=n;return{id:r,type:i,startRow:s,endRow:o,colIds:l.map(d=>d.getColId()),startColId:c.getColId()}});return e!=null&&e.length?{cellRanges:e}:void 0}setCellSelectionState(e){const{gos:t,rangeSvc:n,colModel:r,visibleCols:i}=this.beans;if(!ms(t)||!n)return;const s=[];e.cellRanges.forEach(o=>{const l=[];if(o.colIds.forEach(d=>{const f=r.getCol(d);f&&l.push(f)}),!l.length)return;let c=r.getCol(o.startColId);if(!c){const d=i.allCols,f=new Set(l);c=d.find(p=>f.has(p))}s.push({...o,columns:l,startColumn:c})}),n.setCellRanges(s)}getScrollState(){if(!this.isClientSideRowModel)return;const e=this.beans.ctrlsSvc.getScrollFeature(),{left:t}=(e==null?void 0:e.getHScrollPosition())??{left:0},{top:n}=(e==null?void 0:e.getVScrollPosition())??{top:0};return n||t?{top:n,left:t}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;const{top:t,left:n}=e,{frameworkOverrides:r,rowRenderer:i,animationFrameSvc:s,ctrlsSvc:o}=this.beans;r.wrapIncoming(()=>{var l;o.get("center").setCenterViewportScrollLeft(n),(l=o.getScrollFeature())==null||l.setVerticalScrollPosition(t),i.redraw({afterScroll:!0}),s==null||s.flushAllFrames()})}getSideBarState(){var e,t;return(t=(e=this.beans.sideBar)==null?void 0:e.comp)==null?void 0:t.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.beans.focusSvc.getFocusedCell();if(e){const{column:t,rowIndex:n,rowPinned:r}=e;return{colId:t.getColId(),rowIndex:n,rowPinned:r}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{colId:t,rowIndex:n,rowPinned:r}=e,{focusSvc:i,colModel:s}=this.beans;i.setFocusedCell({column:s.getCol(t),rowIndex:n,rowPinned:r,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){const{pagination:e,gos:t}=this.beans;if(!e)return;const n=e.getCurrentPage(),r=t.get("paginationAutoPageSize")?void 0:e.getPageSize();if(!(!n&&!r))return{page:n,pageSize:r}}setPaginationState(e){const{pagination:t,gos:n}=this.beans;t&&(e.pageSize&&!n.get("paginationAutoPageSize")&&t.setPageSize(e.pageSize,"initialState"),typeof e.page=="number"&&t.setPage(e.page))}getRowSelectionState(){var r;const e=this.beans.selectionSvc;if(!e)return;const t=e.getSelectionState();return!t||!Array.isArray(t)&&(t.selectAll===!1||t.selectAllChildren===!1)&&!((r=t==null?void 0:t.toggledNodes)!=null&&r.length)?void 0:t}setRowSelectionState(e){var t;(t=this.beans.selectionSvc)==null||t.setSelectionState(e,"gridInitializing")}getRowGroupExpansionState(){const{expansionSvc:e,rowModel:t}=this.beans;if(!e)return;const n=[];return t.forEachNode(({expanded:r,id:i})=>{r&&i&&n.push(i)}),n.length?{expandedRowGroupIds:n}:void 0}setRowGroupExpansionState(e){var t;(t=this.beans.expansionSvc)==null||t.expandRows(e.expandedRowGroupIds)}updateColumnState(e){const t=this.getColumnState();let n=!1;const r=this.cachedState;for(const i of Object.keys(t)){const s=t[i];Zl(s,r[i])||(n=!0)}this.cachedState={...r,...t},n&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const n=this.cachedState[e];this.setCachedStateValue(e,t),Zl(t,n)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){const e=this.staleStateKeys;e.forEach(t=>{switch(t){case"rowSelection":this.setCachedStateValue(t,this.getRowSelectionState());break}}),e.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=this.queuedUpdateSources,t=Array.from(e);e.clear(),this.eventSvc.dispatchEvent({type:"stateUpdated",sources:t,state:this.cachedState})}suppressEventsAndDispatchInitEvent(e){this.suppressEvents=!0;const t=this.beans.colAnimation;t==null||t.setSuppressAnimation(!0),e(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(t==null||t.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}},DU={moduleName:"GridState",version:ve,beans:[PU],apiFunctions:{getState:RU}};function TU(e){return e.rowModel.isLastRowIndexKnown()}function AU(e){var t;return((t=e.pagination)==null?void 0:t.getPageSize())??100}function MU(e){var t;return((t=e.pagination)==null?void 0:t.getCurrentPage())??0}function kU(e){var t;return((t=e.pagination)==null?void 0:t.getTotalPages())??1}function IU(e){return e.pagination?e.pagination.getMasterRowCount():e.rowModel.getRowCount()}function OU(e){var t;(t=e.pagination)==null||t.goToNextPage()}function LU(e){var t;(t=e.pagination)==null||t.goToPreviousPage()}function NU(e){var t;(t=e.pagination)==null||t.goToFirstPage()}function BU(e){var t;(t=e.pagination)==null||t.goToLastPage()}function HU(e,t){var n;(n=e.pagination)==null||n.goToPage(t)}var GU=class extends te{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeSvc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowsCtrl=e.center;const t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.beans.pagination.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.viewportSizeFeature.getBodyHeight();if(e>0){const t=this.beans,n=()=>{const r=Math.max(Zs(t),1),i=Math.floor(e/r);t.pagination.setPageSize(i,"autoCalculated")};this.isBodyRendered?en(this,n,50)():(n(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},Dl="paginationPageSizeSelector",VU=class extends Pt{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.pagination.getPageSize()||(this.pagination.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.pagination=e.pagination}postConstruct(){this.addManagedPropertyListener(Dl,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!(e!=null&&e.newPageSize))return;const t=this.pagination.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){zn(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(Dl)!==!1}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.pagination.getPageSize(),n=!t||!e.includes(t);if(n){const i=this.gos.exists("paginationPageSize"),s=this.gos.get(Dl)!==!0;he(94,{pageSizeSet:i,pageSizesSet:s,pageSizeOptions:e,paginationPageSizeOption:t}),s||he(95,{paginationPageSizeOption:t,paginationPageSizeSelector:Dl}),e.unshift("")}const r=String(n?"":t);this.selectPageSizeComp?(Co(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(r,!0)):this.createPageSizeSelectorComp(e,r),this.hasEmptyOption=n}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){const n=this.getLocaleTextFunc(),r=n("pageSizeSelectorLabel","Page Size:"),i=n("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new DC).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(i).setLabel(r).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gos.get(Dl);return!Array.isArray(t)||!(t!=null&&t.length)?e:[...t].sort((n,r)=>n-r)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},WU={selector:"AG-PAGE-SIZE-SELECTOR",component:VU},_U=".ag-paging-panel{align-items:center;border-top:var(--ag-footer-row-border);display:flex;gap:calc(var(--ag-spacing)*4);height:max(var(--ag-row-height),22px);justify-content:flex-end;padding:0 var(--ag-cell-horizontal-padding)}:where(.ag-paging-page-size) .ag-wrapper{min-width:50px}.ag-paging-page-summary-panel{align-items:center;display:flex;gap:var(--ag-cell-widget-spacing);.ag-disabled &{pointer-events:none}}.ag-paging-button{cursor:pointer;position:relative;&.ag-disabled{cursor:default;opacity:.5}}.ag-paging-number,.ag-paging-row-summary-panel-number{font-weight:500}",zU=class extends bH{constructor(){super(),this.btFirst=Ie,this.btPrevious=Ie,this.btNext=Ie,this.btLast=Ie,this.lbRecordCount=Ie,this.lbFirstRowOnPage=Ie,this.lbLastRowOnPage=Ie,this.lbCurrent=Ie,this.lbTotal=Ie,this.pageSizeComp=Ie,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1,this.registerCSS(_U)}wireBeans(e){this.rowModel=e.rowModel,this.pagination=e.pagination,this.ariaAnnounce=e.ariaAnnounce}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[WU]);const{btFirst:t,btPrevious:n,btNext:r,btLast:i}=this;this.activateTabIndex([t,n,r,i]),t.insertAdjacentElement("afterbegin",rr(e?"last":"first",this.beans)),n.insertAdjacentElement("afterbegin",rr(e?"next":"previous",this.beans)),r.insertAdjacentElement("afterbegin",rr(e?"previous":"next",this.beans)),i.insertAdjacentElement("afterbegin",rr(e?"first":"last",this.beans)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:s=>this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(s):PN(this.beans,s),forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:t,fn:n}=e;this.addManagedListeners(t,{click:n,keydown:r=>{(r.key===X.ENTER||r.key===X.SPACE)&&(r.preventDefault(),n())}})}),FN(this.beans,this,this.getGui()),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.pagination.goToFirstPage()}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");return t?t({value:e}):Z2(e,this.getLocaleTextFunc.bind(this))}getTemplate(){const e=this.getLocaleTextFunc(),t=e("page","Page"),n=e("to","to"),r=e("of","of"),i=e("firstPage","First Page"),s=e("previousPage","Previous Page"),o=e("nextPage","Next Page"),l=e("lastPage","Last Page"),c=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${c}">
                <ag-page-size-selector data-ref="pageSizeComp"></ag-page-size-selector>
                <span class="ag-paging-row-summary-panel">
                    <span id="ag-${c}-first-row" data-ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${c}-to">${n}</span>
                    <span id="ag-${c}-last-row" data-ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${c}-of">${r}</span>
                    <span id="ag-${c}-row-count" data-ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div data-ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${i}"></div>
                    <div data-ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${s}"></div>
                    <span class="ag-paging-description">
                        <span id="ag-${c}-start-page">${t}</span>
                        <span id="ag-${c}-start-page-number" data-ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-${c}-of-page">${r}</span>
                        <span id="ag-${c}-of-page-number" data-ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div data-ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${o}"></div>
                    <div data-ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${l}"></div>
                </span>
            </div>`}onBtNext(){this.nextButtonDisabled||this.pagination.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.pagination.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.pagination.goToLastPage()}enableOrDisableButtons(){const e=this.pagination.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),n=this.pagination.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const r=this.isZeroPagesToDisplay(),i=e===n-1;this.nextButtonDisabled=i||r,this.lastButtonDisabled=!t||r||e===n-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){Z1(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages();return e&&t===0}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages(),n=this.pagination.getMasterRowCount(),r=e?n:null;if(r===1){const E=this.rowModel.getRow(0);if(E&&E.group&&!(E.groupData||E.aggData)){this.setTotalLabelsToZero();return}}const i=this.pagination.getCurrentPage(),s=this.pagination.getPageSize();let o,l;this.isZeroPagesToDisplay()?o=l=0:(o=s*i+1,l=o+s-1,e&&l>r&&(l=r));const c=o+s-1,d=!e&&n<c,f=this.formatNumber(o);this.lbFirstRowOnPage.textContent=f;let p;const m=this.getLocaleTextFunc();d?p=m("pageLastRowUnknown","?"):p=this.formatNumber(l),this.lbLastRowOnPage.textContent=p;const y=t>0?i+1:0,b=this.formatNumber(y);this.lbCurrent.textContent=b;let R,x;if(e)R=this.formatNumber(t),x=this.formatNumber(r);else{const E=m("more","more");R=E,x=E}this.lbTotal.textContent=R,this.lbRecordCount.textContent=x,this.announceAriaStatus(f,p,x,b,R)}announceAriaStatus(e,t,n,r,i){var p,m;const s=this.getLocaleTextFunc(),o=s("page","Page"),l=s("to","to"),c=s("of","of"),d=`${e} ${l} ${t} ${c} ${n}`,f=`${o} ${r} ${c} ${i}`;d!==this.ariaRowStatus&&(this.ariaRowStatus=d,(p=this.ariaAnnounce)==null||p.announceValue(d,"paginationRow")),f!==this.ariaPageStatus&&(this.ariaPageStatus=f,(m=this.ariaAnnounce)==null||m.announceValue(f,"paginationPage"))}setTotalLabelsToZero(){const e=this.formatNumber(0);this.lbFirstRowOnPage.textContent=e,this.lbCurrent.textContent=e,this.lbLastRowOnPage.textContent=e,this.lbTotal.textContent=e,this.lbRecordCount.textContent=e,this.announceAriaStatus(e,e,e,e,e)}},jU={selector:"AG-PAGINATION",component:zU},UU=class extends te{constructor(){super(...arguments),this.beanName="pagination",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}postConstruct(){const e=this.gos;this.active=e.get("pagination"),this.pageSizeFromGridOptions=e.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return jU}isPaginateChildRows(){const e=this.gos;return e.get("groupHideParentOfSingleChild")||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")?!0:e.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){const t=this.currentPage;!this.active||t===e||typeof t!="number"||(this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0}))}isRowPresent(e){return e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex}getPageForIndex(e){return Math.floor(e/this.pageSize)}goToPageWithIndex(e){if(!this.active)return;const t=this.getPageForIndex(e);this.goToPage(t)}isRowInPage(e){return this.active?this.getPageForIndex(e.rowIndex)===this.currentPage:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.beans.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return Ce(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:Ce(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:Ce(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:Ce(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.beans.pageBounds.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){const n=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}n!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){const e=this.totalPages;this.currentPage>=e&&(this.currentPage=e-1);const t=this.currentPage;(!isFinite(t)||isNaN(t)||t<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){const e=this.beans.rowModel,t=e.getTopLevelRowCount();if(this.masterRowCount=t,t<=0){this.setZeroRows();return}const n=this.pageSize,r=t-1;this.totalPages=Math.floor(r/n)+1,this.adjustCurrentPageIfInvalid();const i=this.currentPage,s=n*i;let o=n*(i+1)-1;if(o>r&&(o=r),this.topDisplayedRowIndex=e.getTopLevelRowDisplayedIndex(s),o===r)this.bottomDisplayedRowIndex=e.getRowCount()-1;else{const l=e.getTopLevelRowDisplayedIndex(o+1);this.bottomDisplayedRowIndex=l-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){const e=this.beans.rowModel.getRowCount();if(this.masterRowCount=e,e===0){this.setZeroRows();return}const{pageSize:t,currentPage:n}=this,r=e-1;this.totalPages=Math.floor(r/t)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=t*n,this.bottomDisplayedRowIndex=t*(n+1)-1,this.bottomDisplayedRowIndex>r&&(this.bottomDisplayedRowIndex=r)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.beans.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:t=!1,newPage:n=!1,newPageSize:r=!1}=e;this.eventSvc.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:n,newPageSize:r,keepRenderedRows:t})}},$U={moduleName:"Pagination",version:ve,beans:[UU,GU],icons:{first:"first",previous:"previous",next:"next",last:"last"},apiFunctions:{paginationIsLastPageFound:TU,paginationGetPageSize:AU,paginationGetCurrentPage:MU,paginationGetTotalPages:kU,paginationGetRowCount:IU,paginationGoToNextPage:OU,paginationGoToPreviousPage:LU,paginationGoToFirstPage:NU,paginationGoToLastPage:BU,paginationGoToPage:HU},dependsOn:[Eh]};function KU(e,t={}){const n=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(n))}function IF(e,t,n,r,i){t&&(r&&t.parent&&t.parent.level!==-1&&IF(e,t.parent,n,r,i),t.setExpanded(n,void 0,i))}function qU(e,t){return e.rowModel.getRowNode(t)}function YU(e,t,n,r){e.rowRenderer.addRenderedRowListener(t,n,r)}function QU(e){return e.rowRenderer.getRenderedNodes()}function JU(e,t,n){e.rowModel.forEachNode(t,n)}function XU(e){return e.rowRenderer.firstRenderedRow}function ZU(e){return e.rowRenderer.lastRenderedRow}function e$(e,t){return e.rowModel.getRow(t)}function t$(e){return e.rowModel.getRowCount()}var n$={moduleName:"RowApi",version:ve,apiFunctions:{redrawRows:KU,setRowNodeExpanded:IF,getRowNode:qU,addRenderedRowListener:YU,getRenderedNodes:QU,forEachNode:JU,getFirstDisplayedRowIndex:XU,getLastDisplayedRowIndex:ZU,getDisplayedRowAtIndex:e$,getDisplayedRowCount:t$}},r$={moduleName:"ScrollApi",version:ve,apiFunctions:{getVerticalPixelRange:Gz,getHorizontalPixelRange:Vz,ensureColumnVisible:PF,ensureIndexVisible:DF,ensureNodeVisible:Wz}};function i$(e,t,n){if(!t)return;const r=e.ctrlsSvc.getGridBodyCtrl().eGridBody,i=`aria-${t}`;n===null?r.removeAttribute(i):r.setAttribute(i,n)}function s$(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function o$(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getHeaderRowContainerCtrls().forEach(t=>t.refresh()))}function a$(e){var t;return((t=e.animationFrameSvc)==null?void 0:t.isQueueEmpty())??!0}function l$(e){var t;(t=e.animationFrameSvc)==null||t.flushAllFrames()}function u$(e){return{rowHeight:Zs(e),headerHeight:bu(e)}}function c$(e,t={}){var s;const n=[];if(e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(o=>{const l=o.getCellRenderer();l!=null&&n.push(ru(l))}),(s=t.columns)!=null&&s.length)return n;const r=[],i=mm(t.rowNodes);return e.rowRenderer.getAllRowCtrls().forEach(o=>{if(i&&!Cm(o.rowNode,i)||!o.isFullWidth())return;const l=o.getFullWidthCellRenderers();for(let c=0;c<l.length;c++){const d=l[c];d!=null&&r.push(ru(d))}}),[...r,...n]}var d$={moduleName:"RenderApi",version:ve,apiFunctions:{setGridAriaProperty:i$,refreshCells:s$,refreshHeader:o$,isAnimationFrameQueueEmpty:a$,flushAllAnimationFrames:l$,getSizesForCurrentTheme:u$,getCellRendererInstances:c$}};function h$(e,t){var n,r;typeof t=="number"?(n=e.colAutosize)==null||n.sizeColumnsToFit(t,"api"):(r=e.colAutosize)==null||r.sizeColumnsToFitGridBody(t)}function f$(e,t,n){var r;(r=e.colAutosize)==null||r.autoSizeCols({colKeys:t,skipHeader:n,source:"api"})}function p$(e,t){var n;(n=e.colAutosize)==null||n.autoSizeAllColumns("api",t)}var g$=class extends te{constructor(){super(...arguments),this.beanName="colAutosize",this.timesDelayed=0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}postConstruct(){this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}autoSizeCols(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeCols(e));return}const{colKeys:t,skipHeader:n,skipHeaderGroups:r,stopAtGroup:i,source:s="api"}=e,{animationFrameSvc:o,renderStatus:l,colModel:c,autoWidthCalc:d,visibleCols:f}=this.beans;if(o==null||o.flushAllFrames(),this.timesDelayed<5&&l&&!l.areHeaderCellsRendered()){this.timesDelayed++,setTimeout(()=>{this.isAlive()&&this.autoSizeCols(e)});return}this.timesDelayed=0;const p=[];let m=-1;const C=n??this.gos.get("skipHeaderOnAutoSize"),y=r??C;for(;m!==0;){m=0;const b=[];t.forEach(R=>{if(!R)return;const x=c.getCol(R);if(!x||vu(x)||p.indexOf(x)>=0)return;const E=d.getPreferredWidthForColumn(x,C);if(E>0){const P=m$(x,E);x.setActualWidth(P,s),p.push(x),m++}b.push(x)}),b.length&&f.refresh(s)}y||this.autoSizeColumnGroupsByColumns(t,s,i),ma(this.eventSvc,p,!0,"autosizeColumns")}autoSizeColumn(e,t,n){e&&this.autoSizeCols({colKeys:[e],skipHeader:n,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,n){const{colModel:r,ctrlsSvc:i}=this.beans,s=new Set;r.getColsForKeys(e).forEach(d=>{let f=d.getParent();for(;f&&f!=n;)f.isPadding()||s.add(f),f=f.getParent()});let l;const c=[];for(const d of s){for(const f of i.getHeaderRowContainerCtrls())if(l=f.getHeaderCtrlForColumn(d),l)break;l&&l.resizeLeafColumnsToFit(t)}return c}autoSizeAllColumns(e,t){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeAllColumns(e,t));return}const n=this.beans.visibleCols.allCols;this.autoSizeCols({colKeys:n,skipHeader:t,source:e})}addColumnAutosize(e,t){const n=this.gos.get("skipHeaderOnAutoSize"),r=()=>{this.autoSizeColumn(t,"uiColumnResized",n)};e.addEventListener("dblclick",r);const i=new Xo(e);return i.addEventListener("doubleTap",r),()=>{e.removeEventListener("dblclick",r),i.removeEventListener("doubleTap",r),i.destroy()}}addColumnGroupResize(e,t,n){const r=this.gos.get("skipHeaderOnAutoSize"),i=()=>{const s=[];t.getDisplayedLeafColumns().forEach(l=>{l.getColDef().suppressAutoSize||s.push(l.getColId())}),s.length>0&&this.autoSizeCols({colKeys:s,skipHeader:r,stopAtGroup:t,source:"uiColumnResized"}),n()};return e.addEventListener("dblclick",i),()=>e.removeEventListener("dblclick",i)}sizeColumnsToFitGridBody(e,t){if(!this.isAlive())return;const{ctrlsSvc:n,scrollVisibleSvc:r}=this.beans,i=n.getGridBodyCtrl(),o=i.isVerticalScrollShowing()?r.getScrollbarWidth():0,c=Jl(i.eGridBody)-o;if(c>0){this.sizeColumnsToFit(c,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,-1)},500):he(29)}sizeColumnsToFit(e,t="sizeColumnsToFit",n,r){var C;if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,n,r));return}const i={};r&&((C=r==null?void 0:r.columnLimits)==null||C.forEach(({key:y,...b})=>{i[typeof y=="string"?y:y.getColId()]=b}));const s=this.beans.visibleCols.allCols,o=e===gi(s);if(e<=0||!s.length||o)return;const l=[],c=[];s.forEach(y=>{y.getColDef().suppressSizeToFit===!0?c.push(y):l.push(y)});const d=l.slice(0);let f=!1;const p=y=>{Pr(l,y),c.push(y)};for(l.forEach(y=>{y.resetActualWidth(t);const b=i==null?void 0:i[y.getId()],R=(b==null?void 0:b.minWidth)??(r==null?void 0:r.defaultMinWidth),x=(b==null?void 0:b.maxWidth)??(r==null?void 0:r.defaultMaxWidth),E=y.getActualWidth();typeof R=="number"&&E<R?y.setActualWidth(R,t,!0):typeof x=="number"&&E>x&&y.setActualWidth(x,t,!0)});!f;){f=!0;const y=e-gi(c);if(y<=0)l.forEach(b=>{var x;const R=((x=i==null?void 0:i[b.getId()])==null?void 0:x.minWidth)??(r==null?void 0:r.defaultMinWidth);if(typeof R=="number"){b.setActualWidth(R,t,!0);return}b.setActualWidth(b.minWidth,t)});else{const b=y/gi(l);let R=y;for(let x=l.length-1;x>=0;x--){const E=l[x],P=i==null?void 0:i[E.getId()],D=(P==null?void 0:P.minWidth)??(r==null?void 0:r.defaultMinWidth),A=(P==null?void 0:P.maxWidth)??(r==null?void 0:r.defaultMaxWidth),O=E.getMinWidth(),T=E.getMaxWidth(),G=typeof D=="number"&&D>O?D:O,$=typeof A=="number"&&A<T?A:T;let U=Math.round(E.getActualWidth()*b);U<G?(U=G,p(E),f=!1):U>$?(U=$,p(E),f=!1):x===0&&(U=R),E.setActualWidth(U,t,!0),R-=U}}}d.forEach(y=>{y.fireColumnWidthChangedEvent(t)});const m=this.beans.visibleCols;m.setLeftValues(t),m.updateBodyWidths(),!n&&ma(this.eventSvc,d,!0,t)}applyAutosizeStrategy(){const e=this.gos.get("autoSizeStrategy");if(!e)return;const{type:t}=e;setTimeout(()=>{if(t==="fitGridWidth"){const{columnLimits:n,defaultMinWidth:r,defaultMaxWidth:i}=e,s=n==null?void 0:n.map(({colId:o,minWidth:l,maxWidth:c})=>({key:o,minWidth:l,maxWidth:c}));this.sizeColumnsToFitGridBody({defaultMinWidth:r,defaultMaxWidth:i,columnLimits:s})}else t==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}onFirstDataRendered(){const e=this.gos.get("autoSizeStrategy");if((e==null?void 0:e.type)!=="fitCellContents")return;const{colIds:t,skipHeader:n}=e;setTimeout(()=>{t?this.autoSizeCols({colKeys:t,skipHeader:n,source:"autosizeColumns"}):this.autoSizeAllColumns("autosizeColumns",n)})}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}destroy(){this.resizeOperationQueue.length=0,super.destroy()}};function m$(e,t){const n=e.getMinWidth();t<n&&(t=n);const r=e.getMaxWidth();return e.isGreaterThanMax(t)&&(t=r),t}var C$={moduleName:"ColumnAutoSize",version:ve,beans:[g$],apiFunctions:{sizeColumnsToFit:h$,autoSizeColumns:f$,autoSizeAllColumns:p$},dependsOn:[z0]};function v$(e){var t;return((t=e.pinnedRowModel)==null?void 0:t.getPinnedTopRowCount())??0}function w$(e){var t;return((t=e.pinnedRowModel)==null?void 0:t.getPinnedBottomRowCount())??0}function y$(e,t){var n;return(n=e.pinnedRowModel)==null?void 0:n.getPinnedTopRow(t)}function S$(e,t){var n;return(n=e.pinnedRowModel)==null?void 0:n.getPinnedBottomRow(t)}var b$=class extends te{constructor(){super(...arguments),this.beanName="pinnedRowModel",this.nextId=0,this.pinnedTopRows={cache:{},order:[]},this.pinnedBottomRows={cache:{},order:[]}}postConstruct(){const e=this.gos;this.setPinnedRowData(e.get("pinnedTopRowData"),"top"),this.setPinnedRowData(e.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",t=>this.setPinnedRowData(t.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",t=>this.setPinnedRowData(t.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}isEmpty(e){return this.getCache(e).order.length===0}isRowsToRender(e){return!this.isEmpty(e)}onGridStylesChanges(e){if(e.rowHeightChanged){const t=n=>{n.setRowHeight(n.rowHeight,!0)};Tl(this.pinnedBottomRows,t),Tl(this.pinnedTopRows,t)}}ensureRowHeightsValid(){let e=!1,t=0;const n=r=>{if(r.rowHeightEstimated){const i=fa(this.beans,r);r.setRowTop(t),r.setRowHeight(i.height),t+=i.height,e=!0}};return Tl(this.pinnedBottomRows,n),t=0,Tl(this.pinnedTopRows,n),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventSvc.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){const n=this.getCache(t);if(e===void 0){n.order.length=0,n.cache={};return}const r=pa(this.gos),i=t==="top"?v0:w0,s=new Set(n.order),o=[],l=new Set;let c=0,d=-1;for(const f of e){const p=(r==null?void 0:r({data:f,level:0,rowPinned:t}))??i+this.nextId++;if(l.has(p)){he(96,{id:p,data:f});continue}d++,l.add(p),o.push(p);const m=Ul(n,p);if(m!==void 0)m.data!==f&&m.setData(f),c+=this.setRowTopAndRowIndex(m,c,d),s.delete(p);else{const C=new va(this.beans);C.id=p,C.data=f,C.rowPinned=t,c+=this.setRowTopAndRowIndex(C,c,d),n.cache[p]=C,n.order.push(p)}}s.forEach(f=>{var p;(p=Ul(n,f))==null||p.clearRowTopAndRowIndex(),delete n.cache[f]}),n.order=o}setRowTopAndRowIndex(e,t,n){return e.setRowTop(t),e.setRowHeight(fa(this.beans,e).height),e.setRowIndex(n),e.rowHeight}getPinnedTopTotalHeight(){return mb(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return mb(this.pinnedBottomRows)}getPinnedTopRowCount(){return ym(this.pinnedTopRows)}getPinnedBottomRowCount(){return ym(this.pinnedBottomRows)}getPinnedTopRow(e){return wm(this.pinnedTopRows,e)}getPinnedBottomRow(e){return wm(this.pinnedBottomRows,e)}getPinnedRowById(e,t){return Ul(this.getCache(t),e)}forEachPinnedRow(e,t){return Tl(this.getCache(e),t)}getCache(e){return e==="top"?this.pinnedTopRows:this.pinnedBottomRows}};function mb(e){const t=ym(e);if(t===0)return 0;const n=wm(e,t-1);return n===void 0?0:n.rowTop+n.rowHeight}function Ul(e,t){return e.cache[t]}function wm(e,t){return Ul(e,e.order[t])}function Tl(e,t){e.order.forEach((n,r)=>{const i=Ul(e,n);i&&t(i,r)})}function ym(e){return e.order.length}var R$={moduleName:"PinnedRow",version:ve,beans:[b$],apiFunctions:{getPinnedTopRowCount:v$,getPinnedBottomRowCount:w$,getPinnedTopRow:y$,getPinnedBottomRow:S$}},x$=class extends Vl{constructor(e,t,n){super(e.col,e.firstNode,n,t),this.cellSpan=e,this.SPANNED_CELL_CSS_CLASS="ag-spanned-cell"}setComp(e,t,n,r,i,s,o){this.eWrapper=n,super.setComp(e,t,n,r,i,s,o),this.setAriaRowSpan(),this.refreshAriaRowIndex()}isCellSpanning(){return!0}getCellSpan(){return this.cellSpan}refreshAriaRowIndex(){this.rowNode.rowIndex!=null&&gE(this.eGui,this.rowNode.rowIndex)}setAriaRowSpan(){rO(this.eGui,this.cellSpan.spannedNodes.size)}shouldRestoreFocus(){return this.beans.focusSvc.shouldRestoreFocus(this.cellSpan)}onFocusOut(){this.focusedCellPosition=void 0,super.onFocusOut()}setFocusedCellPosition(e){this.focusedCellPosition=e}getFocusedCellPosition(){return this.focusedCellPosition??this.cellPosition}isCellFocused(){const e=this.beans.focusSvc.getFocusedCell();return!!e&&this.cellSpan.doesSpanContain(e)}applyStaticCssClasses(){super.applyStaticCssClasses(),this.comp.addOrRemoveCssClass(this.SPANNED_CELL_CSS_CLASS,!0)}onCellFocused(e){const{beans:t}=this;if(Sh(t)){this.focusedCellPosition=void 0;return}const n=this.isCellFocused();n||(this.focusedCellPosition=void 0),e&&n&&(this.focusedCellPosition={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column}),super.onCellFocused(e)}getRootElement(){return this.eWrapper}},E$=class extends Qd{onRowIndexChanged(){super.onRowIndexChanged(),this.getAllCellCtrls().forEach(e=>e.refreshAriaRowIndex())}getInitialRowClasses(e){return["ag-spanned-row"]}getNewCellCtrl(e){var r;const t=(r=this.beans.rowSpanSvc)==null?void 0:r.getCellSpan(e,this.rowNode);if(!(!t||t.firstNode!==this.rowNode))return new x$(t,this,this.beans)}shouldRecreateCellCtrl(e){var r;const t=(r=this.beans.rowSpanSvc)==null?void 0:r.getCellSpan(e.column,this.rowNode);return!t||t.firstNode!==this.rowNode?!0:e.getCellSpan()!==t}onRowHeightChanged(){}refreshFirstAndLastRowStyles(){}addHoverFunctionality(){}resetHoveredStatus(){}},F$=class extends te{constructor(){super(...arguments),this.beanName="spannedRowRenderer",this.topCtrls=new Map,this.bottomCtrls=new Map,this.centerCtrls=new Map}postConstruct(){this.addManagedEventListeners({displayedRowsChanged:this.createAllCtrls.bind(this)})}createAllCtrls(){this.createCtrls("top"),this.createCtrls("bottom"),this.createCtrls("center")}createCtrls(e){const{rowSpanSvc:t}=this.beans,n=`${e}Ctrls`,r=this[n],i=r.size,s=this.getAllRelevantRowControls(e),o=new Map;let l=!1;for(const d of s)d.isAlive()&&(t==null||t.forEachSpannedColumn(d.rowNode,(f,p)=>{if(o.has(p.firstNode))return;const m=r.get(p.firstNode);if(m){o.set(p.firstNode,m),r.delete(p.firstNode);return}l=!0;const C=new E$(p.firstNode,this.beans,!1,!1,!1);o.set(p.firstNode,C)}));this[n]=o;const c=o.size===i;if(!(!l&&c)){for(const d of r.values())d.destroyFirstPass(!0),d.destroySecondPass();this.dispatchLocalEvent({type:"spannedRowsUpdated",ctrlsKey:e})}}getAllRelevantRowControls(e){const{rowRenderer:t}=this.beans;switch(e){case"top":return t.topRowCtrls;case"bottom":return t.bottomRowCtrls;case"center":return t.allRowCtrls}}getCellByPosition(e){const{rowSpanSvc:t}=this.beans,n=t==null?void 0:t.getCellSpanByPosition(e);if(!n)return;const r=`${OF(e.rowPinned)}Ctrls`,i=this[r].get(n.firstNode);if(i)return i.getAllCellCtrls().find(s=>s.column===e.column)}getCtrls(e){const t=`${e}Ctrls`;return[...this[t].values()]}destroyRowCtrls(e){const t=`${e}Ctrls`;for(const n of this[t].values())n.destroyFirstPass(!0),n.destroySecondPass();this[t]=new Map}destroy(){super.destroy(),this.destroyRowCtrls("top"),this.destroyRowCtrls("bottom"),this.destroyRowCtrls("center")}},OF=e=>e??"center",P$=class{constructor(e,t){this.col=e,this.firstNode=t,this.cellSpan=!0,this.spannedNodes=new Set,this.addSpannedNode(t)}addSpannedNode(e){this.spannedNodes.add(e),this.lastNode=e}getLastNode(){return this.lastNode}getCellHeight(){return this.lastNode.rowTop+this.lastNode.rowHeight-this.firstNode.rowTop-1}doesSpanContain(e){return e.column!==this.col||e.rowPinned!=this.firstNode.rowPinned?!1:this.firstNode.rowIndex<=e.rowIndex&&e.rowIndex<=this.lastNode.rowIndex}getLastNodeAutoHeight(){var n;const e=(n=this.firstNode.__autoHeights)==null?void 0:n[this.col.getColId()];if(e==null)return;let t=0;return this.spannedNodes.forEach(r=>{r!==this.lastNode&&(t+=r.rowHeight)}),e-t}},D$=class extends te{constructor(e){super(),this.column=e}buildCache(e){var x;const{column:t,beans:{gos:n,pinnedRowModel:r,rowModel:i,valueSvc:s}}=this,{colDef:o}=t,l=new Map,c=n.getCallback("isFullWidthRow"),d=o.equals,f=o.spanRows,p=typeof f=="function";let m=null,C=null,y;const b=(E,P)=>{m=E,C=null,y=P},R=E=>{const P=!E.isExpandable()&&!E.group&&!E.detail&&(c?!c({rowNode:E}):!0);if(E.rowIndex==null||!P){b(null,null);return}if(m==null||E.level!==m.level||E.footer||C&&E.rowIndex-1!==(C==null?void 0:C.getLastNode().rowIndex)){b(E,s.getValue(t,E));return}const D=s.getValue(t,E);if(p){const A=Le(n,{valueA:y,nodeA:m,valueB:D,nodeB:E,column:t,colDef:o});if(!f(A)){b(E,D);return}}else if(d?!d(y,D):y!==D){b(E,D);return}C||(C=new P$(t,m),l.set(m,C)),C.addSpannedNode(E),l.set(E,C)};switch(e){case"center":(x=i.forEachDisplayedNode)==null||x.call(i,R);break;case"top":r==null||r.forEachPinnedRow("top",R);break;case"bottom":r==null||r.forEachPinnedRow("bottom",R);break}this[`${e}ValueNodeMap`]=l}isCellSpanning(e){return!!this.getCellSpan(e)}getCellSpan(e){return this[`${OF(e.rowPinned)}ValueNodeMap`].get(e)}},T$=class extends te{constructor(){super(...arguments),this.beanName="rowSpanSvc",this.spanningColumns=new Map,this.debouncePinnedEvent=en(this,this.dispatchCellsUpdatedEvent.bind(this,!0),0),this.debounceModelEvent=en(this,this.dispatchCellsUpdatedEvent.bind(this,!1),0),this.pinnedTimeout=null,this.modelTimeout=null}postConstruct(){this.addManagedEventListeners({modelUpdated:this.buildModelCaches.bind(this),pinnedRowDataChanged:this.buildPinnedCaches.bind(this)})}register(e){const{gos:t}=this.beans;if(!t.get("enableCellSpan")||this.spanningColumns.has(e))return;const n=this.createManagedBean(new D$(e));this.spanningColumns.set(e,n),n.buildCache("top"),n.buildCache("bottom"),n.buildCache("center"),this.debouncePinnedEvent(),this.debounceModelEvent()}dispatchCellsUpdatedEvent(e){this.dispatchLocalEvent({type:"spannedCellsUpdated",pinned:e})}deregister(e){this.spanningColumns.delete(e)}onRowDataUpdated(e){const{spannedRowRenderer:t}=this.beans;if(e.rowPinned){if(this.pinnedTimeout!=null)return;this.pinnedTimeout=window.setTimeout(()=>{this.pinnedTimeout=null,this.buildPinnedCaches(),t==null||t.createCtrls("top"),t==null||t.createCtrls("bottom")},0);return}this.modelTimeout==null&&(this.modelTimeout=window.setTimeout(()=>{this.modelTimeout=null,this.buildModelCaches(),t==null||t.createCtrls("center")},0))}buildModelCaches(){this.modelTimeout!=null&&clearTimeout(this.modelTimeout),this.spanningColumns.forEach(e=>e.buildCache("center")),this.debounceModelEvent()}buildPinnedCaches(){this.pinnedTimeout!=null&&clearTimeout(this.pinnedTimeout),this.spanningColumns.forEach(e=>{e.buildCache("top"),e.buildCache("bottom")}),this.debouncePinnedEvent()}isCellSpanning(e,t){const n=this.spanningColumns.get(e);return n?n.isCellSpanning(t):!1}getCellSpanByPosition(e){const{pinnedRowModel:t,rowModel:n}=this.beans,r=e.column,i=e.rowIndex,s=this.spanningColumns.get(r);if(!s)return;let o;switch(e.rowPinned){case"top":o=t==null?void 0:t.getPinnedTopRow(i);break;case"bottom":o=t==null?void 0:t.getPinnedBottomRow(i);break;default:o=n.getRow(i)}if(o)return s.getCellSpan(o)}getCellStart(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.firstNode.rowIndex}:e}getCellEnd(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.getLastNode().rowIndex}:e}getCellSpan(e,t){const n=this.spanningColumns.get(e);if(n)return n.getCellSpan(t)}forEachSpannedColumn(e,t){for(const[n,r]of this.spanningColumns)if(r.isCellSpanning(e)){const i=r.getCellSpan(e);t(n,i)}}destroy(){super.destroy(),this.spanningColumns.clear()}},A$={moduleName:"CellSpan",version:ve,beans:[T$,F$]},M$=class extends te{constructor(e,t){super(),this.cellCtrl=e,this.staticClasses=[],this.beans=t,this.column=e.column}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const{column:e,cellComp:t}=this,n=e.colDef,r=n.cellClassRules,i=this.getCellClassParams(e,n);yC(this.beans.expressionSvc,r===this.cellClassRules?void 0:this.cellClassRules,r,i,s=>t.addOrRemoveCssClass(s,!0),s=>t.addOrRemoveCssClass(s,!1)),this.cellClassRules=r}applyUserStyles(){const e=this.column,t=e.colDef,n=t.cellStyle;if(!n)return;let r;if(typeof n=="function"){const i=this.getCellClassParams(e,t);r=n(i)}else r=n;r&&this.cellComp.setUserStyles(r)}applyClassesFromColDef(){const{column:e,cellComp:t}=this,n=e.colDef,r=this.getCellClassParams(e,n);this.staticClasses.forEach(s=>t.addOrRemoveCssClass(s,!1));const i=this.beans.cellStyles.getStaticCellClasses(n,r);this.staticClasses=i,i.forEach(s=>t.addOrRemoveCssClass(s,!0))}getCellClassParams(e,t){const{value:n,rowNode:r}=this.cellCtrl;return Le(this.beans.gos,{value:n,data:r.data,node:r,colDef:t,column:e,rowIndex:r.rowIndex})}},k$=class extends te{constructor(){super(...arguments),this.beanName="cellStyles"}processAllCellClasses(e,t,n,r){yC(this.beans.expressionSvc,void 0,e.cellClassRules,t,n,r),this.processStaticCellClasses(e,t,n)}getStaticCellClasses(e,t){const{cellClass:n}=e;if(!n)return[];let r;return typeof n=="function"?r=n(t):r=n,typeof r=="string"&&(r=[r]),r||[]}createCellCustomStyleFeature(e,t){return new M$(e,t)}processStaticCellClasses(e,t,n){this.getStaticCellClasses(e,t).forEach(i=>{n(i)})}},I$={moduleName:"CellStyle",version:ve,beans:[k$]},O$={moduleName:"RowStyle",version:ve,beans:[aB]};function L$(e,t){var n;return!!((n=e.colHover)!=null&&n.isHovered(t))}var N$=class extends te{constructor(e,t){super(),this.columns=e,this.element=t}postConstruct(){if(this.gos.get("columnHoverHighlight")){const e=this.beans.colHover;this.addManagedListeners(this.element,{mouseout:e.clearMouseOver.bind(e),mouseover:e.setMouseOver.bind(e,this.columns)})}}},B$="ag-column-hover",H$=class extends te{constructor(){super(...arguments),this.beanName="colHover"}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){const t=this.selectedColumns;return!!t&&t.indexOf(e)>=0}addHeaderColumnHoverListener(e,t,n){const r=()=>{if(!this.gos.get("columnHoverHighlight"))return;const i=this.isHovered(n);t.addOrRemoveCssClass("ag-column-hover",i)};e.addManagedEventListeners({columnHoverChanged:r}),r()}onCellColumnHover(e,t){if(!t||!this.gos.get("columnHoverHighlight"))return;const n=this.isHovered(e);t.addOrRemoveCssClass(B$,n)}addHeaderFilterColumnHoverListener(e,t,n,r){this.createHoverFeature(e,[n],r);const i=()=>{if(!this.gos.get("columnHoverHighlight"))return;const s=this.isHovered(n);t.addOrRemoveCssClass("ag-column-hover",s)};e.addManagedEventListeners({columnHoverChanged:i}),i()}createHoverFeature(e,t,n){e.createManagedBean(new N$(t,n))}updateState(e){this.selectedColumns=e,this.eventSvc.dispatchEvent({type:"columnHoverChanged"})}},G$={moduleName:"ColumnHover",version:ve,beans:[H$],apiFunctions:{isColumnHovered:L$}},V$=class extends te{constructor(){super(...arguments),this.beanName="apiEventSvc",this.syncListeners=new Map,this.asyncListeners=new Map,this.syncGlobalListeners=new Set,this.globalListenerPairs=new Map}postConstruct(){var e,t;this.wrapSvc=(t=(e=this.beans.frameworkOverrides).createGlobalEventListenerWrapper)==null?void 0:t.call(e)}addEventListener(e,t){var s;const n=((s=this.wrapSvc)==null?void 0:s.wrap(t))??t,r=!pd.has(e),i=r?this.asyncListeners:this.syncListeners;i.has(e)||i.set(e,new Set),i.get(e).add(n),this.eventSvc.addEventListener(e,n,r)}removeEventListener(e,t){var s,o;const n=((s=this.wrapSvc)==null?void 0:s.unwrap(t))??t,r=this.asyncListeners.get(e),i=!!(r!=null&&r.delete(n));i||(o=this.syncListeners.get(e))==null||o.delete(n),this.eventSvc.removeEventListener(e,n,i)}addGlobalListener(e){var s;const t=((s=this.wrapSvc)==null?void 0:s.wrapGlobal(e))??e,n=(o,l)=>{pd.has(o)&&t(o,l)},r=(o,l)=>{pd.has(o)||t(o,l)};this.globalListenerPairs.set(e,{syncListener:n,asyncListener:r});const i=this.eventSvc;i.addGlobalListener(n,!1),i.addGlobalListener(r,!0)}removeGlobalListener(e){const{eventSvc:t,wrapSvc:n,globalListenerPairs:r}=this,i=(n==null?void 0:n.unwrapGlobal(e))??e;if(r.has(i)){const{syncListener:o,asyncListener:l}=r.get(i);t.removeGlobalListener(o,!1),t.removeGlobalListener(l,!0),r.delete(e)}else this.syncGlobalListeners.delete(i),t.removeGlobalListener(i,!1)}destroyEventListeners(e,t){e.forEach((n,r)=>{n.forEach(i=>this.eventSvc.removeEventListener(r,i,t)),n.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(n=>this.eventSvc.removeGlobalListener(n,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncListeners,!1),this.destroyEventListeners(this.asyncListeners,!0),this.destroyGlobalListeners(this.syncGlobalListeners,!1);const{globalListenerPairs:e,eventSvc:t}=this;e.forEach(({syncListener:n,asyncListener:r})=>{t.removeGlobalListener(n,!1),t.removeGlobalListener(r,!0)}),e.clear()}};function W$(e,t,n){var r;(r=e.apiEventSvc)==null||r.addEventListener(t,n)}function _$(e,t,n){var r;(r=e.apiEventSvc)==null||r.removeEventListener(t,n)}function z$(e,t){var n;(n=e.apiEventSvc)==null||n.addGlobalListener(t)}function j$(e,t){var n;(n=e.apiEventSvc)==null||n.removeGlobalListener(t)}var U$={moduleName:"EventApi",version:ve,apiFunctions:{addEventListener:W$,addGlobalListener:z$,removeEventListener:_$,removeGlobalListener:j$},beans:[V$]},$$=".ag-tooltip{background-color:var(--ag-tooltip-background-color);border:var(--ag-tooltip-border);border-radius:var(--ag-border-radius);color:var(--ag-tooltip-text-color);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);white-space:normal}.ag-tooltip,.ag-tooltip-custom{position:absolute;z-index:99999}.ag-tooltip-custom:where(:not(.ag-tooltip-interactive)),.ag-tooltip:where(:not(.ag-tooltip-interactive)){pointer-events:none}.ag-tooltip-animate{transition:opacity 1s;&:where(.ag-tooltip-hiding){opacity:0}}",K$=class extends te{constructor(){super(...arguments),this.beanName="tooltipSvc"}setupHeaderTooltip(e,t,n,r){e&&t.destroyBean(e);const i=fg(this.gos),{column:s,eGui:o}=t,l=s.getColDef();!r&&i&&!l.headerComponent&&(r=fd(()=>o.querySelector(".ag-header-cell-text")));const c={getColumn:()=>s,getColDef:()=>s.getColDef(),getGui:()=>o,getLocation:()=>"header",getTooltipValue:()=>n??s.getColDef().headerTooltip,shouldDisplayTooltip:r};let d=this.createTooltipFeature(c);return d&&(d=t.createBean(d),t.setRefreshFunction("tooltip",()=>d.refreshTooltip())),d}setupHeaderGroupTooltip(e,t,n,r){e&&t.destroyBean(e);const i=fg(this.gos),{column:s,eGui:o}=t,l=s.getColGroupDef();!r&&i&&!(l!=null&&l.headerGroupComponent)&&(r=fd(()=>o.querySelector(".ag-header-group-text")));const c={getColumn:()=>s,getGui:()=>o,getLocation:()=>"headerGroup",getTooltipValue:()=>n??(l&&l.headerTooltip),shouldDisplayTooltip:r};l&&(c.getColDef=()=>l);const d=this.createTooltipFeature(c);return d&&t.createBean(d)}enableCellTooltipFeature(e,t,n){const{column:r,rowNode:i}=e,s=()=>{const c=r.getColDef(),d=i.data;if(c.tooltipField&&Ce(d))return Gl(d,c.tooltipField,r.isTooltipFieldContainsDots());const f=c.tooltipValueGetter;return f?f(Le(this.gos,{location:"cell",colDef:r.getColDef(),column:r,rowIndex:e.cellPosition.rowIndex,node:i,data:i.data,value:e.value,valueFormatted:e.valueFormatted})):null},o=fg(this.gos);!n&&o&&!e.isCellRenderer()&&(n=fd(()=>{const c=e.eGui;return c.children.length===0?c:c.querySelector(".ag-cell-value")}));const l={getColumn:()=>r,getColDef:()=>r.getColDef(),getRowIndex:()=>e.cellPosition.rowIndex,getRowNode:()=>i,getGui:()=>e.eGui,getLocation:()=>"cell",getTooltipValue:t!=null?()=>t:s,getValueFormatted:()=>e.valueFormatted,shouldDisplayTooltip:n};return this.createTooltipFeature(l,this.beans)}refreshRowTooltip(e,t,n,r){const i={getGui:()=>t.getFullWidthElement(),getTooltipValue:()=>n,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:r},s=this.beans,o=s.context;e&&t.destroyBean(e,o);const l=this.createTooltipFeature(i,s);return t.createBean(l,o)}initCol(e){const{colDef:t}=e;e.tooltipEnabled=Ce(t.tooltipField)||Ce(t.tooltipValueGetter)||Ce(t.tooltipComponent)}createTooltipFeature(e,t){return this.beans.registry.createDynamicBean("tooltipFeature",!1,e,t)}},q$={moduleName:"Tooltip",version:ve,beans:[K$],dynamicBeans:{tooltipFeature:gH},userComponents:{agTooltipComponent:Q2},dependsOn:[Eh],css:[$$]},Y$={moduleName:"Locale",version:ve,beans:[W2]},Q$=class extends te{constructor(){super(...arguments),this.beanName="rowAutoHeight",this.wasEverActive=!1,this._debouncedCalculateRowHeights=en(this,this.calculateRowHeights.bind(this),1)}requestCheckAutoHeight(){this.wasEverActive&&this._debouncedCalculateRowHeights()}calculateRowHeights(){var s,o;const{visibleCols:e,rowModel:t,rowSpanSvc:n}=this.beans,r=e.autoHeightCols;let i=!1;(s=t.forEachDisplayedNode)==null||s.call(t,l=>{var f;const c=l.__autoHeights;let d=fa(this.beans,l).height;for(const p of r){if(this.colSpanSkipRow(p,l))return;let m=c==null?void 0:c[p.getColId()];const C=n==null?void 0:n.getCellSpan(p,l);if(C){if(C.getLastNode()!==l)continue;if(m=(f=n==null?void 0:n.getCellSpan(p,l))==null?void 0:f.getLastNodeAutoHeight(),!m)return}if(m==null)return;d=Math.max(m,d)}d!==l.rowHeight&&(l.setRowHeight(d),i=!0)}),i&&((o=t.onRowHeightChanged)==null||o.call(t))}setRowAutoHeight(e,t,n){if(e.__autoHeights||(e.__autoHeights={}),t==null){delete e.__autoHeights[n.getId()];return}const r=e.__autoHeights[n.getId()];e.__autoHeights[n.getId()]=t,r!==t&&this.requestCheckAutoHeight()}colSpanSkipRow(e,t){const{colModel:n,colViewport:r,visibleCols:i}=this.beans;if(!n.colSpanActive)return!1;let s=[];switch(e.getPinned()){case"left":s=i.getLeftColsForRow(t);break;case"right":s=i.getRightColsForRow(t);break;case null:s=r.getColsWithinViewport(t);break}return s.includes(e)}setupCellAutoHeight(e,t,n){if(!e.column.isAutoHeight()||!t)return!1;this.wasEverActive=!0;const r=t.parentElement,{rowNode:i,column:s}=e,o=this.beans,l=f=>{if(e.editing||!e.isAlive()||!n.isAlive())return;const{paddingTop:p,paddingBottom:m,borderBottomWidth:C,borderTopWidth:y}=go(r),b=p+m+C+y,x=t.offsetHeight+b;if(f<5){const E=Gt(o),P=!E||!E.contains(t),D=x==0;if(P||D){window.setTimeout(()=>l(f+1),0);return}}this.setRowAutoHeight(i,x,s)},c=()=>l(0);c();const d=Mi(o,t,c);return n.addDestroyFunc(()=>{d(),this.setRowAutoHeight(i,void 0,s)}),!0}setAutoHeightActive(e){this.active=e.list.some(t=>t.isVisible()&&t.isAutoHeight())}},J$={moduleName:"RowAutoHeight",version:ve,beans:[Q$]},X$={moduleName:"AllCommunity",version:ve,dependsOn:[Qj,iU,pU,A_,nj,rj,ij,sj,oj,aj,lj,tj,yz,Sz,bz,wz,xz,Ez,DU,kj,$U,hV,n$,r$,d$,C$,UH,R$,bj,D2,I$,G$,O$,U$,M2,bU,q$,Y$,J$,jH,Jj,A$]},dn=W.createContext({}),Ru=(e,t,n,r)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const s=e.newAgStackInstance();let o,l,c=!1;return s.then(d=>{if(c){t.destroyBean(d);return}o=d,l=o.getGui(),n.appendChild(l),Cb(r,o)}),()=>{var d;c=!0,o&&((d=l==null?void 0:l.parentElement)==null||d.removeChild(l),t.destroyBean(o),r&&Cb(r,void 0))}},Cb=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const n=e;n.current=t}},tr=(...e)=>e.filter(n=>n!=null&&n!=="").join(" "),ir=class LF{constructor(...t){this.classesMap={},t.forEach(n=>{this.classesMap[n]=!0})}setClass(t,n){if(!!this.classesMap[t]==n)return this;const i=new LF;return i.classesMap={...this.classesMap},i.classesMap[t]=n,i}toString(){return Object.keys(this.classesMap).filter(n=>this.classesMap[n]).join(" ")}},Ia=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,n=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===n()},RR,Sm=(RR=W.version)==null?void 0:RR.split(".")[0],Z$=Sm==="16"||Sm==="17";function e3(){return Sm==="19"}var gd=!1;function t3(e){return gd||setTimeout(()=>gd=!1,0),gd=!0,e()}var th=(e,t)=>{!Z$&&e&&!gd?cs.flushSync(t):t()};function nh(e,t,n){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(n||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const r=[],i=[],s=new Map,o=new Map;for(let l=0;l<t.length;l++){const c=t[l];o.set(c.instanceId,c)}for(let l=0;l<e.length;l++){const c=e[l];s.set(c.instanceId,c),o.has(c.instanceId)&&r.push(c)}for(let l=0;l<t.length;l++){const c=t[l],d=c.instanceId;s.has(d)||i.push(c)}return r.length===e.length&&i.length===0?e:r.length===0&&i.length===t.length?t:r.length===0?i:i.length===0?r:[...r,...i]}var NF=w.forwardRef((e,t)=>{var ie;const{registry:n,context:r}=w.useContext(dn),i=w.useRef(null),s=w.useRef(null),o=w.useRef(null),l=w.useRef(null),c=w.useRef(null),d=w.useRef(),[f,p]=w.useState(),[m,C]=w.useState(),[y,b]=w.useState(),[R,x]=w.useState(()=>new ir),[E,P]=w.useState(()=>new ir("ag-hidden")),[D,A]=w.useState(()=>new ir("ag-hidden")),[O,T]=w.useState(()=>new ir("ag-invisible"));w.useImperativeHandle(t,()=>({refresh(){return!1}})),w.useLayoutEffect(()=>Ru(f,r,s.current),[f]);const G=w.useCallback(B=>{if(i.current=B,!B){d.current=r.destroyBean(d.current);return}const ne={setInnerRenderer:(k,_)=>{p(k),b(_)},setChildCount:k=>C(k),addOrRemoveCssClass:(k,_)=>x(re=>re.setClass(k,_)),setContractedDisplayed:k=>A(_=>_.setClass("ag-hidden",!k)),setExpandedDisplayed:k=>P(_=>_.setClass("ag-hidden",!k)),setCheckboxVisible:k=>T(_=>_.setClass("ag-invisible",!k))},Z=n.createDynamicBean("groupCellRendererCtrl",!0);Z&&(d.current=r.createBean(Z),d.current.init(ne,B,o.current,l.current,c.current,NF,e))},[]),$=w.useMemo(()=>`ag-cell-wrapper ${R.toString()}`,[R]),U=w.useMemo(()=>`ag-group-expanded ${E.toString()}`,[E]),J=w.useMemo(()=>`ag-group-contracted ${D.toString()}`,[D]),K=w.useMemo(()=>`ag-group-checkbox ${O.toString()}`,[O]),Y=f&&f.componentFromFramework,le=Y?f.componentClass:void 0,fe=f==null&&y!=null,ue=bi(y,!0);return W.createElement("span",{className:$,ref:G,...e.colDef?{}:{role:(ie=d.current)==null?void 0:ie.getCellAriaRole()}},W.createElement("span",{className:U,ref:l}),W.createElement("span",{className:J,ref:c}),W.createElement("span",{className:K,ref:o}),W.createElement("span",{className:"ag-group-value",ref:s},fe&&W.createElement(W.Fragment,null,ue),Y&&W.createElement(le,{...f.params})),W.createElement("span",{className:"ag-group-child-count"},m))}),vb=NF,LC=w.createContext({setMethods:()=>{}}),n3=e=>{const{initialProps:t,addUpdateCallback:n,CustomComponentClass:r,setMethods:i}=e,[{key:s,...o},l]=w.useState(t);return w.useEffect(()=>{n(c=>l(c))},[]),W.createElement(LC.Provider,{value:{setMethods:i}},W.createElement(r,{key:s,...o}))},r3=w.memo(n3),i3=0;function wb(){return`agPortalKey_${++i3}`}var BF=class{constructor(e,t,n,r){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=n,this.suppressFallbackMethods=!!r,this.statelessComponent=this.isStateless(this.reactComponent),this.key=wb(),this.portalKey=wb(),this.instanceCreated=this.isStatelessComponent()?Et.resolve(!1):new Et(i=>{this.resolveInstanceCreated=i})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),n=document.createElement(t||"div");return n.classList.add("ag-react-container"),e.reactContainer=n,n}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const n=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!n){setTimeout(()=>this.callMethod(e,t));return}const r=n[e];if(r)return r.apply(n,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new Et(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{var n;this.componentInstance=t,(n=this.resolveInstanceCreated)==null||n.call(this,!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=fu.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return w.createElement(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const n=this[`${e}Component`];if(!this.suppressFallbackMethods&&n)return n.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function NC(e,t,n){e.forEach(r=>{const i=t[r];i&&(n[r]=i)})}var Mr=class extends BF{constructor(){super(...arguments),this.awaitUpdateCallback=new Et(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=r3}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:n=>this.setMethods(n),addUpdateCallback:n=>{this.updateCallback=()=>(n(this.getProps()),new Et(r=>{setTimeout(()=>{r()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,NC(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new Et(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},s3=class extends Mr{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},o3=class extends Mr{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},a3=class extends Mr{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:n,shake:r}=this;return e.label=t,e.icon=n,e.shake=r,e}},l3=class extends Mr{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterModifiedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1,this.awaitSetMethodsCallback=new Et(e=>{this.resolveSetMethodsCallback=e})}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){var n;const t=this.providedMethods;t?(n=t.afterGuiAttached)==null||n.call(t,e):this.awaitSetMethodsCallback.then(()=>{var r,i;return(i=(r=this.providedMethods)==null?void 0:r.afterGuiAttached)==null?void 0:i.call(r,e)})}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){var t;this.expectingNewMethods===!1&&this.hasBeenActive&&((t=this.providedMethods)==null?void 0:t.doesFilterPass)!==(e==null?void 0:e.doesFilterPass)&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e),this.resolveSetMethodsCallback()}updateModel(e){this.setModel(e).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,e}};function HF(e,t){e.parentFilterInstance(n=>{(n.setModel(t)||Et.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var u3=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=n=>this.updateModel(n)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){NC(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),HF(this.floatingFilterParams,e)}},c3=class extends Mr{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),HF(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},d3=class extends Mr{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},h3=class extends Mr{refresh(e){this.sourceParams=e,this.refreshProps()}},f3=class extends Mr{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},p3=class extends Mr{refresh(e){this.sourceParams=e,this.refreshProps()}},g3=class extends Mr{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},m3=class extends Mr{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function BC(){he(231)}var C3=1e3,v3=class{constructor(e,t,n){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=n||C3}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,n){this.portals=[...this.portals,e],this.waitForInstance(t,n),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,n=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-n>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return;window.setTimeout(()=>{this.waitForInstance(e,t,n)})}}},w3=({ctrl:e})=>{const t=e.isAlive(),{context:n}=w.useContext(dn),r=t?e.column.getColId():void 0,[i,s]=w.useState(),[o,l]=w.useState(),c=w.useRef(),d=w.useRef(null),f=w.useRef(null),p=w.useRef(null),m=w.useRef(),C=w.useRef();t&&!C.current&&(C.current=new yu(()=>d.current));const y=w.useCallback(E=>{var A;if(d.current=E,c.current=E?n.createBean(new Aa):n.destroyBean(c.current),!E||!t)return;const P={setWidth:O=>{d.current&&(d.current.style.width=O)},addOrRemoveCssClass:(O,T)=>C.current.addOrRemoveCssClass(O,T),setUserStyles:O=>l(O),setAriaSort:O=>{d.current&&(O?oO(d.current,O):aO(d.current))},setUserCompDetails:O=>s(O),getUserCompInstance:()=>m.current||void 0};e.setComp(P,E,f.current,p.current,c.current);const D=e.getSelectAllGui();D&&((A=f.current)==null||A.insertAdjacentElement("afterend",D),c.current.addDestroyFunc(()=>D.remove()))},[]);w.useLayoutEffect(()=>Ru(i,n,p.current,m),[i]),w.useEffect(()=>{e.setDragSource(d.current)},[i]);const b=w.useMemo(()=>!!((i==null?void 0:i.componentFromFramework)&&Ia(i.componentClass)),[i]),R=i&&i.componentFromFramework,x=i&&i.componentClass;return W.createElement("div",{ref:y,style:o,className:"ag-header-cell","col-id":r,role:"columnheader"},W.createElement("div",{ref:f,className:"ag-header-cell-resize",role:"presentation"}),W.createElement("div",{ref:p,className:"ag-header-cell-comp-wrapper",role:"presentation"},R&&b&&W.createElement(x,{...i.params}),R&&!b&&W.createElement(x,{...i.params,ref:m})))},y3=w.memo(w3),S3=({ctrl:e})=>{const{context:t,gos:n}=w.useContext(dn),[r,i]=w.useState(),[s,o]=w.useState(()=>new ir("ag-header-cell","ag-floating-filter")),[l,c]=w.useState(()=>new ir),[d,f]=w.useState(()=>new ir("ag-floating-filter-button","ag-hidden")),[p,m]=w.useState("false"),[C,y]=w.useState(),[,b]=w.useState(1),R=w.useRef(),x=w.useRef(null),E=w.useRef(null),P=w.useRef(null),D=w.useRef(null),A=w.useRef(),O=w.useRef(),T=B=>{B!=null&&A.current&&A.current(B)},G=w.useCallback(B=>{if(x.current=B,R.current=B?t.createBean(new Aa):t.destroyBean(R.current),!B)return;O.current=new Et(Z=>{A.current=Z});const ne={addOrRemoveCssClass:(Z,k)=>o(_=>_.setClass(Z,k)),setUserStyles:Z=>i(Z),addOrRemoveBodyCssClass:(Z,k)=>c(_=>_.setClass(Z,k)),setButtonWrapperDisplayed:Z=>{f(k=>k.setClass("ag-hidden",!Z)),m(Z?"false":"true")},setWidth:Z=>{x.current&&(x.current.style.width=Z)},setCompDetails:Z=>y(Z),getFloatingFilterComp:()=>O.current?O.current:null,setMenuIcon:Z=>{var k;return(k=D.current)==null?void 0:k.appendChild(Z)}};e.setComp(ne,B,D.current,E.current,R.current)},[]);w.useLayoutEffect(()=>Ru(C,t,E.current,T),[C]);const $=w.useMemo(()=>s.toString(),[s]),U=w.useMemo(()=>l.toString(),[l]),J=w.useMemo(()=>d.toString(),[d]),K=w.useMemo(()=>!!(C&&C.componentFromFramework&&Ia(C.componentClass)),[C]),Y=w.useMemo(()=>n.get("reactiveCustomComponents"),[]),le=w.useMemo(()=>{if(C)if(Y){const B=new u3(C.params,()=>b(ne=>ne+1));return T(B),B}else C.componentFromFramework&&BC()},[C]),fe=le==null?void 0:le.getProps(),ue=C&&C.componentFromFramework,ie=C&&C.componentClass;return W.createElement("div",{ref:G,style:r,className:$,role:"gridcell"},W.createElement("div",{ref:E,className:U,role:"presentation"},ue&&!Y&&W.createElement(ie,{...C.params,ref:K?()=>{}:T}),ue&&Y&&W.createElement(LC.Provider,{value:{setMethods:B=>le.setMethods(B)}},W.createElement(ie,{...fe}))),W.createElement("div",{ref:P,"aria-hidden":p,className:J,role:"presentation"},W.createElement("button",{ref:D,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},b3=w.memo(S3),R3=({ctrl:e})=>{const{context:t}=w.useContext(dn),[n,r]=w.useState(),[i,s]=w.useState(()=>new ir),[o,l]=w.useState(()=>new ir),[c,d]=w.useState("false"),[f,p]=w.useState(),[m,C]=w.useState(),y=w.useMemo(()=>e.column.getUniqueId(),[]),b=w.useRef(),R=w.useRef(null),x=w.useRef(null),E=w.useRef(null),P=w.useRef(),D=w.useCallback(U=>{if(R.current=U,b.current=U?t.createBean(new Aa):t.destroyBean(b.current),!U)return;const J={setWidth:K=>{R.current&&(R.current.style.width=K)},addOrRemoveCssClass:(K,Y)=>s(le=>le.setClass(K,Y)),setUserStyles:K=>r(K),setHeaderWrapperHidden:K=>{const Y=E.current;Y&&(K?Y.style.setProperty("display","none"):Y.style.removeProperty("display"))},setHeaderWrapperMaxHeight:K=>{const Y=E.current;Y&&(K!=null?Y.style.setProperty("max-height",`${K}px`):Y.style.removeProperty("max-height"),Y.classList.toggle("ag-header-cell-comp-wrapper-limited-height",K!=null))},setUserCompDetails:K=>C(K),setResizableDisplayed:K=>{l(Y=>Y.setClass("ag-hidden",!K)),d(K?"false":"true")},setAriaExpanded:K=>p(K),getUserCompInstance:()=>P.current||void 0};e.setComp(J,U,x.current,E.current,b.current)},[]);w.useLayoutEffect(()=>Ru(m,t,E.current),[m]),w.useEffect(()=>{R.current&&e.setDragSource(R.current)},[m]);const A=w.useMemo(()=>!!((m==null?void 0:m.componentFromFramework)&&Ia(m.componentClass)),[m]),O=w.useMemo(()=>"ag-header-group-cell "+i.toString(),[i]),T=w.useMemo(()=>"ag-header-cell-resize "+o.toString(),[o]),G=m&&m.componentFromFramework,$=m&&m.componentClass;return W.createElement("div",{ref:D,style:n,className:O,"col-id":y,role:"columnheader","aria-expanded":f},W.createElement("div",{ref:E,className:"ag-header-cell-comp-wrapper",role:"presentation"},G&&A&&W.createElement($,{...m.params}),G&&!A&&W.createElement($,{...m.params,ref:P})),W.createElement("div",{ref:x,"aria-hidden":c,className:T}))},x3=w.memo(R3),E3=({ctrl:e})=>{const{context:t}=w.useContext(dn),{topOffset:n,rowHeight:r}=w.useMemo(()=>e.getTopAndHeight(),[]),i=e.getAriaRowIndex(),s=e.headerRowClass,[o,l]=w.useState(()=>r+"px"),[c,d]=w.useState(()=>n+"px"),f=w.useRef(null),p=w.useRef(null),[m,C]=w.useState(()=>e.getHeaderCtrls()),y=w.useRef(),b=w.useRef(null),R=w.useCallback(P=>{if(b.current=P,y.current=P?t.createBean(new Aa):t.destroyBean(y.current),!P)return;const D={setHeight:A=>l(A),setTop:A=>d(A),setHeaderCtrls:(A,O,T)=>{p.current=f.current,f.current=A;const G=nh(p.current,A,O);G!==p.current&&th(T,()=>C(G))},setWidth:A=>{b.current&&(b.current.style.width=A)}};e.setComp(D,y.current,!1)},[]),x=w.useMemo(()=>({height:o,top:c}),[o,c]),E=w.useCallback(P=>{switch(e.type){case"group":return W.createElement(x3,{ctrl:P,key:P.instanceId});case"filter":return W.createElement(b3,{ctrl:P,key:P.instanceId});default:return W.createElement(y3,{ctrl:P,key:P.instanceId})}},[]);return W.createElement("div",{ref:R,className:s,role:"row",style:x,"aria-rowindex":i},m.map(E))},F3=w.memo(E3),P3=({pinned:e})=>{const[t,n]=w.useState(!0),[r,i]=w.useState([]),{context:s}=w.useContext(dn),o=w.useRef(null),l=w.useRef(null),c=w.useRef(),d=e==="left",f=e==="right",p=!d&&!f,m=w.useCallback(b=>{if(o.current=b,c.current=b?s.createBean(new jB(e)):s.destroyBean(c.current),!b)return;const R={setDisplayed:n,setCtrls:x=>i(x),setCenterWidth:x=>{l.current&&(l.current.style.width=x)},setViewportScrollLeft:x=>{o.current&&(o.current.scrollLeft=x)},setPinnedContainerWidth:x=>{o.current&&(o.current.style.width=x,o.current.style.minWidth=x,o.current.style.maxWidth=x)}};c.current.setComp(R,o.current)},[]),C=t?"":"ag-hidden",y=()=>r.map(b=>W.createElement(F3,{ctrl:b,key:b.instanceId}));return W.createElement(W.Fragment,null,d&&W.createElement("div",{ref:m,className:"ag-pinned-left-header "+C,"aria-hidden":!t,role:"rowgroup"},y()),f&&W.createElement("div",{ref:m,className:"ag-pinned-right-header "+C,"aria-hidden":!t,role:"rowgroup"},y()),p&&W.createElement("div",{ref:m,className:"ag-header-viewport "+C,role:"presentation"},W.createElement("div",{ref:l,className:"ag-header-container",role:"rowgroup"},y())))},Eg=w.memo(P3),D3=()=>{const[e,t]=w.useState(()=>new ir),[n,r]=w.useState(),{context:i}=w.useContext(dn),s=w.useRef(null),o=w.useRef(),l=w.useCallback(f=>{if(s.current=f,o.current=f?i.createBean(new VB):i.destroyBean(o.current),!f)return;const p={addOrRemoveCssClass:(m,C)=>t(y=>y.setClass(m,C)),setHeightAndMinHeight:m=>r(m)};o.current.setComp(p,f,f)},[]),c=w.useMemo(()=>"ag-header "+e.toString(),[e]),d=w.useMemo(()=>({height:n,minHeight:n}),[n]);return W.createElement("div",{ref:l,className:c,style:d,role:"presentation"},W.createElement(Eg,{pinned:"left"}),W.createElement(Eg,{pinned:null}),W.createElement(Eg,{pinned:"right"}))},T3=w.memo(D3),A3=(e,t)=>{w.useEffect(()=>{const n=t.current;if(n){const r=n.parentElement;if(r){const i=document.createComment(e);return r.insertBefore(i,n),()=>{r.removeChild(i)}}}},[e])},Us=A3,M3=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new Et(n=>{this.resolveInstanceCreated=n}),this.onValueChange=n=>this.updateValue(n),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){NC(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){var t;this.componentInstance=e,(t=this.resolveInstanceCreated)==null||t.call(this),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},k3=e=>{const t=w.useRef(e),n=w.useRef(),r=w.useRef(!1),i=w.useRef(!1),[,s]=w.useState(0);r.current&&(i.current=!0),w.useEffect(()=>(r.current||(n.current=t.current(),r.current=!0),s(o=>o+1),()=>{var o;i.current&&((o=n.current)==null||o.call(n))}),[])},I3=e=>{const[t,n]=w.useState(),{context:r,popupSvc:i,localeSvc:s,gos:o,editSvc:l}=w.useContext(dn);return k3(()=>{var O,T;const{editDetails:c,cellCtrl:d,eParentCell:f}=e,{compDetails:p}=c,m=o.get("stopEditingWhenCellsLoseFocus"),C=r.createBean(l.createPopupEditorWrapper(p.params)),y=C.getGui();if(e.jsChildComp){const G=e.jsChildComp.getGui();G&&y.appendChild(G)}const{column:b,rowNode:R}=d,x={column:b,rowNode:R,type:"popupCellEditor",eventSource:f,ePopup:y,position:c.popupPosition,keepWithinBounds:!0},E=i==null?void 0:i.positionPopupByComponent.bind(i,x),P=cE(s),D=i==null?void 0:i.addPopup({modal:m,eChild:y,closeOnEsc:!0,closedCallback:()=>{d.onPopupEditorClosed()},anchorToElement:f,positionCallback:E,ariaLabel:P("ariaLabelCellEditor","Cell Editor")}),A=D?D.hideFunc:void 0;return n(C),(T=(O=e.jsChildComp)==null?void 0:O.afterGuiAttached)==null||T.call(O),()=>{A==null||A(),r.destroyBean(C)}}),W.createElement(W.Fragment,null,t&&e.wrappedContent&&fu.createPortal(e.wrappedContent,t.getGui()))},yb=w.memo(I3),O3=(e,t,n,r,i,s)=>{const{context:o}=w.useContext(dn),l=w.useCallback(()=>{const c=i.current;if(!c)return;const d=c.getGui();d&&d.parentElement&&d.parentElement.removeChild(d),o.destroyBean(c),i.current=void 0},[]);w.useEffect(()=>{const c=e!=null,d=(e==null?void 0:e.compDetails)&&!e.compDetails.componentFromFramework,f=t&&n==null;if(!(c&&d&&!f)){l();return}const m=e.compDetails;if(i.current){const y=i.current,R=y.refresh!=null&&e.force==!1?y.refresh(m.params):!1;if(R===!0||R===void 0)return;l()}m.newAgStackInstance().then(y=>{if(!y)return;const b=y.getGui();if(!b)return;(t?n:s.current).appendChild(b),i.current=y})},[e,t,r]),w.useEffect(()=>l,[])},L3=O3,N3=(e,t,n)=>{const{compProxy:r}=e;n(r);const i=r.getProps(),s=Ia(t);return W.createElement(LC.Provider,{value:{setMethods:o=>r.setMethods(o)}},s?W.createElement(t,{...i}):W.createElement(t,{...i,ref:o=>r.setRef(o)}))},Sb=(e,t,n)=>{const r=e.compProxy;return W.createElement(W.Fragment,null,r?N3(e,t,n):W.createElement(t,{...e.compDetails.params,ref:n}))},B3=(e,t,n,r,i)=>{const s=e.compDetails,o=s.componentClass,l=s.componentFromFramework&&!e.popup,c=s.componentFromFramework&&e.popup,d=!s.componentFromFramework&&e.popup;return W.createElement(W.Fragment,null,l&&Sb(e,o,t),c&&W.createElement(yb,{editDetails:e,cellCtrl:r,eParentCell:n,wrappedContent:Sb(e,o,t)}),d&&i&&W.createElement(yb,{editDetails:e,cellCtrl:r,eParentCell:n,jsChildComp:i}))},H3=(e,t,n,r,i,s,o)=>{const{compDetails:l,value:c}=e,d=!l,f=l&&l.componentFromFramework,p=l&&l.componentClass,m=c!=null&&c.toString?c.toString():c,C=()=>W.createElement(W.Fragment,null,d&&W.createElement(W.Fragment,null,m),f&&!s&&W.createElement(p,{...l.params,key:t,ref:r}),f&&s&&W.createElement(p,{...l.params,key:t}));return W.createElement(W.Fragment,null,i?W.createElement("span",{role:"presentation",id:`cell-${n}`,className:"ag-cell-value",ref:o},C()):C())},G3=({cellCtrl:e,printLayout:t,editingRow:n})=>{const{context:r}=w.useContext(dn),{colIdSanitised:i,instanceId:s}=e,o=w.useRef(),[l,c]=w.useState(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[d,f]=w.useState(),[p,m]=w.useState(1),[C,y]=w.useState(),[b,R]=w.useState(!1),[x,E]=w.useState(!1),[P,D]=w.useState(!1),[A,O]=w.useState(),T=w.useMemo(()=>e.isForceWrapper(),[e]),G=w.useMemo(()=>e.getCellAriaRole(),[e]),$=w.useRef(null),U=w.useRef(null),J=w.useRef(null),K=w.useRef(),Y=w.useRef(),le=w.useRef(),fe=w.useRef([]),ue=w.useRef(),[ie,B]=w.useState(0),ne=w.useCallback(je=>{ue.current=je,B(Ye=>Ye+1)},[]),Z=l!=null&&(b||P||x),k=T||Z,_=w.useCallback(je=>{if(Y.current=je,je){const Ye=je.isCancelBeforeStart&&je.isCancelBeforeStart();setTimeout(()=>{Ye?(e.stopEditing(!0),e.focusCell(!0)):e.cellEditorAttached()})}},[e]),re=w.useRef();re.current||(re.current=new yu(()=>$.current)),L3(l,k,ue.current,ie,K,$);const se=w.useRef();w.useLayoutEffect(()=>{var Tt;const je=se.current,Ye=l;if(se.current=l,je==null||je.compDetails==null||Ye==null||Ye.compDetails==null)return;const ze=je.compDetails,ct=Ye.compDetails;if(ze.componentClass!=ct.componentClass||((Tt=J.current)==null?void 0:Tt.refresh)==null)return;J.current.refresh(ct.params)!=!0&&m(Bt=>Bt+1)},[l]),w.useLayoutEffect(()=>{if(!(d&&!d.compDetails.componentFromFramework))return;const Ye=d.compDetails,ze=d.popup===!0,ct=Ye.newAgStackInstance();return ct.then(qe=>{if(!qe)return;const Tt=qe.getGui();if(_(qe),!ze){const Bt=(T?le:$).current;Bt==null||Bt.appendChild(Tt),qe.afterGuiAttached&&qe.afterGuiAttached()}O(qe)}),()=>{ct.then(qe=>{var Bt;const Tt=qe.getGui();r.destroyBean(qe),_(void 0),O(void 0),(Bt=Tt==null?void 0:Tt.parentElement)==null||Bt.removeChild(Tt)})}},[d]);const me=w.useCallback(je=>{if(le.current=je,!je){fe.current.forEach(ze=>ze()),fe.current=[];return}const Ye=ze=>{if(ze){const ct=ze.getGui();je.insertAdjacentElement("afterbegin",ct),fe.current.push(()=>{r.destroyBean(ze),lo(ct)})}return ze};if(b){const ze=e.createSelectionCheckbox();Ye(ze)}P&&Ye(e.createDndSource()),x&&Ye(e.createRowDragComp())},[e,r,P,x,b]),ye=w.useCallback(()=>{const je=!e.isCellSpanning()||U.current,Ye=$.current;if(o.current=Ye?r.createBean(new Aa):r.destroyBean(o.current),!Ye||!je||!e)return;const ze={addOrRemoveCssClass:(qe,Tt)=>re.current.addOrRemoveCssClass(qe,Tt),setUserStyles:qe=>y(qe),getFocusableElement:()=>$.current,setIncludeSelection:qe=>R(qe),setIncludeRowDrag:qe=>E(qe),setIncludeDndSource:qe=>D(qe),getCellEditor:()=>Y.current||null,getCellRenderer:()=>J.current??K.current,getParentOfValue:()=>ue.current??le.current??$.current,setRenderDetails:(qe,Tt,Bt)=>{c(mt=>(mt==null?void 0:mt.compDetails)!==qe||(mt==null?void 0:mt.value)!==Tt||(mt==null?void 0:mt.force)!==Bt?{value:Tt,compDetails:qe,force:Bt}:mt)},setEditDetails:(qe,Tt,Bt,mt)=>{if(qe){let pt;mt?pt=new M3(qe.params,()=>m($n=>$n+1)):qe.componentFromFramework&&BC(),f({compDetails:qe,popup:Tt,popupPosition:Bt,compProxy:pt}),Tt||c(void 0)}else f(pt=>{pt!=null&&pt.compProxy&&(Y.current=void 0)})}},ct=le.current||void 0;e.setComp(ze,Ye,U.current??void 0,ct,t,n,o.current)},[]),Se=w.useCallback(je=>{$.current=je,ye()},[]),ke=w.useCallback(je=>{U.current=je,ye()},[]),Ve=w.useMemo(()=>{var Ye;return!!(((Ye=l==null?void 0:l.compDetails)==null?void 0:Ye.componentFromFramework)&&Ia(l.compDetails.componentClass))},[l]);w.useLayoutEffect(()=>{$.current&&(re.current.addOrRemoveCssClass("ag-cell-value",!k),re.current.addOrRemoveCssClass("ag-cell-inline-editing",!!d&&!d.popup),re.current.addOrRemoveCssClass("ag-cell-popup-editing",!!d&&!!d.popup),re.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!d||!!d.popup),e.setInlineEditingCss(),e.shouldRestoreFocus()&&!e.editing&&$.current.focus({preventScroll:!0}))});const Ze=()=>W.createElement(W.Fragment,null,l!=null&&H3(l,p,s,J,k,Ve,ne),d!=null&&B3(d,_,$.current,e,A)),Yt=w.useCallback(()=>e.onFocusOut(),[]),at=()=>W.createElement("div",{ref:Se,style:C,role:G,"col-id":i,onBlur:Yt},k?W.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:me},Ze()):Ze());return e.isCellSpanning()?W.createElement("div",{ref:ke,className:"ag-spanned-cell-wrapper",role:"presentation"},at()):at()},V3=w.memo(G3),W3=({rowCtrl:e,containerType:t})=>{const{context:n,gos:r}=w.useContext(dn),i=w.useRef(),s=w.useRef(e.getDomOrder()),o=e.isFullWidth(),l=e.rowNode.displayed,[c,d]=w.useState(()=>l?e.rowNode.getRowIndexString():null),[f,p]=w.useState(()=>e.rowId),[m,C]=w.useState(()=>e.businessKey),[y,b]=w.useState(()=>e.rowStyles),R=w.useRef(null),x=w.useRef(null),[E,P]=w.useState(()=>null),[D,A]=w.useState(),[O,T]=w.useState(()=>l?e.getInitialRowTop(t):void 0),[G,$]=w.useState(()=>l?e.getInitialTransform(t):void 0),U=w.useRef(null),J=w.useRef(),K=w.useRef(!1),[Y,le]=w.useState(0);w.useEffect(()=>{var me;if(K.current||!D||Y>10)return;const se=(me=U.current)==null?void 0:me.firstChild;se?(e.setupDetailRowAutoHeight(se),K.current=!0):le(ye=>ye+1)},[D,Y]);const fe=w.useRef();fe.current||(fe.current=new yu(()=>U.current));const ue=w.useCallback(se=>{if(U.current=se,i.current=se?n.createBean(new Aa):n.destroyBean(i.current),!se){e.unsetComp(t);return}if(!e.isAlive())return;const me={setTop:T,setTransform:$,addOrRemoveCssClass:(ye,Se)=>fe.current.addOrRemoveCssClass(ye,Se),setDomOrder:ye=>s.current=ye,setRowIndex:d,setRowId:p,setRowBusinessKey:C,setUserStyles:b,setCellCtrls:(ye,Se)=>{x.current=R.current,R.current=ye;const ke=nh(x.current,ye,s.current);ke!==x.current&&th(Se,()=>P(ke))},showFullWidth:ye=>A(ye),getFullWidthCellRenderer:()=>J.current,refreshFullWidth:ye=>k.current?(A(Se=>({...Se,params:ye()})),!0):!J.current||!J.current.refresh?!1:J.current.refresh(ye())};e.setComp(me,se,t,i.current)},[]);w.useLayoutEffect(()=>Ru(D,n,U.current,J),[D]);const ie=w.useMemo(()=>{const se={top:O,transform:G};return Object.assign(se,y),se},[O,G,y]),B=o&&(D==null?void 0:D.componentFromFramework),ne=!o&&E!=null,Z=w.useMemo(()=>!!((D==null?void 0:D.componentFromFramework)&&Ia(D.componentClass)),[D]),k=w.useRef(!1);w.useEffect(()=>{k.current=Z&&!!D&&!!r.get("reactiveCustomComponents")},[Z,D]);const _=()=>E==null?void 0:E.map(se=>W.createElement(V3,{cellCtrl:se,editingRow:e.editing,printLayout:e.printLayout,key:se.instanceId})),re=()=>{const se=D.componentClass;return W.createElement(W.Fragment,null,Z?W.createElement(se,{...D.params}):W.createElement(se,{...D.params,ref:J}))};return W.createElement("div",{ref:ue,role:"row",style:ie,"row-index":c,"row-id":f,"row-business-key":m},ne&&_(),B&&re())},bb=w.memo(W3),_3=({name:e})=>{const{context:t,gos:n}=w.useContext(dn),r=w.useMemo(()=>Su(e),[e]),i=w.useRef(null),s=w.useRef(null),o=w.useRef(null),l=w.useRef([]),c=w.useRef([]),[d,f]=w.useState(()=>[]),p=!!n.get("enableCellSpan")&&!!r.getSpannedRowCtrls,m=w.useRef([]),C=w.useRef([]),[y,b]=w.useState(()=>[]),R=w.useRef(!1),x=w.useRef(),E=w.useMemo(()=>tr("ag-viewport",x0(e)),[e]),P=w.useMemo(()=>tr(hd(e)),[e]),D=w.useMemo(()=>tr("ag-spanning-container",wB(e)),[e]),A=r.type==="center"||p,O=A?i:s;Us(" AG Row Container "+e+" ",O);const T=w.useCallback(()=>{const fe=!A||i.current!=null,ue=s.current!=null,ie=!p||o.current!=null;return fe&&ue&&ie},[]),G=w.useCallback(()=>i.current==null&&s.current==null&&o.current==null,[]),$=w.useCallback(()=>{if(G()&&(x.current=t.destroyBean(x.current)),T()){const fe=B=>{const ne=nh(c.current,l.current,R.current);ne!==c.current&&(c.current=ne,th(B,()=>f(ne)))},ue=B=>{const ne=nh(C.current,m.current,R.current);ne!==C.current&&(C.current=ne,th(B,()=>b(ne)))},ie={setHorizontalScroll:B=>{i.current&&(i.current.scrollLeft=B)},setViewportHeight:B=>{i.current&&(i.current.style.height=B)},setRowCtrls:({rowCtrls:B,useFlushSync:ne})=>{const Z=!!ne&&l.current.length>0&&B.length>0;l.current=B,fe(Z)},setSpannedRowCtrls:(B,ne)=>{const Z=!!ne&&m.current.length>0&&B.length>0;m.current=B,ue(Z)},setDomOrder:B=>{R.current!=B&&(R.current=B,fe(!1))},setContainerWidth:B=>{s.current&&(s.current.style.width=B)},setOffsetTop:B=>{s.current&&(s.current.style.transform=`translateY(${B})`)}};x.current=t.createBean(new TB(e)),x.current.setComp(ie,s.current,o.current??void 0,i.current)}},[T,G]),U=w.useCallback(fe=>{s.current=fe,$()},[$]),J=w.useCallback(fe=>{o.current=fe,$()},[$]),K=w.useCallback(fe=>{i.current=fe,$()},[$]),Y=()=>W.createElement("div",{className:P,ref:U,role:"rowgroup"},d.map(fe=>W.createElement(bb,{rowCtrl:fe,containerType:r.type,key:fe.instanceId})));if(!A)return Y();const le=()=>p&&W.createElement("div",{className:D,ref:J,role:"rowgroup"},y.map(fe=>W.createElement(bb,{rowCtrl:fe,containerType:r.type,key:fe.instanceId})));return W.createElement("div",{className:E,ref:K,role:"presentation"},Y(),le())},z3=w.memo(_3),j3=()=>{const e=w.useContext(dn),{context:t,overlays:n}=e,[r,i]=w.useState(""),[s,o]=w.useState(0),[l,c]=w.useState(0),[d,f]=w.useState("0px"),[p,m]=w.useState("0px"),[C,y]=w.useState("100%"),[b,R]=w.useState("0px"),[x,E]=w.useState("0px"),[P,D]=w.useState("100%"),[A,O]=w.useState(""),[T,G]=w.useState(""),[$,U]=w.useState(null),[J,K]=w.useState(""),[Y,le]=w.useState(null),[fe,ue]=w.useState("ag-layout-normal"),ie=w.useRef();ie.current||(ie.current=new yu(()=>B.current));const B=w.useRef(null),ne=w.useRef(null),Z=w.useRef(null),k=w.useRef(null),_=w.useRef(null),re=w.useRef(null),se=w.useRef(null),me=w.useRef([]),ye=w.useRef([]);Us(" AG Grid Body ",B),Us(" AG Pinned Top ",ne),Us(" AG Sticky Top ",Z),Us(" AG Middle ",re),Us(" AG Pinned Bottom ",se);const Se=w.useCallback(pt=>{if(B.current=pt,!pt){me.current=t.destroyBeans(me.current),ye.current.forEach(Je=>Je()),ye.current=[];return}if(!t)return;const $n=(Je,Ct)=>{Je.appendChild(Ct),ye.current.push(()=>Je.removeChild(Ct))},Ii=Je=>{const Ct=t.createBean(new Je);return me.current.push(Ct),Ct},rn=(Je,Ct,Or)=>{$n(Je,document.createComment(Or)),$n(Je,Ii(Ct).getGui())};rn(pt,OB," AG Fake Horizontal Scroll ");const ur=n==null?void 0:n.getOverlayWrapperCompClass();ur&&rn(pt,ur," AG Overlay Wrapper "),_.current&&rn(_.current,LB," AG Fake Vertical Scroll ");const xs={setRowAnimationCssOnBodyViewport:i,setColumnCount:Je=>{B.current&&iO(B.current,Je)},setRowCount:Je=>{B.current&&nO(B.current,Je)},setTopHeight:o,setBottomHeight:c,setStickyTopHeight:f,setStickyTopTop:m,setStickyTopWidth:y,setTopDisplay:O,setBottomDisplay:G,setColumnMovingCss:(Je,Ct)=>ie.current.addOrRemoveCssClass(Je,Ct),updateLayoutClasses:ue,setAlwaysVerticalScrollClass:U,setPinnedTopBottomOverflowY:K,setCellSelectableCss:(Je,Ct)=>le(Ct?Je:null),setBodyViewportWidth:Je=>{re.current&&(re.current.style.width=Je)},registerBodyViewportResizeListener:Je=>{if(re.current){const Ct=Mi(e,re.current,Je);ye.current.push(()=>Ct())}},setStickyBottomHeight:R,setStickyBottomBottom:E,setStickyBottomWidth:D,setGridRootRole:Je=>pt.setAttribute("role",Je)},Ir=t.createBean(new IB);me.current.push(Ir),Ir.setComp(xs,pt,re.current,ne.current,se.current,Z.current,k.current)},[]),ke=w.useMemo(()=>tr("ag-root","ag-unselectable",fe),[fe]),Ve=w.useMemo(()=>tr("ag-body-viewport",r,fe,$,Y),[r,fe,$,Y]),Ze=w.useMemo(()=>tr("ag-body",fe),[fe]),Yt=w.useMemo(()=>tr("ag-floating-top",Y),[Y]),at=w.useMemo(()=>tr("ag-sticky-top",Y),[Y]),je=w.useMemo(()=>tr("ag-sticky-bottom",b==="0px"?"ag-hidden":null,Y),[Y,b]),Ye=w.useMemo(()=>tr("ag-floating-bottom",Y),[Y]),ze=w.useMemo(()=>({height:s,minHeight:s,display:A,overflowY:J}),[s,A,J]),ct=w.useMemo(()=>({height:d,top:p,width:C}),[d,p,C]),qe=w.useMemo(()=>({height:b,bottom:x,width:P}),[b,x,P]),Tt=w.useMemo(()=>({height:l,minHeight:l,display:T,overflowY:J}),[l,T,J]),Bt=pt=>W.createElement(z3,{name:pt,key:`${pt}-container`}),mt=({section:pt,children:$n,className:Ii,style:rn})=>W.createElement("div",{ref:pt,className:Ii,role:"presentation",style:rn},$n.map(Bt));return W.createElement("div",{ref:Se,className:ke},W.createElement(T3,null),mt({section:ne,className:Yt,style:ze,children:["topLeft","topCenter","topRight","topFullWidth"]}),W.createElement("div",{className:Ze,ref:_,role:"presentation"},mt({section:re,className:Ve,children:["left","center","right","fullWidth"]})),mt({section:Z,className:at,style:ct,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),mt({section:k,className:je,style:qe,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),mt({section:se,className:Ye,style:Tt,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},U3=w.memo(j3),$3=(e,t)=>{const{children:n,eFocusableElement:r,onTabKeyDown:i,gridCtrl:s,forceFocusOutWhenTabGuardsAreEmpty:o,isEmpty:l}=e,{context:c}=w.useContext(dn),d=w.useRef(null),f=w.useRef(null),p=w.useRef(),m=x=>{const E=x==null?void 0:parseInt(x,10).toString();[d,f].forEach(P=>{var D,A;E===void 0?(D=P.current)==null||D.removeAttribute("tabindex"):(A=P.current)==null||A.setAttribute("tabindex",E)})};w.useImperativeHandle(t,()=>({forceFocusOutOfContainer(x){var E;(E=p.current)==null||E.forceFocusOutOfContainer(x)}}));const C=w.useCallback(()=>{const x=d.current,E=f.current;if(!x&&!E){p.current=c.destroyBean(p.current);return}if(x&&E){const P={setTabIndex:m};p.current=c.createBean(new O0({comp:P,eTopGuard:x,eBottomGuard:E,eFocusableElement:r,onTabKeyDown:i,forceFocusOutWhenTabGuardsAreEmpty:o,focusInnerElement:D=>s.focusInnerElement(D),isEmpty:l}))}},[]),y=w.useCallback(x=>{d.current=x,C()},[C]),b=w.useCallback(x=>{f.current=x,C()},[C]),R=x=>{const E=x==="top"?oa.TAB_GUARD_TOP:oa.TAB_GUARD_BOTTOM;return W.createElement("div",{className:`${oa.TAB_GUARD} ${E}`,role:"presentation",ref:x==="top"?y:b})};return W.createElement(W.Fragment,null,R("top"),n,R("bottom"))},K3=w.forwardRef($3),q3=w.memo(K3),Y3=({context:e})=>{const[t,n]=w.useState(""),[r,i]=w.useState(""),[s,o]=w.useState(null),[l,c]=w.useState(null),[d,f]=w.useState(!1),[p,m]=w.useState(),C=w.useRef(),y=w.useRef(null),b=w.useRef(),[R,x]=w.useState(null),E=w.useRef(()=>{}),P=w.useRef(),D=w.useRef([]),A=w.useCallback(()=>{},[]),O=w.useMemo(()=>e.isDestroyed()?null:e.getBeans(),[e]);Us(" AG Grid ",y);const T=w.useCallback(Y=>{if(y.current=Y,C.current=Y?e.createBean(new PH):e.destroyBean(C.current),!Y||e.isDestroyed())return;const le=C.current;E.current=le.focusInnerElement.bind(le);const fe={destroyGridUi:()=>{},setRtlClass:n,forceFocusOutOfContainer:ue=>{var ie,B;if(!ue&&((ie=P.current)!=null&&ie.isDisplayed())){P.current.forceFocusOutOfContainer(ue);return}(B=b.current)==null||B.forceFocusOutOfContainer(ue)},updateLayoutClasses:i,getFocusableContainers:()=>{var B;const ue=[],ie=(B=y.current)==null?void 0:B.querySelector(".ag-root");return ie&&ue.push({getGui:()=>ie}),D.current.forEach(ne=>{ne.isDisplayed()&&ue.push(ne)}),ue},setCursor:o,setUserSelect:c};le.setComp(fe,Y,Y),f(!0)},[]);w.useEffect(()=>{const Y=C.current,le=y.current;if(!p||!O||!Y||!R||!le)return;const fe=[],{watermarkSelector:ue,paginationSelector:ie,sideBarSelector:B,statusBarSelector:ne,gridHeaderDropZonesSelector:Z}=Y.getOptionalSelectors(),k=[];if(Z){const re=e.createBean(new Z.component),se=re.getGui();le.insertAdjacentElement("afterbegin",se),k.push(se),fe.push(re)}if(B){const re=e.createBean(new B.component),se=re.getGui(),me=R.querySelector(".ag-tab-guard-bottom");me&&(me.insertAdjacentElement("beforebegin",se),k.push(se)),fe.push(re),D.current.push(re)}const _=re=>{const se=e.createBean(new re),me=se.getGui();return le.insertAdjacentElement("beforeend",me),k.push(me),fe.push(se),se};if(ne&&_(ne.component),ie){const re=_(ie.component);P.current=re,D.current.push(re)}return ue&&_(ue.component),()=>{e.destroyBeans(fe),k.forEach(re=>{var se;(se=re.parentElement)==null||se.removeChild(re)})}},[p,R,O]);const G=w.useMemo(()=>tr("ag-root-wrapper",t,r),[t,r]),$=w.useMemo(()=>tr("ag-root-wrapper-body","ag-focus-managed",r),[r]),U=w.useMemo(()=>({userSelect:l??"",WebkitUserSelect:l??"",cursor:s??""}),[l,s]),J=w.useCallback(Y=>{b.current=Y,m(Y!==null)},[]),K=w.useCallback(()=>{var Y;return!((Y=C.current)!=null&&Y.isFocusable())},[]);return W.createElement("div",{ref:T,className:G,style:U,role:"presentation"},W.createElement("div",{className:$,ref:x,role:"presentation"},d&&R&&O&&W.createElement(dn.Provider,{value:O},W.createElement(q3,{ref:J,eFocusableElement:R,onTabKeyDown:A,gridCtrl:C.current,forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:K},W.createElement(U3,null)))))},Q3=w.memo(Y3),J3=class extends te{wireBeans(e){this.ctrlsSvc=e.ctrlsSvc}areHeaderCellsRendered(){return this.ctrlsSvc.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}},X3={gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,setGridApi:void 0,componentWrappingElement:void 0,maxComponentCreationTimeMs:void 0,children:void 0},GF=new Set(Object.keys(X3)),VF=e=>{var R;const t=w.useRef(),n=w.useRef(null),r=w.useRef(null),i=w.useRef([]),s=w.useRef([]),o=w.useRef(e),l=w.useRef(),c=w.useRef(),d=w.useRef(!1),[f,p]=w.useState(void 0),[,m]=w.useState(0),C=w.useCallback(x=>{if(n.current=x,!x){i.current.forEach(J=>J()),i.current.length=0;return}const E=e.modules||[];r.current||(r.current=new v3(()=>m(J=>J+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),i.current.push(()=>{var J;(J=r.current)==null||J.destroy(),r.current=null}));const P=GO(e.gridOptions,e,Object.keys(e).filter(J=>!GF.has(J))),D=()=>{if(d.current){const J=()=>{var Y;return(Y=l.current)!=null&&Y.shouldQueueUpdates()?void 0:s.current.shift()};let K=J();for(;K;)K(),K=J()}},A=new n4(D);l.current=A;const O=new J3,T={providedBeanInstances:{frameworkCompWrapper:new e4(r.current,P.reactiveCustomComponents??L2("reactiveCustomComponents")??!0),renderStatus:O},modules:E,frameworkOverrides:A,setThemeOnGridDiv:!0},G=J=>{p(J),J.createBean(O),i.current.push(()=>{J.destroy()}),J.getBean("ctrlsSvc").whenReady({addDestroyFunc:K=>{i.current.push(K)}},()=>{var Y;if(J.isDestroyed())return;const K=t.current;K&&((Y=e.setGridApi)==null||Y.call(e,K))})},$=J=>{J.getBean("ctrlsSvc").whenReady({addDestroyFunc:K=>{i.current.push(K)}},()=>{s.current.forEach(K=>K()),s.current.length=0,d.current=!0})},U=new B2;P.gridId??(P.gridId=c.current),t.current=U.create(x,P,G,$,T),i.current.push(()=>{t.current=void 0}),t.current&&(c.current=t.current.getGridId())},[]),y=w.useMemo(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),b=w.useCallback(x=>{var E;d.current&&!((E=l.current)!=null&&E.shouldQueueUpdates())?x():s.current.push(x)},[]);return w.useEffect(()=>{const x=Z3(o.current,e);o.current=e,b(()=>{t.current&&VO(x,t.current)})},[e]),W.createElement("div",{style:y,className:e.className,ref:C},f&&!f.isDestroyed()?W.createElement(Q3,{context:f}):null,((R=r.current)==null?void 0:R.getPortals())??null)};function Z3(e,t){const n={};return Object.keys(t).forEach(r=>{if(GF.has(r))return;const i=t[r];e[r]!==i&&(n[r]=i)}),n}var e4=class extends Y2{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){const i=(s=>{switch(s){case"filter":return l3;case"floatingFilterComponent":return c3;case"dateComponent":return o3;case"dragAndDropImageComponent":return a3;case"loadingOverlayComponent":return h3;case"noRowsOverlayComponent":return p3;case"statusPanel":return g3;case"toolPanel":return m3;case"menuItem":return f3;case"cellRenderer":return s3;case"innerHeaderComponent":return d3}})(t.name);if(i)return new i(e,this.parent,t)}else switch(t.name){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":BC();break}const n=!t.cellRenderer&&t.name!=="toolPanel";return new BF(e,this.parent,t,n)}},t4=w.forwardRef((e,t)=>{const n=w.useContext(dn),{registry:r,context:i,gos:s,rowModel:o}=n,[l,c]=w.useState(()=>new ir),[d,f]=w.useState(()=>new ir),[p,m]=w.useState(),[C,y]=w.useState(),b=w.useRef(),R=w.useRef(null),x=w.useRef(),E=w.useMemo(()=>hN(e.api.getGridId(),(p==null?void 0:p.rowModelType)??"clientSide"),[e]),P=w.useMemo(()=>l.toString()+" ag-details-row",[l]),D=w.useMemo(()=>d.toString()+" ag-details-grid",[d]);t&&w.useImperativeHandle(t,()=>({refresh(){var T;return((T=b.current)==null?void 0:T.refresh())??!1}})),e.template&&he(230);const A=w.useCallback(T=>{var U;if(R.current=T,!T){b.current=i.destroyBean(b.current),(U=x.current)==null||U.call(x);return}const G={addOrRemoveCssClass:(J,K)=>c(Y=>Y.setClass(J,K)),addOrRemoveDetailGridCssClass:(J,K)=>f(Y=>Y.setClass(J,K)),setDetailGrid:J=>m(J),setRowData:J=>y(J),getGui:()=>R.current},$=r.createDynamicBean("detailCellRendererCtrl",!0);if($&&(i.createBean($),$.init(G,e),b.current=$,s.get("detailRowAutoHeight"))){const J=()=>{if(R.current==null)return;const K=R.current.clientHeight;K!=null&&K>0&&setTimeout(()=>{e.node.setRowHeight(K),(un(s)||mo(s))&&o.onRowHeightChanged()},0)};x.current=Mi(n,T,J),J()}},[]),O=w.useCallback(T=>{var G;(G=b.current)==null||G.registerDetailWithMaster(T)},[]);return W.createElement("div",{className:P,ref:A},p&&W.createElement(VF,{className:D,...p,modules:E,rowData:C,setGridApi:O}))}),n4=class extends L0{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.frameworkComponents={agGroupCellRenderer:vb,agGroupRowRenderer:vb,agDetailCellRenderer:t4},this.wrapIncoming=(t,n)=>n==="ensureVisible"?t3(t):t(),this.renderingEngine="react"}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return e3()}},Oa=class extends w.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(t=>t(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return W.createElement(VF,{...this.props,setGridApi:this.setGridApi})}};function WF(e,t){return function(){return e.apply(t,arguments)}}const{toString:r4}=Object.prototype,{getPrototypeOf:HC}=Object,Dh=(e=>t=>{const n=r4.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),kr=e=>(e=e.toLowerCase(),t=>Dh(t)===e),Th=e=>t=>typeof t===e,{isArray:La}=Array,au=Th("undefined");function i4(e){return e!==null&&!au(e)&&e.constructor!==null&&!au(e.constructor)&&Wn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const _F=kr("ArrayBuffer");function s4(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&_F(e.buffer),t}const o4=Th("string"),Wn=Th("function"),zF=Th("number"),Ah=e=>e!==null&&typeof e=="object",a4=e=>e===!0||e===!1,md=e=>{if(Dh(e)!=="object")return!1;const t=HC(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},l4=kr("Date"),u4=kr("File"),c4=kr("Blob"),d4=kr("FileList"),h4=e=>Ah(e)&&Wn(e.pipe),f4=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Wn(e.append)&&((t=Dh(e))==="formdata"||t==="object"&&Wn(e.toString)&&e.toString()==="[object FormData]"))},p4=kr("URLSearchParams"),[g4,m4,C4,v4]=["ReadableStream","Request","Response","Headers"].map(kr),w4=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xu(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),La(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const s=n?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let l;for(r=0;r<o;r++)l=s[r],t.call(null,e[l],l,e)}}function jF(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const qs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,UF=e=>!au(e)&&e!==qs;function bm(){const{caseless:e}=UF(this)&&this||{},t={},n=(r,i)=>{const s=e&&jF(t,i)||i;md(t[s])&&md(r)?t[s]=bm(t[s],r):md(r)?t[s]=bm({},r):La(r)?t[s]=r.slice():t[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&xu(arguments[r],n);return t}const y4=(e,t,n,{allOwnKeys:r}={})=>(xu(t,(i,s)=>{n&&Wn(i)?e[s]=WF(i,n):e[s]=i},{allOwnKeys:r}),e),S4=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),b4=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},R4=(e,t,n,r)=>{let i,s,o;const l={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)o=i[s],(!r||r(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=n!==!1&&HC(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},x4=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},E4=e=>{if(!e)return null;if(La(e))return e;let t=e.length;if(!zF(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},F4=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&HC(Uint8Array)),P4=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=r.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},D4=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},T4=kr("HTMLFormElement"),A4=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),Rb=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),M4=kr("RegExp"),$F=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};xu(n,(i,s)=>{let o;(o=t(i,s,e))!==!1&&(r[s]=o||i)}),Object.defineProperties(e,r)},k4=e=>{$F(e,(t,n)=>{if(Wn(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Wn(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},I4=(e,t)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return La(e)?r(e):r(String(e).split(t)),n},O4=()=>{},L4=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function N4(e){return!!(e&&Wn(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const B4=e=>{const t=new Array(10),n=(r,i)=>{if(Ah(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const s=La(r)?[]:{};return xu(r,(o,l)=>{const c=n(o,i+1);!au(c)&&(s[l]=c)}),t[i]=void 0,s}}return r};return n(e,0)},H4=kr("AsyncFunction"),G4=e=>e&&(Ah(e)||Wn(e))&&Wn(e.then)&&Wn(e.catch),KF=((e,t)=>e?setImmediate:t?((n,r)=>(qs.addEventListener("message",({source:i,data:s})=>{i===qs&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),qs.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Wn(qs.postMessage)),V4=typeof queueMicrotask<"u"?queueMicrotask.bind(qs):typeof process<"u"&&process.nextTick||KF,ee={isArray:La,isArrayBuffer:_F,isBuffer:i4,isFormData:f4,isArrayBufferView:s4,isString:o4,isNumber:zF,isBoolean:a4,isObject:Ah,isPlainObject:md,isReadableStream:g4,isRequest:m4,isResponse:C4,isHeaders:v4,isUndefined:au,isDate:l4,isFile:u4,isBlob:c4,isRegExp:M4,isFunction:Wn,isStream:h4,isURLSearchParams:p4,isTypedArray:F4,isFileList:d4,forEach:xu,merge:bm,extend:y4,trim:w4,stripBOM:S4,inherits:b4,toFlatObject:R4,kindOf:Dh,kindOfTest:kr,endsWith:x4,toArray:E4,forEachEntry:P4,matchAll:D4,isHTMLForm:T4,hasOwnProperty:Rb,hasOwnProp:Rb,reduceDescriptors:$F,freezeMethods:k4,toObjectSet:I4,toCamelCase:A4,noop:O4,toFiniteNumber:L4,findKey:jF,global:qs,isContextDefined:UF,isSpecCompliantForm:N4,toJSONObject:B4,isAsyncFn:H4,isThenable:G4,setImmediate:KF,asap:V4};function $e(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}ee.inherits($e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ee.toJSONObject(this.config),code:this.code,status:this.status}}});const qF=$e.prototype,YF={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{YF[e]={value:e}});Object.defineProperties($e,YF);Object.defineProperty(qF,"isAxiosError",{value:!0});$e.from=(e,t,n,r,i,s)=>{const o=Object.create(qF);return ee.toFlatObject(e,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),$e.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const W4=null;function Rm(e){return ee.isPlainObject(e)||ee.isArray(e)}function QF(e){return ee.endsWith(e,"[]")?e.slice(0,-2):e}function xb(e,t,n){return e?e.concat(t).map(function(i,s){return i=QF(i),!n&&s?"["+i+"]":i}).join(n?".":""):t}function _4(e){return ee.isArray(e)&&!e.some(Rm)}const z4=ee.toFlatObject(ee,{},null,function(t){return/^is[A-Z]/.test(t)});function Mh(e,t,n){if(!ee.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=ee.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,R){return!ee.isUndefined(R[b])});const r=n.metaTokens,i=n.visitor||f,s=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&ee.isSpecCompliantForm(t);if(!ee.isFunction(i))throw new TypeError("visitor must be a function");function d(y){if(y===null)return"";if(ee.isDate(y))return y.toISOString();if(!c&&ee.isBlob(y))throw new $e("Blob is not supported. Use a Buffer instead.");return ee.isArrayBuffer(y)||ee.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function f(y,b,R){let x=y;if(y&&!R&&typeof y=="object"){if(ee.endsWith(b,"{}"))b=r?b:b.slice(0,-2),y=JSON.stringify(y);else if(ee.isArray(y)&&_4(y)||(ee.isFileList(y)||ee.endsWith(b,"[]"))&&(x=ee.toArray(y)))return b=QF(b),x.forEach(function(P,D){!(ee.isUndefined(P)||P===null)&&t.append(o===!0?xb([b],D,s):o===null?b:b+"[]",d(P))}),!1}return Rm(y)?!0:(t.append(xb(R,b,s),d(y)),!1)}const p=[],m=Object.assign(z4,{defaultVisitor:f,convertValue:d,isVisitable:Rm});function C(y,b){if(!ee.isUndefined(y)){if(p.indexOf(y)!==-1)throw Error("Circular reference detected in "+b.join("."));p.push(y),ee.forEach(y,function(x,E){(!(ee.isUndefined(x)||x===null)&&i.call(t,x,ee.isString(E)?E.trim():E,b,m))===!0&&C(x,b?b.concat(E):[E])}),p.pop()}}if(!ee.isObject(e))throw new TypeError("data must be an object");return C(e),t}function Eb(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function GC(e,t){this._pairs=[],e&&Mh(e,this,t)}const JF=GC.prototype;JF.append=function(t,n){this._pairs.push([t,n])};JF.toString=function(t){const n=t?function(r){return t.call(this,r,Eb)}:Eb;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function j4(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function XF(e,t,n){if(!t)return e;const r=n&&n.encode||j4;ee.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(t,n):s=ee.isURLSearchParams(t)?t.toString():new GC(t,n).toString(r),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class Fb{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ee.forEach(this.handlers,function(r){r!==null&&t(r)})}}const ZF={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},U4=typeof URLSearchParams<"u"?URLSearchParams:GC,$4=typeof FormData<"u"?FormData:null,K4=typeof Blob<"u"?Blob:null,q4={isBrowser:!0,classes:{URLSearchParams:U4,FormData:$4,Blob:K4},protocols:["http","https","file","blob","url","data"]},VC=typeof window<"u"&&typeof document<"u",xm=typeof navigator=="object"&&navigator||void 0,Y4=VC&&(!xm||["ReactNative","NativeScript","NS"].indexOf(xm.product)<0),Q4=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",J4=VC&&window.location.href||"http://localhost",X4=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:VC,hasStandardBrowserEnv:Y4,hasStandardBrowserWebWorkerEnv:Q4,navigator:xm,origin:J4},Symbol.toStringTag,{value:"Module"})),cn={...X4,...q4};function Z4(e,t){return Mh(e,new cn.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return cn.isNode&&ee.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function e5(e){return ee.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function t5(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}function eP(e){function t(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=s>=n.length;return o=!o&&ee.isArray(i)?i.length:o,c?(ee.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!l):((!i[o]||!ee.isObject(i[o]))&&(i[o]=[]),t(n,r,i[o],s)&&ee.isArray(i[o])&&(i[o]=t5(i[o])),!l)}if(ee.isFormData(e)&&ee.isFunction(e.entries)){const n={};return ee.forEachEntry(e,(r,i)=>{t(e5(r),i,n,0)}),n}return null}function n5(e,t,n){if(ee.isString(e))try{return(t||JSON.parse)(e),ee.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Eu={transitional:ZF,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=ee.isObject(t);if(s&&ee.isHTMLForm(t)&&(t=new FormData(t)),ee.isFormData(t))return i?JSON.stringify(eP(t)):t;if(ee.isArrayBuffer(t)||ee.isBuffer(t)||ee.isStream(t)||ee.isFile(t)||ee.isBlob(t)||ee.isReadableStream(t))return t;if(ee.isArrayBufferView(t))return t.buffer;if(ee.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Z4(t,this.formSerializer).toString();if((l=ee.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Mh(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),n5(t)):t}],transformResponse:[function(t){const n=this.transitional||Eu.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(ee.isResponse(t)||ee.isReadableStream(t))return t;if(t&&ee.isString(t)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(l){if(o)throw l.name==="SyntaxError"?$e.from(l,$e.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:cn.classes.FormData,Blob:cn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ee.forEach(["delete","get","head","post","put","patch"],e=>{Eu.headers[e]={}});const r5=ee.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),i5=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||t[n]&&r5[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Pb=Symbol("internals");function Al(e){return e&&String(e).trim().toLowerCase()}function Cd(e){return e===!1||e==null?e:ee.isArray(e)?e.map(Cd):String(e)}function s5(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const o5=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Fg(e,t,n,r,i){if(ee.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!ee.isString(t)){if(ee.isString(r))return t.indexOf(r)!==-1;if(ee.isRegExp(r))return r.test(t)}}function a5(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function l5(e,t){const n=ee.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,s,o){return this[r].call(this,t,i,s,o)},configurable:!0})})}let Tn=class{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function s(l,c,d){const f=Al(c);if(!f)throw new Error("header name must be a non-empty string");const p=ee.findKey(i,f);(!p||i[p]===void 0||d===!0||d===void 0&&i[p]!==!1)&&(i[p||c]=Cd(l))}const o=(l,c)=>ee.forEach(l,(d,f)=>s(d,f,c));if(ee.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(ee.isString(t)&&(t=t.trim())&&!o5(t))o(i5(t),n);else if(ee.isHeaders(t))for(const[l,c]of t.entries())s(c,l,r);else t!=null&&s(n,t,r);return this}get(t,n){if(t=Al(t),t){const r=ee.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return s5(i);if(ee.isFunction(n))return n.call(this,i,r);if(ee.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Al(t),t){const r=ee.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Fg(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function s(o){if(o=Al(o),o){const l=ee.findKey(r,o);l&&(!n||Fg(r,r[l],l,n))&&(delete r[l],i=!0)}}return ee.isArray(t)?t.forEach(s):s(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!t||Fg(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const n=this,r={};return ee.forEach(this,(i,s)=>{const o=ee.findKey(r,s);if(o){n[o]=Cd(i),delete n[s];return}const l=t?a5(s):String(s).trim();l!==s&&delete n[s],n[l]=Cd(i),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return ee.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&ee.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[Pb]=this[Pb]={accessors:{}}).accessors,i=this.prototype;function s(o){const l=Al(o);r[l]||(l5(i,o),r[l]=!0)}return ee.isArray(t)?t.forEach(s):s(t),this}};Tn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ee.reduceDescriptors(Tn.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});ee.freezeMethods(Tn);function Pg(e,t){const n=this||Eu,r=t||n,i=Tn.from(r.headers);let s=r.data;return ee.forEach(e,function(l){s=l.call(n,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function tP(e){return!!(e&&e.__CANCEL__)}function Na(e,t,n){$e.call(this,e??"canceled",$e.ERR_CANCELED,t,n),this.name="CanceledError"}ee.inherits(Na,$e,{__CANCEL__:!0});function nP(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new $e("Request failed with status code "+n.status,[$e.ERR_BAD_REQUEST,$e.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function u5(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function c5(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,s=0,o;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),f=r[s];o||(o=d),n[i]=c,r[i]=d;let p=s,m=0;for(;p!==i;)m+=n[p++],p=p%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),d-o<t)return;const C=f&&d-f;return C?Math.round(m*1e3/C):void 0}}function d5(e,t){let n=0,r=1e3/t,i,s;const o=(d,f=Date.now())=>{n=f,i=null,s&&(clearTimeout(s),s=null),e.apply(null,d)};return[(...d)=>{const f=Date.now(),p=f-n;p>=r?o(d,f):(i=d,s||(s=setTimeout(()=>{s=null,o(i)},r-p)))},()=>i&&o(i)]}const rh=(e,t,n=3)=>{let r=0;const i=c5(50,250);return d5(s=>{const o=s.loaded,l=s.lengthComputable?s.total:void 0,c=o-r,d=i(c),f=o<=l;r=o;const p={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&f?(l-o)/d:void 0,event:s,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(p)},n)},Db=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Tb=e=>(...t)=>ee.asap(()=>e(...t)),h5=cn.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,cn.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(cn.origin),cn.navigator&&/(msie|trident)/i.test(cn.navigator.userAgent)):()=>!0,f5=cn.hasStandardBrowserEnv?{write(e,t,n,r,i,s){const o=[e+"="+encodeURIComponent(t)];ee.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),ee.isString(r)&&o.push("path="+r),ee.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function p5(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function g5(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function rP(e,t,n){let r=!p5(t);return e&&r||n==!1?g5(e,t):t}const Ab=e=>e instanceof Tn?{...e}:e;function fo(e,t){t=t||{};const n={};function r(d,f,p,m){return ee.isPlainObject(d)&&ee.isPlainObject(f)?ee.merge.call({caseless:m},d,f):ee.isPlainObject(f)?ee.merge({},f):ee.isArray(f)?f.slice():f}function i(d,f,p,m){if(ee.isUndefined(f)){if(!ee.isUndefined(d))return r(void 0,d,p,m)}else return r(d,f,p,m)}function s(d,f){if(!ee.isUndefined(f))return r(void 0,f)}function o(d,f){if(ee.isUndefined(f)){if(!ee.isUndefined(d))return r(void 0,d)}else return r(void 0,f)}function l(d,f,p){if(p in t)return r(d,f);if(p in e)return r(void 0,d)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,f,p)=>i(Ab(d),Ab(f),p,!0)};return ee.forEach(Object.keys(Object.assign({},e,t)),function(f){const p=c[f]||i,m=p(e[f],t[f],f);ee.isUndefined(m)&&p!==l||(n[f]=m)}),n}const iP=e=>{const t=fo({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:l}=t;t.headers=o=Tn.from(o),t.url=XF(rP(t.baseURL,t.url),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(ee.isFormData(n)){if(cn.hasStandardBrowserEnv||cn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[d,...f]=c?c.split(";").map(p=>p.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...f].join("; "))}}if(cn.hasStandardBrowserEnv&&(r&&ee.isFunction(r)&&(r=r(t)),r||r!==!1&&h5(t.url))){const d=i&&s&&f5.read(s);d&&o.set(i,d)}return t},m5=typeof XMLHttpRequest<"u",C5=m5&&function(e){return new Promise(function(n,r){const i=iP(e);let s=i.data;const o=Tn.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=i,f,p,m,C,y;function b(){C&&C(),y&&y(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let R=new XMLHttpRequest;R.open(i.method.toUpperCase(),i.url,!0),R.timeout=i.timeout;function x(){if(!R)return;const P=Tn.from("getAllResponseHeaders"in R&&R.getAllResponseHeaders()),A={data:!l||l==="text"||l==="json"?R.responseText:R.response,status:R.status,statusText:R.statusText,headers:P,config:e,request:R};nP(function(T){n(T),b()},function(T){r(T),b()},A),R=null}"onloadend"in R?R.onloadend=x:R.onreadystatechange=function(){!R||R.readyState!==4||R.status===0&&!(R.responseURL&&R.responseURL.indexOf("file:")===0)||setTimeout(x)},R.onabort=function(){R&&(r(new $e("Request aborted",$e.ECONNABORTED,e,R)),R=null)},R.onerror=function(){r(new $e("Network Error",$e.ERR_NETWORK,e,R)),R=null},R.ontimeout=function(){let D=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const A=i.transitional||ZF;i.timeoutErrorMessage&&(D=i.timeoutErrorMessage),r(new $e(D,A.clarifyTimeoutError?$e.ETIMEDOUT:$e.ECONNABORTED,e,R)),R=null},s===void 0&&o.setContentType(null),"setRequestHeader"in R&&ee.forEach(o.toJSON(),function(D,A){R.setRequestHeader(A,D)}),ee.isUndefined(i.withCredentials)||(R.withCredentials=!!i.withCredentials),l&&l!=="json"&&(R.responseType=i.responseType),d&&([m,y]=rh(d,!0),R.addEventListener("progress",m)),c&&R.upload&&([p,C]=rh(c),R.upload.addEventListener("progress",p),R.upload.addEventListener("loadend",C)),(i.cancelToken||i.signal)&&(f=P=>{R&&(r(!P||P.type?new Na(null,e,R):P),R.abort(),R=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const E=u5(i.url);if(E&&cn.protocols.indexOf(E)===-1){r(new $e("Unsupported protocol "+E+":",$e.ERR_BAD_REQUEST,e));return}R.send(s||null)})},v5=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const s=function(d){if(!i){i=!0,l();const f=d instanceof Error?d:this.reason;r.abort(f instanceof $e?f:new Na(f instanceof Error?f.message:f))}};let o=t&&setTimeout(()=>{o=null,s(new $e(`timeout ${t} of ms exceeded`,$e.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(s):d.removeEventListener("abort",s)}),e=null)};e.forEach(d=>d.addEventListener("abort",s));const{signal:c}=r;return c.unsubscribe=()=>ee.asap(l),c}},w5=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},y5=async function*(e,t){for await(const n of S5(e))yield*w5(n,t)},S5=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Mb=(e,t,n,r)=>{const i=y5(e,t);let s=0,o,l=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:f}=await i.next();if(d){l(),c.close();return}let p=f.byteLength;if(n){let m=s+=p;n(m)}c.enqueue(new Uint8Array(f))}catch(d){throw l(d),d}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},kh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",sP=kh&&typeof ReadableStream=="function",b5=kh&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),oP=(e,...t)=>{try{return!!e(...t)}catch{return!1}},R5=sP&&oP(()=>{let e=!1;const t=new Request(cn.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),kb=64*1024,Em=sP&&oP(()=>ee.isReadableStream(new Response("").body)),ih={stream:Em&&(e=>e.body)};kh&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!ih[t]&&(ih[t]=ee.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new $e(`Response type '${t}' is not supported`,$e.ERR_NOT_SUPPORT,r)})})})(new Response);const x5=async e=>{if(e==null)return 0;if(ee.isBlob(e))return e.size;if(ee.isSpecCompliantForm(e))return(await new Request(cn.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(ee.isArrayBufferView(e)||ee.isArrayBuffer(e))return e.byteLength;if(ee.isURLSearchParams(e)&&(e=e+""),ee.isString(e))return(await b5(e)).byteLength},E5=async(e,t)=>{const n=ee.toFiniteNumber(e.getContentLength());return n??x5(t)},F5=kh&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:f,withCredentials:p="same-origin",fetchOptions:m}=iP(e);d=d?(d+"").toLowerCase():"text";let C=v5([i,s&&s.toAbortSignal()],o),y;const b=C&&C.unsubscribe&&(()=>{C.unsubscribe()});let R;try{if(c&&R5&&n!=="get"&&n!=="head"&&(R=await E5(f,r))!==0){let A=new Request(t,{method:"POST",body:r,duplex:"half"}),O;if(ee.isFormData(r)&&(O=A.headers.get("content-type"))&&f.setContentType(O),A.body){const[T,G]=Db(R,rh(Tb(c)));r=Mb(A.body,kb,T,G)}}ee.isString(p)||(p=p?"include":"omit");const x="credentials"in Request.prototype;y=new Request(t,{...m,signal:C,method:n.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:x?p:void 0});let E=await fetch(y);const P=Em&&(d==="stream"||d==="response");if(Em&&(l||P&&b)){const A={};["status","statusText","headers"].forEach($=>{A[$]=E[$]});const O=ee.toFiniteNumber(E.headers.get("content-length")),[T,G]=l&&Db(O,rh(Tb(l),!0))||[];E=new Response(Mb(E.body,kb,T,()=>{G&&G(),b&&b()}),A)}d=d||"text";let D=await ih[ee.findKey(ih,d)||"text"](E,e);return!P&&b&&b(),await new Promise((A,O)=>{nP(A,O,{data:D,headers:Tn.from(E.headers),status:E.status,statusText:E.statusText,config:e,request:y})})}catch(x){throw b&&b(),x&&x.name==="TypeError"&&/fetch/i.test(x.message)?Object.assign(new $e("Network Error",$e.ERR_NETWORK,e,y),{cause:x.cause||x}):$e.from(x,x&&x.code,e,y)}}),Fm={http:W4,xhr:C5,fetch:F5};ee.forEach(Fm,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Ib=e=>`- ${e}`,P5=e=>ee.isFunction(e)||e===null||e===!1,aP={getAdapter:e=>{e=ee.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let s=0;s<t;s++){n=e[s];let o;if(r=n,!P5(n)&&(r=Fm[(o=String(n)).toLowerCase()],r===void 0))throw new $e(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=t?s.length>1?`since :
`+s.map(Ib).join(`
`):" "+Ib(s[0]):"as no adapter specified";throw new $e("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Fm};function Dg(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Na(null,e)}function Ob(e){return Dg(e),e.headers=Tn.from(e.headers),e.data=Pg.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),aP.getAdapter(e.adapter||Eu.adapter)(e).then(function(r){return Dg(e),r.data=Pg.call(e,e.transformResponse,r),r.headers=Tn.from(r.headers),r},function(r){return tP(r)||(Dg(e),r&&r.response&&(r.response.data=Pg.call(e,e.transformResponse,r.response),r.response.headers=Tn.from(r.response.headers))),Promise.reject(r)})}const lP="1.8.1",Ih={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ih[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Lb={};Ih.transitional=function(t,n,r){function i(s,o){return"[Axios v"+lP+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,l)=>{if(t===!1)throw new $e(i(o," has been removed"+(n?" in "+n:"")),$e.ERR_DEPRECATED);return n&&!Lb[o]&&(Lb[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(s,o,l):!0}};Ih.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function D5(e,t,n){if(typeof e!="object")throw new $e("options must be an object",$e.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],o=t[s];if(o){const l=e[s],c=l===void 0||o(l,s,e);if(c!==!0)throw new $e("option "+s+" must be "+c,$e.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new $e("Unknown option "+s,$e.ERR_BAD_OPTION)}}const vd={assertOptions:D5,validators:Ih},jr=vd.validators;let ro=class{constructor(t){this.defaults=t,this.interceptors={request:new Fb,response:new Fb}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=fo(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&vd.assertOptions(r,{silentJSONParsing:jr.transitional(jr.boolean),forcedJSONParsing:jr.transitional(jr.boolean),clarifyTimeoutError:jr.transitional(jr.boolean)},!1),i!=null&&(ee.isFunction(i)?n.paramsSerializer={serialize:i}:vd.assertOptions(i,{encode:jr.function,serialize:jr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),vd.assertOptions(n,{baseUrl:jr.spelling("baseURL"),withXsrfToken:jr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&ee.merge(s.common,s[n.method]);s&&ee.forEach(["delete","get","head","post","put","patch","common"],y=>{delete s[y]}),n.headers=Tn.concat(o,s);const l=[];let c=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(c=c&&b.synchronous,l.unshift(b.fulfilled,b.rejected))});const d=[];this.interceptors.response.forEach(function(b){d.push(b.fulfilled,b.rejected)});let f,p=0,m;if(!c){const y=[Ob.bind(this),void 0];for(y.unshift.apply(y,l),y.push.apply(y,d),m=y.length,f=Promise.resolve(n);p<m;)f=f.then(y[p++],y[p++]);return f}m=l.length;let C=n;for(p=0;p<m;){const y=l[p++],b=l[p++];try{C=y(C)}catch(R){b.call(this,R);break}}try{f=Ob.call(this,C)}catch(y){return Promise.reject(y)}for(p=0,m=d.length;p<m;)f=f.then(d[p++],d[p++]);return f}getUri(t){t=fo(this.defaults,t);const n=rP(t.baseURL,t.url,t.allowAbsoluteUrls);return XF(n,t.params,t.paramsSerializer)}};ee.forEach(["delete","get","head","options"],function(t){ro.prototype[t]=function(n,r){return this.request(fo(r||{},{method:t,url:n,data:(r||{}).data}))}});ee.forEach(["post","put","patch"],function(t){function n(r){return function(s,o,l){return this.request(fo(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}ro.prototype[t]=n(),ro.prototype[t+"Form"]=n(!0)});let T5=class uP{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(l=>{r.subscribe(l),s=l}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},t(function(s,o,l){r.reason||(r.reason=new Na(s,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new uP(function(i){t=i}),cancel:t}}};function A5(e){return function(n){return e.apply(null,n)}}function M5(e){return ee.isObject(e)&&e.isAxiosError===!0}const Pm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Pm).forEach(([e,t])=>{Pm[t]=e});function cP(e){const t=new ro(e),n=WF(ro.prototype.request,t);return ee.extend(n,ro.prototype,t,{allOwnKeys:!0}),ee.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return cP(fo(e,i))},n}const Dt=cP(Eu);Dt.Axios=ro;Dt.CanceledError=Na;Dt.CancelToken=T5;Dt.isCancel=tP;Dt.VERSION=lP;Dt.toFormData=Mh;Dt.AxiosError=$e;Dt.Cancel=Dt.CanceledError;Dt.all=function(t){return Promise.all(t)};Dt.spread=A5;Dt.isAxiosError=M5;Dt.mergeConfig=fo;Dt.AxiosHeaders=Tn;Dt.formToJSON=e=>eP(ee.isHTMLForm(e)?new FormData(e):e);Dt.getAdapter=aP.getAdapter;Dt.HttpStatusCode=Pm;Dt.default=Dt;const{Axios:q7,AxiosError:Y7,CanceledError:Q7,isCancel:J7,CancelToken:X7,VERSION:Z7,all:e8,Cancel:t8,isAxiosError:n8,spread:r8,toFormData:i8,AxiosHeaders:s8,HttpStatusCode:o8,formToJSON:a8,getAdapter:l8,mergeConfig:u8}=Dt,dP="SAVE_EVENTS",hP="SELECT_EVENT",fP="SELECT_NAME",pP="SAVE_RESULTS",gP="SAVE_FIGHT_RESULTS",mP="SAVE_NAME",CP="SELECT_FIGHT_NAMES",vP="FILTER_CLASSES";function Fu(e){return{type:hP,raceID:e}}function WC(e){return{type:fP,name:e}}function k5(e){return{type:dP,events:e.events,champions:e.champions}}function I5(e){return{type:mP,results:e}}function Tg(e,t){return{type:CP,name1:e,name2:t}}function O5(e){return{type:pP,results:e}}function L5(e){return{type:gP,fightResults:e}}function N5(e){return{type:vP,filter:e}}const Pu={headers:{Accept:"application/json"},baseURL:"/arbor/api"};function _C(e){return function(t){Dt.get("/person/"+e,Pu).then(n=>{t(I5(n.data))}).catch(function(n){console.log(n)})}}function B5(){return function(e){Dt.get("/events",Pu).then(t=>{e(k5(t.data))}).catch(function(t){console.log(t)})}}function Du(e){return function(t){Dt.get("/event/"+e,Pu).then(n=>{t(O5(n.data))}).catch(function(n){console.log(n)})}}function H5(e,t){return function(n){Dt.get("/fight/"+e+"/"+t,Pu).then(r=>{n(L5(r.data))}).catch(function(r){console.log(r)})}}const Nb=[{name:"British Long",abbr:"BOC"},{name:"British Middle",abbr:"BMC"},{name:"British Sprint",abbr:"BSC"},{name:"British Night",abbr:"BNC"},{name:"JK Sprint",abbr:"JK Sprint"},{name:"JK Day 1",abbr:"JK Day 1"},{name:"JK Day 2",abbr:"JK Day 2"}],G5=e=>{if(e.length>0){const t=Nb.findIndex(function(n){return n.name===e[0].Event});return t>-1?Nb[t].abbr+" "+e[0].Year:null}else return null},wP=e=>e.data.Link===""||e.data.Link===null?"":I.jsx("a",{href:e.data.Link,target:"_blank",rel:"noreferrer",children:"Map"}),yP=e=>parseInt(e.value,10)===999?"-":e.value,Bb=()=>{const e=br(d=>d.events.eventData),t=Cu(),n=Di(),r=d=>{d.api.autoSizeAllColumns()},i=d=>{const f=d.node.data.RaceID;t(Fu(f)),t(Du(f)),n("/event/"+f)},s=w.useMemo(()=>[{headerName:"RaceID",field:"RaceID",hide:"true"},{headerName:"Event",field:"Event"},{headerName:"Year",field:"Year",cellClass:"center-text"},{headerName:"Date",field:"Date",cellClass:"center-text"},{headerName:"Club",field:"Club",cellClass:"center-text"},{headerName:"Classes",field:"Classes",cellClass:"center-text"},{headerName:"Runners",field:"Runners",cellClass:"center-text"},{headerName:"Area",field:"Area"},{headerName:"Link",field:"Link",cellRenderer:wP,filter:!1,sortable:!1},{headerName:"Assoc",field:"Association",cellClass:"center-text"}],[]),o=w.useMemo(()=>({sortable:!0,filter:!0}),[]);w.useEffect(()=>{document.title="Arbor"},[]);const l={type:"fitCellContents"},c={mode:"singleRow",enableClickSelection:"enableSelection",checkboxes:!1};return I.jsx("div",{className:"row",children:I.jsx("div",{className:"col-md-12",children:I.jsxs(Wt,{className:"mb-3",children:[I.jsx(Wt.Header,{className:"bg-arbor text-white",children:"All Events"}),I.jsx(Wt.Body,{className:"ag-theme-balham",style:{padding:0,height:"400px"},children:I.jsx(Oa,{onGridReady:r,onGridSizeChanged:r,autoSizeStrategy:l,suppressColumnVirtualisation:!0,onRowSelected:i,rowData:e,columnDefs:s,defaultColDef:o,rowSelection:c})})]})})})},V5=()=>{const e=br(d=>d.events.champions),t=Cu(),n=Di(),r=d=>{const f=parseInt(d.data.RaceID,10);if(f<1e4){const p=d.column.colId;if(p==="M"||p==="W"){const m=p==="M"?d.data.M:d.data.W;/.*[(|/]/.test(m)||(t(WC(m)),t(_C(m)),n("/person/"+m))}else t(Fu(f)),t(Du(f)),n("/event/"+f)}},i=w.useMemo(()=>[{headerName:"RaceID",field:"RaceID",hide:"true"},{headerName:"Event",field:"Event"},{headerName:"Year",field:"Year",cellClass:"center-text"},{headerName:"Area",field:"Area"},{headerName:"Assoc",field:"Association",cellClass:"center-text"},{headerName:"Men",field:"M"},{headerName:"Women",field:"W"}],[]),s=w.useMemo(()=>({sortable:!0,filter:!0}),[]);w.useEffect(()=>{document.title="Arbor | Champions"},[]);const o={type:"fitCellContents"},l=d=>{d.api.autoSizeAllColumns()},c={mode:"singleRow",enableClickSelection:"enableSelection",checkboxes:!1};return I.jsx("div",{className:"row",children:I.jsx("div",{className:"col-md-12",children:I.jsxs(Wt,{className:"mb-3",children:[I.jsx(Wt.Header,{className:"bg-arbor text-white",children:"Champions"}),I.jsx(Wt.Body,{className:"ag-theme-balham",style:{padding:0,height:"400px"},children:I.jsx(Oa,{onFirstDataRendered:l,onGridSizeChanged:l,autoSizeStrategy:o,suppressColumnVirtualisation:!0,rowData:e,onCellClicked:d=>r(d),columnDefs:i,defaultColDef:s,rowSelection:c})})]})})})},W5=e=>{const t=c=>e.results.reduce(function(f,p){return p.Event===c?f+1:f},0),n=w.useMemo(()=>[{headerName:"RaceID",field:"RaceID",hide:"true"},{headerName:"Event",field:"Event"},{headerName:"Year",field:"Year",cellClass:"center-text"},{headerName:"Area",field:"Area",flex:1},{headerName:"Class",field:"Class",cellClass:"center-text"},{headerName:"Position",field:"Position",cellClass:"center-text",cellRenderer:yP},{headerName:"Name",field:"Name"},{headerName:"Club",field:"Club",cellClass:"center-text"},{headerName:"Time",field:"Time",cellClass:"center-text"}],[]),r=w.useMemo(()=>({sortable:!0,filter:!0}),[]),i={type:"fitCellContents"},s=c=>{c.api.autoSizeAllColumns()},o={mode:"singleRow",enableClickSelection:"enableSelection",checkboxes:!1};let l;return e.results.length===0?l="Results":l="Results for "+e.name,I.jsx("div",{className:"row",children:I.jsx("div",{className:"col-md-12",children:I.jsxs(Wt,{className:"mb-3",children:[I.jsxs(Wt.Header,{className:"bg-arbor text-white",children:[l,I.jsxs(Hn,{bg:"warning",text:"dark",children:["Total ",e.results.length]}),I.jsxs(Hn,{bg:"warning",text:"dark",children:["BOC ",t("British Long")]}),I.jsxs(Hn,{bg:"warning",text:"dark",children:["BSC ",t("British Sprint")]}),I.jsxs(Hn,{bg:"warning",text:"dark",children:["BMC ",t("British Middle")]}),I.jsxs(Hn,{bg:"warning",text:"dark",children:["BNC ",t("British Night")]}),I.jsxs(Hn,{bg:"warning",text:"dark",children:["JKD1 ",t("JK Day 1")]}),I.jsxs(Hn,{bg:"warning",text:"dark",children:["JKD2 ",t("JK Day 2")]}),I.jsxs(Hn,{bg:"warning",text:"dark",children:["JKS ",t("JK Sprint")]})]}),I.jsx(Wt.Body,{className:"ag-theme-balham",style:{padding:0,height:"400px"},children:I.jsx(Oa,{onFirstDataRendered:s,onGridSizeChanged:s,autoSizeStrategy:i,suppressColumnVirtualisation:!0,onRowSelected:e.onRowSelected,rowData:e.results,columnDefs:n,defaultColDef:r,rowSelection:o})})]})})})};function ya(e){"@babel/helpers - typeof";return ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ya(e)}function _5(e,t){if(ya(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ya(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SP(e){var t=_5(e,"string");return ya(t)=="symbol"?t:t+""}function He(e,t,n){return(t=SP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nn(e,t){if(e==null)return{};var n,r,i=$m(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Ag,Hb;function z5(){if(Hb)return Ag;Hb=1;var e="Expected a function",t=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt,c=typeof Hc=="object"&&Hc&&Hc.Object===Object&&Hc,d=typeof self=="object"&&self&&self.Object===Object&&self,f=c||d||Function("return this")(),p=Object.prototype,m=p.toString,C=Math.max,y=Math.min,b=function(){return f.Date.now()};function R(A,O,T){var G,$,U,J,K,Y,le=0,fe=!1,ue=!1,ie=!0;if(typeof A!="function")throw new TypeError(e);O=D(O)||0,x(T)&&(fe=!!T.leading,ue="maxWait"in T,U=ue?C(D(T.maxWait)||0,O):U,ie="trailing"in T?!!T.trailing:ie);function B(Se){var ke=G,Ve=$;return G=$=void 0,le=Se,J=A.apply(Ve,ke),J}function ne(Se){return le=Se,K=setTimeout(_,O),fe?B(Se):J}function Z(Se){var ke=Se-Y,Ve=Se-le,Ze=O-ke;return ue?y(Ze,U-Ve):Ze}function k(Se){var ke=Se-Y,Ve=Se-le;return Y===void 0||ke>=O||ke<0||ue&&Ve>=U}function _(){var Se=b();if(k(Se))return re(Se);K=setTimeout(_,Z(Se))}function re(Se){return K=void 0,ie&&G?B(Se):(G=$=void 0,J)}function se(){K!==void 0&&clearTimeout(K),le=0,G=Y=$=K=void 0}function me(){return K===void 0?J:re(b())}function ye(){var Se=b(),ke=k(Se);if(G=arguments,$=this,Y=Se,ke){if(K===void 0)return ne(Y);if(ue)return K=setTimeout(_,O),B(Y)}return K===void 0&&(K=setTimeout(_,O)),J}return ye.cancel=se,ye.flush=me,ye}function x(A){var O=typeof A;return!!A&&(O=="object"||O=="function")}function E(A){return!!A&&typeof A=="object"}function P(A){return typeof A=="symbol"||E(A)&&m.call(A)==n}function D(A){if(typeof A=="number")return A;if(P(A))return t;if(x(A)){var O=typeof A.valueOf=="function"?A.valueOf():A;A=x(O)?O+"":O}if(typeof A!="string")return A===0?A:+A;A=A.replace(r,"");var T=s.test(A);return T||o.test(A)?l(A.slice(2),T?2:8):i.test(A)?t:+A}return Ag=R,Ag}var j5=z5();const U5=Pi(j5);function $5(){const[,e]=w.useReducer(t=>!t,!1);return e}function K5(e){const t=w.useRef(null);return w.useEffect(()=>{t.current=e}),t.current}var q5=["justify","left","right"],bP="label",Y5=["lg","sm"];function Dm(e){return typeof e=="string"?e:bP}function sh(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Gb=0;function kn(e){return typeof e=="function"}function xr(e){return typeof e=="string"}function En(){}function wd(e,t){var n={};return t.forEach(function(r){n[r]=e[r]}),n}function Q5(e){return Gb+=1,String(e)+Gb}function ei(e,t){if(!xr(e)&&(sh(e,"paginationOption")||sh(e,"customOption")))return e[Dm(t)];var n;return kn(t)?n=t(e):xr(e)?n=e:n=e[t],xr(n)||Rx(!1),n}function J5(e,t){var n=t.allowNew,r=t.labelKey,i=t.text;return!n||!i.trim()?!1:kn(n)?n(e,t):!e.some(function(s){return ei(s,r)===i})}var Mg,Vb;function X5(){return Vb||(Vb=1,Mg=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}),Mg}var Z5=X5();const Nl=Pi(Z5);function io(e,t){if(!xr(e))return e[t]}var eK=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹÐ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"OE",letters:"Œ"},{base:"oe",letters:"œ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}].reduce(function(e,t){var n=t.base,r=t.letters;return r.split("").forEach(function(i){e[i]=n}),e},{}),tK="̀-ͯ",nK="゙゚";function oh(e){return e.normalize("NFD").replace(new RegExp("[".concat(tK).concat(nK,"]"),"g"),"").replace(/[^\u0000-\u007E]/g,function(t){return eK[t]||t})}var Wb={};function In(e,t){if(!e&&t.indexOf("deprecated")!==-1){if(Wb[t])return;Wb[t]=!0}for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];JI.apply(void 0,[e,"[react-bootstrap-typeahead] ".concat(t)].concat(r))}function kg(e,t,n){var r=e,i=t;return n.caseSensitive||(r=r.toLowerCase(),i=i.toLowerCase()),n.ignoreDiacritics&&(r=oh(r),i=oh(i)),i.indexOf(r)!==-1}function rK(e,t){var n=t.filterBy,r=t.labelKey,i=t.multiple,s=t.selected,o=t.text;if(i&&s.some(function(c){return Nl(c,e)}))return!1;if(kn(r))return kg(o,r(e),t);var l=n.slice();return xr(r)&&l.indexOf(r)===-1&&l.unshift(r),xr(e)?(In(l.length<=1,"You cannot filter by properties when `option` is a string."),kg(o,e,t)):l.some(function(c){var d=io(e,c);return xr(d)||(In(!1,"Fields passed to `filterBy` should have string values. Value will be converted to a string; results may be unexpected."),d=String(d)),kg(o,d,t)})}function RP(e){return e.selectionStart!=null}function iK(e,t){var n=!1;return e.key==="ArrowRight"&&(n=RP(e.currentTarget)?e.currentTarget.selectionStart===e.currentTarget.value.length:!0),e.key==="Tab"&&(e.preventDefault(),n=!0),t?t(n,e):n}var sK="i",Ig=/[\u0300-\u036F]/;function oK(e){return typeof e!="string"&&Rx(!1),e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function xP(e,t){var n=new RegExp(oK(oh(t)),sK),r=n.exec(oh(e));if(!r)return null;var i=r.index,s=r[0].length;if(Ig.test(e)){for(var o=0;o<=i;o++)Ig.test(e[o])&&(i+=1);for(var l=i;l<=i+s;l++)Ig.test(e[l])&&(s+=1)}return{end:i+s,start:i}}function aK(e){var t=e.activeIndex,n=e.initialItem,r=e.isFocused,i=e.isMenuShown,s=e.labelKey,o=e.multiple,l=e.selected,c=e.text;if(!c||!r||!i||!n||!xr(n)&&sh(n,"customOption")||!xr(n)&&n.disabled||t>-1||l.length&&!o)return"";var d=ei(n,s),f=xP(d.toLowerCase(),c.toLowerCase());return f&&f.start===0?c+d.slice(f.end,d.length):""}function EP(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"".concat(e,"-item-").concat(t)}var lK=["activeIndex","id","isFocused","isMenuShown","multiple","onClick","onFocus","placeholder"];function _b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function td(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_b(Object(n),!0).forEach(function(r){He(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_b(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var uK=function(t){var n=t.activeIndex,r=t.id,i=t.isFocused,s=t.isMenuShown,o=t.multiple,l=t.onClick,c=t.onFocus,d=t.placeholder,f=nn(t,lK);return function(){var p,m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C=sh(m,"className")?String(m.className):void 0;return td(td(td(td({autoComplete:"off",placeholder:d,type:"text"},m),f),{},{"aria-activedescendant":n>=0?EP(r,n):void 0,"aria-autocomplete":"both","aria-expanded":s,"aria-haspopup":"listbox","aria-multiselectable":o||void 0,"aria-owns":s?r:void 0,className:Ke((p={},He(p,C||"",!o),He(p,"focus",i),p))},o&&{inputClassName:C}),{},{onClick:l,onFocus:c,role:"combobox"})}};function cK(e){var t=e.activeItem,n=e.labelKey,r=e.multiple,i=e.selected,s=e.text;return t?ei(t,n):!r&&i.length&&i[0]?ei(i[0],n):s}function zb(e){var t=e.allowNew,n=e.highlightOnlyResult,r=e.results;return!n||t?!1:r.length===1&&!io(r[0],"disabled")}function dK(e,t){return!t||t>=e.length?e:e.slice(0,t)}function hK(e,t){var n=t[e];return!!n&&!!io(n,"disabled")}function jb(e,t,n){for(var r=e;hK(r,n);)r+=t==="ArrowUp"?-1:1;return r}function fK(e,t,n){var r=e;return r+=t==="ArrowUp"?-1:1,r=jb(r,t,n),r===n.length?r=-1:r===-2&&(r=n.length-1,r=jb(r,t,n)),r}function pK(e){var t=e.open,n=e.minLength,r=e.showMenu,i=e.text;return t||t===!1?t:i.length<n?!1:r}function zC(e){e.preventDefault()}function jC(e){return e==="lg"}function FP(e){return e==="sm"}var gK=["className","isInvalid","isValid","size"];function Ub(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $b(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ub(Object(n),!0).forEach(function(r){He(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ub(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PP(e){var t=e.className,n=e.isInvalid,r=e.isValid,i=e.size,s=nn(e,gK);return $b($b({},s),{},{className:Ke("form-control","rbt-input",{"form-control-lg":jC(i),"form-control-sm":FP(i),"is-invalid":n,"is-valid":r},t)})}function mK(e,t){var n=!e&&t,r=e&&!t,i,s,o;n?(i="uncontrolled",s="controlled",o="an"):(i="controlled",s="uncontrolled",o="a");var l="You are changing ".concat(o," ").concat(i," typeahead to be ").concat(s,". ")+"Input elements should not switch from ".concat(i," to ").concat(s," (or vice versa). ")+"Decide between using a controlled or uncontrolled element for the lifetime of the component.";In(!(n||r),l)}var CK=[{alt:"onBlur",prop:"onBlur"},{alt:"onInputChange",prop:"onChange"},{alt:"onFocus",prop:"onFocus"},{alt:"onKeyDown",prop:"onKeyDown"}],DP=ge.oneOf(Y5);function Kr(e,t){return function(n,r,i){ge.checkPropTypes(He({},r,e),n,"prop",i),kn(t)&&t(n,r,i)}}function vK(e){var t=e.caseSensitive,n=e.filterBy;In(!t||typeof n!="function","Your `filterBy` function will override the `caseSensitive` prop.")}function wK(e){var t=e.defaultInputValue,n=e.defaultSelected,r=e.multiple,i=e.selected,s=n.length?"defaultSelected":"selected";In(!(!r&&t&&(n.length||i&&i.length)),"`defaultInputValue` will be overridden by the value from `".concat(s,"`."))}function yK(e){var t=e.defaultSelected,n=e.multiple;In(n||t.length<=1,"You are passing multiple options to the `defaultSelected` prop of a Typeahead in single-select mode. The selections will be truncated to a single selection.")}function SK(e){var t=e.allowNew,n=e.highlightOnlyResult;In(!(n&&t),"`highlightOnlyResult` will not work with `allowNew`.")}function bK(e){var t=e.filterBy,n=e.ignoreDiacritics;In(n||typeof t!="function","Your `filterBy` function will override the `ignoreDiacritics` prop.")}function RK(e){var t=e.inputProps;t&&Object.prototype.toString.call(t)==="[object Object]"&&CK.forEach(function(n){var r=n.alt,i=n.prop,s=r?" Use the top-level `".concat(r,"` prop instead."):null;In(!t[i],"The `".concat(i,"` property of `inputProps` will be ignored.").concat(s))})}function TP(e,t,n){In(e[t]!=null,"The prop `".concat(t,"` is required to make `").concat(n,"` ")+"accessible for users of assistive technologies such as screen readers.")}function xK(e){var t=e.allowNew,n=e.labelKey;In(!(kn(n)&&t),"`labelKey` must be a string when `allowNew={true}`.")}var la=ge.oneOfType([ge.object,ge.string]);function EK(e){var t=e.multiple,n=e.onChange,r=e.selected;In(t||!r||r.length<=1,"You are passing multiple options to the `selected` prop of a Typeahead in single-select mode. This may lead to unexpected behaviors or errors."),In(!r||r&&kn(n),"You provided a `selected` prop without an `onChange` handler. If you want the typeahead to be uncontrolled, use `defaultSelected`. Otherwise, set `onChange`.")}var FK=["allowNew","delay","emptyLabel","isLoading","minLength","onInputChange","onSearch","options","promptText","searchText","useCache"];function Kb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kb(Object(n),!0).forEach(function(r){He(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}ge.number,ge.bool.isRequired,ge.number,ge.func.isRequired,ge.arrayOf(la),ge.node,ge.node,ge.bool;function PK(e){var t=e.allowNew,n=e.delay,r=n===void 0?200:n,i=e.emptyLabel,s=e.isLoading,o=e.minLength,l=o===void 0?2:o,c=e.onInputChange,d=e.onSearch,f=e.options,p=f===void 0?[]:f,m=e.promptText,C=m===void 0?"Type to search...":m,y=e.searchText,b=y===void 0?"Searching...":y,R=e.useCache,x=R===void 0?!0:R,E=nn(e,FK),P=w.useRef({}),D=w.useRef(null),A=w.useRef(e.defaultInputValue||""),O=$5(),T=K5(e),G=w.useCallback(function(K){if(A.current=K,!(!K||l&&K.length<l)){if(x&&P.current[K]){O();return}d(K)}},[O,l,d,x]);w.useEffect(function(){return D.current=U5(G,r),function(){D.current&&D.current.cancel()}},[r,G]),w.useEffect(function(){!s&&T&&T.isLoading&&x&&(P.current[A.current]=p)});var $=function(){return A.current.length?s?b:i:C},U=w.useCallback(function(K,Y){c&&c(K,Y),D.current&&D.current(K)},[c]),J=P.current[A.current];return qb(qb({},E),{},{allowNew:kn(t)?t:t&&!s,emptyLabel:$(),isLoading:s,minLength:l,onInputChange:U,options:x&&J?J:p})}function AP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,SP(r.key),r)}}function MP(e,t,n){return t&&DK(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ot(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kP(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dd(e,t)}function IP(e,t){if(t&&(ya(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ot(e)}function Sa(e){return Sa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Sa(e)}var TK={activeIndex:-1,hintText:"",id:"",initialItem:null,inputNode:null,isOnlyResult:!1,onActiveItemChange:En,onAdd:En,onInitialItemChange:En,onMenuItemClick:En,setItem:En},OP=w.createContext(TK),LP=function(){return w.useContext(OP)};function Yb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yb(Object(n),!0).forEach(function(r){He(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var AK=["activeIndex","disabled","id","inputRef","isFocused","isMenuShown","multiple","onBlur","onChange","onClick","onFocus","onKeyDown","placeholder"],MK=["activeIndex","hideMenu","isMenuShown","labelKey","onClear","onHide","onRemove","results","selected","text","toggleMenu"],kK=["activeIndex","id","initialItem","inputNode","onActiveItemChange","onAdd","onInitialItemChange","onMenuItemClick","setItem"],IK=function(t){var n=t.allowNew,r=t.children,i=t.initialItem,s=t.isMenuShown,o=t.onAdd,l=t.onInitialItemChange,c=t.onKeyDown,d=t.onMenuToggle,f=t.results,p=t.selectHint,m=aK(t);w.useEffect(function(){n||f.length||l()});var C=w.useRef(!0);w.useEffect(function(){if(C.current){C.current=!1;return}d(s)},[s,d]);var y=function(E){if(c(E),!!i){var P=E.key==="Enter"&&zb(t),D=m&&iK(E,p);(P||D)&&o(i)}},b=Qo(Qo({},wd(t,MK)),{},{getInputProps:uK(Qo(Qo({},wd(t,AK)),{},{onKeyDown:y,value:cK(t)}))}),R=Qo(Qo({},wd(t,kK)),{},{hintText:m,isOnlyResult:zb(t)});return W.createElement(OP.Provider,{value:R},kn(r)?r(b):r)};function Qb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qb(Object(n),!0).forEach(function(r){He(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ah(e){var t=e.defaultInputValue,n=e.defaultOpen,r=e.defaultSelected,i=e.maxResults,s=e.multiple,o=e.selected?e.selected.slice():r.slice(),l=t;return!s&&o.length&&(l=ei(o[0],e.labelKey),o.length>1&&(o=o.slice(0,1))),{activeIndex:-1,activeItem:void 0,initialItem:void 0,isFocused:!1,selected:o,showMenu:n,shownResults:i,text:l}}function Jb(e,t){return vs(vs({},ah(t)),{},{isFocused:e.isFocused,selected:[],text:""})}function Xb(e){return vs(vs({},e),{},{isFocused:!0,showMenu:!0})}function yd(e,t){var n=ah(t),r=n.activeIndex,i=n.activeItem,s=n.initialItem,o=n.shownResults;return vs(vs({},e),{},{activeIndex:r,activeItem:i,initialItem:s,showMenu:!1,shownResults:o})}function OK(e,t){return e.showMenu?yd(e,t):vs(vs({},e),{},{showMenu:!0})}var LK=["onChange"];function Zb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function is(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zb(Object(n),!0).forEach(function(r){He(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NK(e){var t=BK();return function(){var r=Sa(e),i;if(t){var s=Sa(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return IP(this,i)}}function BK(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var HK={allowNew:ge.oneOfType([ge.bool,ge.func]),autoFocus:ge.bool,caseSensitive:Kr(ge.bool,vK),defaultInputValue:Kr(ge.string,wK),defaultOpen:ge.bool,defaultSelected:Kr(ge.arrayOf(la),yK),filterBy:ge.oneOfType([ge.arrayOf(ge.string.isRequired),ge.func]),highlightOnlyResult:Kr(ge.bool,SK),id:Kr(ge.oneOfType([ge.number,ge.string]),TP),ignoreDiacritics:Kr(ge.bool,bK),labelKey:Kr(ge.oneOfType([ge.string,ge.func]),xK),maxResults:ge.number,minLength:ge.number,multiple:ge.bool,onBlur:ge.func,onChange:ge.func,onFocus:ge.func,onInputChange:ge.func,onKeyDown:ge.func,onMenuToggle:ge.func,onPaginate:ge.func,open:ge.bool,options:ge.arrayOf(la).isRequired,paginate:ge.bool,selected:Kr(ge.arrayOf(la),EK)},GK={allowNew:!1,autoFocus:!1,caseSensitive:!1,defaultInputValue:"",defaultOpen:!1,defaultSelected:[],filterBy:[],highlightOnlyResult:!1,ignoreDiacritics:!0,labelKey:bP,maxResults:100,minLength:0,multiple:!1,onBlur:En,onFocus:En,onInputChange:En,onKeyDown:En,onMenuToggle:En,onPaginate:En,paginate:!0};function VK(e,t){var n=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value");n&&n.set&&n.set.call(e,t);var r=new Event("input",{bubbles:!0});e.dispatchEvent(r)}var UC=function(e){kP(n,e);var t=NK(n);function n(){var r;AP(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s)),He(ot(r),"state",ah(r.props)),He(ot(r),"inputNode",null),He(ot(r),"isMenuShown",!1),He(ot(r),"items",[]),He(ot(r),"blur",function(){r.inputNode&&r.inputNode.blur(),r.hideMenu()}),He(ot(r),"clear",function(){r.setState(Jb)}),He(ot(r),"focus",function(){r.inputNode&&r.inputNode.focus()}),He(ot(r),"getInput",function(){return r.inputNode}),He(ot(r),"inputRef",function(l){r.inputNode=l}),He(ot(r),"setItem",function(l,c){r.items[c]=l}),He(ot(r),"hideMenu",function(){r.setState(yd)}),He(ot(r),"toggleMenu",function(){r.setState(OK)}),He(ot(r),"_handleActiveIndexChange",function(l){r.setState(function(c){return{activeIndex:l,activeItem:l>=0?c.activeItem:void 0}})}),He(ot(r),"_handleActiveItemChange",function(l){Nl(l,r.state.activeItem)||r.setState({activeItem:l})}),He(ot(r),"_handleBlur",function(l){l.persist(),r.setState({isFocused:!1},function(){return r.props.onBlur(l)})}),He(ot(r),"_handleChange",function(l){r.props.onChange&&r.props.onChange(l)}),He(ot(r),"_handleClear",function(){r.inputNode&&VK(r.inputNode,""),r.setState(Jb,function(){r.props.multiple&&r._handleChange([])})}),He(ot(r),"_handleClick",function(l){var c;l.persist();var d=(c=r.props.inputProps)===null||c===void 0?void 0:c.onClick;r.setState(Xb,function(){return kn(d)&&d(l)})}),He(ot(r),"_handleFocus",function(l){l.persist(),r.setState(Xb,function(){return r.props.onFocus(l)})}),He(ot(r),"_handleInitialItemChange",function(l){Nl(l,r.state.initialItem)||r.setState({initialItem:l})}),He(ot(r),"_handleInputChange",function(l){l.persist();var c=l.currentTarget.value,d=r.props,f=d.multiple,p=d.onInputChange,m=r.state.selected.length&&!f;r.setState(function(C,y){var b=ah(y),R=b.activeIndex,x=b.activeItem,E=b.shownResults;return{activeIndex:R,activeItem:x,selected:m?[]:C.selected,showMenu:!0,shownResults:E,text:c}},function(){p(c,l),m&&r._handleChange([])})}),He(ot(r),"_handleKeyDown",function(l){var c=r.state.activeItem;if(!r.isMenuShown){(l.key==="ArrowUp"||l.key==="ArrowDown")&&r.setState({showMenu:!0}),r.props.onKeyDown(l);return}switch(l.key){case"ArrowUp":case"ArrowDown":l.preventDefault(),r._handleActiveIndexChange(fK(r.state.activeIndex,l.key,r.items));break;case"Enter":l.preventDefault(),c&&r._handleMenuItemSelect(c,l);break;case"Escape":case"Tab":r.hideMenu();break}r.props.onKeyDown(l)}),He(ot(r),"_handleMenuItemSelect",function(l,c){io(l,"paginationOption")?r._handlePaginate(c):r._handleSelectionAdd(l)}),He(ot(r),"_handlePaginate",function(l){l.persist(),r.setState(function(c,d){return{shownResults:c.shownResults+d.maxResults}},function(){return r.props.onPaginate(l,r.state.shownResults)})}),He(ot(r),"_handleSelectionAdd",function(l){var c=r.props,d=c.multiple,f=c.labelKey,p,m=l,C;!xr(m)&&m.customOption&&(m=is(is({},m),{},{id:Q5("new-id-")})),d?(p=r.state.selected.concat(m),C=""):(p=[m],C=ei(m,f)),r.setState(function(y,b){return is(is({},yd(y,b)),{},{initialItem:m,selected:p,text:C})},function(){return r._handleChange(p)})}),He(ot(r),"_handleSelectionRemove",function(l){var c=r.state.selected.filter(function(d){return!Nl(d,l)});r.focus(),r.setState(function(d,f){return is(is({},yd(d,f)),{},{selected:c})},function(){return r._handleChange(c)})}),r}return MP(n,[{key:"componentDidMount",value:function(){this.props.autoFocus&&this.focus()}},{key:"componentDidUpdate",value:function(i,s){var o=this.props,l=o.labelKey,c=o.multiple,d=o.selected;mK(d,i.selected),d&&!Nl(d,s.selected)&&(this.setState({selected:d}),c||this.setState({text:d.length?ei(d[0],l):""}))}},{key:"render",value:function(){var i=this.props;i.onChange;var s=nn(i,LK),o=is(is({},s),this.state),l=o.filterBy,c=o.labelKey,d=o.options,f=o.paginate,p=o.shownResults,m=o.text;this.isMenuShown=pK(o),this.items=[];var C=[];if(this.isMenuShown){var y=kn(l)?l:rK;C=d.filter(function(x){return y(x,o)});var b=f&&C.length>p;if(C=dK(C,p),J5(C,o)&&C.push(He({customOption:!0},Dm(c),m)),b){var R;C.push((R={},He(R,Dm(c),""),He(R,"paginationOption",!0),R))}}return W.createElement(IK,Lt({},o,{hideMenu:this.hideMenu,inputNode:this.inputNode,inputRef:this.inputRef,isMenuShown:this.isMenuShown,onActiveItemChange:this._handleActiveItemChange,onAdd:this._handleSelectionAdd,onBlur:this._handleBlur,onChange:this._handleInputChange,onClear:this._handleClear,onClick:this._handleClick,onFocus:this._handleFocus,onHide:this.hideMenu,onInitialItemChange:this._handleInitialItemChange,onKeyDown:this._handleKeyDown,onMenuItemClick:this._handleMenuItemSelect,onRemove:this._handleSelectionRemove,results:C,setItem:this.setItem,toggleMenu:this.toggleMenu}))}}]),n}(W.Component);He(UC,"propTypes",HK);He(UC,"defaultProps",GK);var WK=["className","label","onClick","onKeyDown","size"],_K={label:ge.string,onClick:ge.func,onKeyDown:ge.func,size:DP},$C=function(t){var n=t.className,r=t.label,i=r===void 0?"Clear":r,s=t.onClick,o=t.onKeyDown,l=t.size,c=nn(t,WK);return W.createElement("button",Lt({},c,{"aria-label":i,className:Ke("close","btn-close","rbt-close",{"rbt-close-lg":jC(l),"rbt-close-sm":FP(l)},n),onClick:function(f){f.stopPropagation(),s&&s(f)},onKeyDown:function(f){f.key==="Backspace"&&f.preventDefault(),o&&o(f)},type:"button"}),W.createElement("span",{"aria-hidden":"true",className:"rbt-close-content"},"×"),W.createElement("span",{className:"sr-only visually-hidden"},i))};$C.propTypes=_K;var zK={label:ge.string},NP=function(t){var n=t.label,r=n===void 0?"Loading...":n;return W.createElement("div",{className:"rbt-loader spinner-border spinner-border-sm",role:"status"},W.createElement("span",{className:"sr-only visually-hidden"},r))};NP.propTypes=zK;function jK(e){if(Array.isArray(e))return e}function UK(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,d=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(f){d=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function eR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function $K(e,t){if(e){if(typeof e=="string")return eR(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eR(e,t):void 0}}function KK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BP(e,t){return jK(e)||UK(e,t)||$K(e,t)||KK()}const lu=Math.min,nr=Math.max,lh=Math.round,nd=Math.floor,Jr=e=>({x:e,y:e}),qK={left:"right",right:"left",bottom:"top",top:"bottom"},YK={start:"end",end:"start"};function KC(e,t){return typeof e=="function"?e(t):e}function ba(e){return e.split("-")[0]}function Oh(e){return e.split("-")[1]}function QK(e){return e==="x"?"y":"x"}function HP(e){return e==="y"?"height":"width"}function uu(e){return["top","bottom"].includes(ba(e))?"y":"x"}function GP(e){return QK(uu(e))}function JK(e,t,n){n===void 0&&(n=!1);const r=Oh(e),i=GP(e),s=HP(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=uh(o)),[o,uh(o)]}function XK(e){const t=uh(e);return[Tm(e),t,Tm(t)]}function Tm(e){return e.replace(/start|end/g,t=>YK[t])}function ZK(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:o;default:return[]}}function e6(e,t,n,r){const i=Oh(e);let s=ZK(ba(e),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(Tm)))),s}function uh(e){return e.replace(/left|right|bottom|top/g,t=>qK[t])}function t6(e){return{top:0,right:0,bottom:0,left:0,...e}}function n6(e){return typeof e!="number"?t6(e):{top:e,right:e,bottom:e,left:e}}function ch(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function tR(e,t,n){let{reference:r,floating:i}=e;const s=uu(t),o=GP(t),l=HP(o),c=ba(t),d=s==="y",f=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,m=r[l]/2-i[l]/2;let C;switch(c){case"top":C={x:f,y:r.y-i.height};break;case"bottom":C={x:f,y:r.y+r.height};break;case"right":C={x:r.x+r.width,y:p};break;case"left":C={x:r.x-i.width,y:p};break;default:C={x:r.x,y:r.y}}switch(Oh(t)){case"start":C[o]-=m*(n&&d?-1:1);break;case"end":C[o]+=m*(n&&d?-1:1);break}return C}const r6=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:p}=tR(d,r,c),m=r,C={},y=0;for(let b=0;b<l.length;b++){const{name:R,fn:x}=l[b],{x:E,y:P,data:D,reset:A}=await x({x:f,y:p,initialPlacement:r,placement:m,strategy:i,middlewareData:C,rects:d,platform:o,elements:{reference:e,floating:t}});f=E??f,p=P??p,C={...C,[R]:{...C[R],...D}},A&&y<=50&&(y++,typeof A=="object"&&(A.placement&&(m=A.placement),A.rects&&(d=A.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):A.rects),{x:f,y:p}=tR(d,m,c)),b=-1)}return{x:f,y:p,placement:m,strategy:i,middlewareData:C}};async function VP(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:m=!1,padding:C=0}=KC(t,e),y=n6(C),R=l[m?p==="floating"?"reference":"floating":p],x=ch(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(R)))==null||n?R:R.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:c})),E=p==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,P=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),D=await(s.isElement==null?void 0:s.isElement(P))?await(s.getScale==null?void 0:s.getScale(P))||{x:1,y:1}:{x:1,y:1},A=ch(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:E,offsetParent:P,strategy:c}):E);return{top:(x.top-A.top+y.top)/D.y,bottom:(A.bottom-x.bottom+y.bottom)/D.y,left:(x.left-A.left+y.left)/D.x,right:(A.right-x.right+y.right)/D.x}}const i6=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:m,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:b=!0,...R}=KC(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const x=ba(i),E=uu(l),P=ba(l)===l,D=await(c.isRTL==null?void 0:c.isRTL(d.floating)),A=m||(P||!b?[uh(l)]:XK(l)),O=y!=="none";!m&&O&&A.push(...e6(l,b,y,D));const T=[l,...A],G=await VP(t,R),$=[];let U=((r=s.flip)==null?void 0:r.overflows)||[];if(f&&$.push(G[x]),p){const le=JK(i,o,D);$.push(G[le[0]],G[le[1]])}if(U=[...U,{placement:i,overflows:$}],!$.every(le=>le<=0)){var J,K;const le=(((J=s.flip)==null?void 0:J.index)||0)+1,fe=T[le];if(fe)return{data:{index:le,overflows:U},reset:{placement:fe}};let ue=(K=U.filter(ie=>ie.overflows[0]<=0).sort((ie,B)=>ie.overflows[1]-B.overflows[1])[0])==null?void 0:K.placement;if(!ue)switch(C){case"bestFit":{var Y;const ie=(Y=U.filter(B=>{if(O){const ne=uu(B.placement);return ne===E||ne==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(ne=>ne>0).reduce((ne,Z)=>ne+Z,0)]).sort((B,ne)=>B[1]-ne[1])[0])==null?void 0:Y[0];ie&&(ue=ie);break}case"initialPlacement":ue=l;break}if(i!==ue)return{reset:{placement:ue}}}return{}}}},s6=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:s,platform:o,elements:l}=t,{apply:c=()=>{},...d}=KC(e,t),f=await VP(t,d),p=ba(i),m=Oh(i),C=uu(i)==="y",{width:y,height:b}=s.floating;let R,x;p==="top"||p==="bottom"?(R=p,x=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=p,R=m==="end"?"top":"bottom");const E=b-f.top-f.bottom,P=y-f.left-f.right,D=lu(b-f[R],E),A=lu(y-f[x],P),O=!t.middlewareData.shift;let T=D,G=A;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(G=P),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(T=E),O&&!m){const U=nr(f.left,0),J=nr(f.right,0),K=nr(f.top,0),Y=nr(f.bottom,0);C?G=y-2*(U!==0||J!==0?U+J:nr(f.left,f.right)):T=b-2*(K!==0||Y!==0?K+Y:nr(f.top,f.bottom))}await c({...t,availableWidth:G,availableHeight:T});const $=await o.getDimensions(l.floating);return y!==$.width||b!==$.height?{reset:{rects:!0}}:{}}}};function Lh(){return typeof window<"u"}function Ba(e){return WP(e)?(e.nodeName||"").toLowerCase():"#document"}function _n(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ri(e){var t;return(t=(WP(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function WP(e){return Lh()?e instanceof Node||e instanceof _n(e).Node:!1}function Dr(e){return Lh()?e instanceof Element||e instanceof _n(e).Element:!1}function ti(e){return Lh()?e instanceof HTMLElement||e instanceof _n(e).HTMLElement:!1}function nR(e){return!Lh()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof _n(e).ShadowRoot}function Tu(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Tr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function o6(e){return["table","td","th"].includes(Ba(e))}function Nh(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function qC(e){const t=YC(),n=Dr(e)?Tr(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function a6(e){let t=ws(e);for(;ti(t)&&!Ra(t);){if(qC(t))return t;if(Nh(t))return null;t=ws(t)}return null}function YC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ra(e){return["html","body","#document"].includes(Ba(e))}function Tr(e){return _n(e).getComputedStyle(e)}function Bh(e){return Dr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ws(e){if(Ba(e)==="html")return e;const t=e.assignedSlot||e.parentNode||nR(e)&&e.host||ri(e);return nR(t)?t.host:t}function _P(e){const t=ws(e);return Ra(t)?e.ownerDocument?e.ownerDocument.body:e.body:ti(t)&&Tu(t)?t:_P(t)}function cu(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=_P(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),o=_n(i);if(s){const l=Am(o);return t.concat(o,o.visualViewport||[],Tu(i)?i:[],l&&n?cu(l):[])}return t.concat(i,cu(i,[],n))}function Am(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function zP(e){const t=Tr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=ti(e),s=i?e.offsetWidth:n,o=i?e.offsetHeight:r,l=lh(n)!==s||lh(r)!==o;return l&&(n=s,r=o),{width:n,height:r,$:l}}function QC(e){return Dr(e)?e:e.contextElement}function ua(e){const t=QC(e);if(!ti(t))return Jr(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=zP(t);let o=(s?lh(n.width):n.width)/r,l=(s?lh(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const l6=Jr(0);function jP(e){const t=_n(e);return!YC()||!t.visualViewport?l6:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function u6(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==_n(e)?!1:t}function po(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=QC(e);let o=Jr(1);t&&(r?Dr(r)&&(o=ua(r)):o=ua(e));const l=u6(s,n,r)?jP(s):Jr(0);let c=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,f=i.width/o.x,p=i.height/o.y;if(s){const m=_n(s),C=r&&Dr(r)?_n(r):r;let y=m,b=Am(y);for(;b&&r&&C!==y;){const R=ua(b),x=b.getBoundingClientRect(),E=Tr(b),P=x.left+(b.clientLeft+parseFloat(E.paddingLeft))*R.x,D=x.top+(b.clientTop+parseFloat(E.paddingTop))*R.y;c*=R.x,d*=R.y,f*=R.x,p*=R.y,c+=P,d+=D,y=_n(b),b=Am(y)}}return ch({width:f,height:p,x:c,y:d})}function JC(e,t){const n=Bh(e).scrollLeft;return t?t.left+n:po(ri(e)).left+n}function UP(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:JC(e,r)),s=r.top+t.scrollTop;return{x:i,y:s}}function c6(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",o=ri(r),l=t?Nh(t.floating):!1;if(r===o||l&&s)return n;let c={scrollLeft:0,scrollTop:0},d=Jr(1);const f=Jr(0),p=ti(r);if((p||!p&&!s)&&((Ba(r)!=="body"||Tu(o))&&(c=Bh(r)),ti(r))){const C=po(r);d=ua(r),f.x=C.x+r.clientLeft,f.y=C.y+r.clientTop}const m=o&&!p&&!s?UP(o,c,!0):Jr(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+f.x+m.x,y:n.y*d.y-c.scrollTop*d.y+f.y+m.y}}function d6(e){return Array.from(e.getClientRects())}function h6(e){const t=ri(e),n=Bh(e),r=e.ownerDocument.body,i=nr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=nr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+JC(e);const l=-n.scrollTop;return Tr(r).direction==="rtl"&&(o+=nr(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:l}}function f6(e,t){const n=_n(e),r=ri(e),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,l=0,c=0;if(i){s=i.width,o=i.height;const d=YC();(!d||d&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:l,y:c}}function p6(e,t){const n=po(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=ti(e)?ua(e):Jr(1),o=e.clientWidth*s.x,l=e.clientHeight*s.y,c=i*s.x,d=r*s.y;return{width:o,height:l,x:c,y:d}}function rR(e,t,n){let r;if(t==="viewport")r=f6(e,n);else if(t==="document")r=h6(ri(e));else if(Dr(t))r=p6(t,n);else{const i=jP(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return ch(r)}function $P(e,t){const n=ws(e);return n===t||!Dr(n)||Ra(n)?!1:Tr(n).position==="fixed"||$P(n,t)}function g6(e,t){const n=t.get(e);if(n)return n;let r=cu(e,[],!1).filter(l=>Dr(l)&&Ba(l)!=="body"),i=null;const s=Tr(e).position==="fixed";let o=s?ws(e):e;for(;Dr(o)&&!Ra(o);){const l=Tr(o),c=qC(o);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Tu(o)&&!c&&$P(e,o))?r=r.filter(f=>f!==o):i=l,o=ws(o)}return t.set(e,r),r}function m6(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?Nh(t)?[]:g6(t,this._c):[].concat(n),r],l=o[0],c=o.reduce((d,f)=>{const p=rR(t,f,i);return d.top=nr(p.top,d.top),d.right=lu(p.right,d.right),d.bottom=lu(p.bottom,d.bottom),d.left=nr(p.left,d.left),d},rR(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function C6(e){const{width:t,height:n}=zP(e);return{width:t,height:n}}function v6(e,t,n){const r=ti(t),i=ri(t),s=n==="fixed",o=po(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=Jr(0);if(r||!r&&!s)if((Ba(t)!=="body"||Tu(i))&&(l=Bh(t)),r){const m=po(t,!0,s,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else i&&(c.x=JC(i));const d=i&&!r&&!s?UP(i,l):Jr(0),f=o.left+l.scrollLeft-c.x-d.x,p=o.top+l.scrollTop-c.y-d.y;return{x:f,y:p,width:o.width,height:o.height}}function Og(e){return Tr(e).position==="static"}function iR(e,t){if(!ti(e)||Tr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ri(e)===n&&(n=n.ownerDocument.body),n}function KP(e,t){const n=_n(e);if(Nh(e))return n;if(!ti(e)){let i=ws(e);for(;i&&!Ra(i);){if(Dr(i)&&!Og(i))return i;i=ws(i)}return n}let r=iR(e,t);for(;r&&o6(r)&&Og(r);)r=iR(r,t);return r&&Ra(r)&&Og(r)&&!qC(r)?n:r||a6(e)||n}const w6=async function(e){const t=this.getOffsetParent||KP,n=this.getDimensions,r=await n(e.floating);return{reference:v6(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function y6(e){return Tr(e).direction==="rtl"}const S6={convertOffsetParentRelativeRectToViewportRelativeRect:c6,getDocumentElement:ri,getClippingRect:m6,getOffsetParent:KP,getElementRects:w6,getClientRects:d6,getDimensions:C6,getScale:ua,isElement:Dr,isRTL:y6};function qP(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function b6(e,t){let n=null,r;const i=ri(e);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const d=e.getBoundingClientRect(),{left:f,top:p,width:m,height:C}=d;if(l||t(),!m||!C)return;const y=nd(p),b=nd(i.clientWidth-(f+m)),R=nd(i.clientHeight-(p+C)),x=nd(f),P={rootMargin:-y+"px "+-b+"px "+-R+"px "+-x+"px",threshold:nr(0,lu(1,c))||1};let D=!0;function A(O){const T=O[0].intersectionRatio;if(T!==c){if(!D)return o();T?o(!1,T):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!qP(d,e.getBoundingClientRect())&&o(),D=!1}try{n=new IntersectionObserver(A,{...P,root:i.ownerDocument})}catch{n=new IntersectionObserver(A,P)}n.observe(e)}return o(!0),s}function R6(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=QC(e),f=i||s?[...d?cu(d):[],...cu(t)]:[];f.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),s&&x.addEventListener("resize",n)});const p=d&&l?b6(d,n):null;let m=-1,C=null;o&&(C=new ResizeObserver(x=>{let[E]=x;E&&E.target===d&&C&&(C.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var P;(P=C)==null||P.observe(t)})),n()}),d&&!c&&C.observe(d),C.observe(t));let y,b=c?po(e):null;c&&R();function R(){const x=po(e);b&&!qP(b,x)&&n(),b=x,y=requestAnimationFrame(R)}return n(),()=>{var x;f.forEach(E=>{i&&E.removeEventListener("scroll",n),s&&E.removeEventListener("resize",n)}),p==null||p(),(x=C)==null||x.disconnect(),C=null,c&&cancelAnimationFrame(y)}}const x6=i6,E6=s6,F6=(e,t,n)=>{const r=new Map,i={platform:S6,...n},s={...i.platform,_c:r};return r6(e,t,{...i,platform:s})};var Sd=typeof document<"u"?w.useLayoutEffect:w.useEffect;function dh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!dh(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!dh(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function YP(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function sR(e,t){const n=YP(e);return Math.round(t*n)/n}function Lg(e){const t=w.useRef(e);return Sd(()=>{t.current=e}),t}function P6(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[f,p]=w.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,C]=w.useState(r);dh(m,r)||C(r);const[y,b]=w.useState(null),[R,x]=w.useState(null),E=w.useCallback(B=>{B!==O.current&&(O.current=B,b(B))},[]),P=w.useCallback(B=>{B!==T.current&&(T.current=B,x(B))},[]),D=s||y,A=o||R,O=w.useRef(null),T=w.useRef(null),G=w.useRef(f),$=c!=null,U=Lg(c),J=Lg(i),K=Lg(d),Y=w.useCallback(()=>{if(!O.current||!T.current)return;const B={placement:t,strategy:n,middleware:m};J.current&&(B.platform=J.current),F6(O.current,T.current,B).then(ne=>{const Z={...ne,isPositioned:K.current!==!1};le.current&&!dh(G.current,Z)&&(G.current=Z,fu.flushSync(()=>{p(Z)}))})},[m,t,n,J,K]);Sd(()=>{d===!1&&G.current.isPositioned&&(G.current.isPositioned=!1,p(B=>({...B,isPositioned:!1})))},[d]);const le=w.useRef(!1);Sd(()=>(le.current=!0,()=>{le.current=!1}),[]),Sd(()=>{if(D&&(O.current=D),A&&(T.current=A),D&&A){if(U.current)return U.current(D,A,Y);Y()}},[D,A,Y,U,$]);const fe=w.useMemo(()=>({reference:O,floating:T,setReference:E,setFloating:P}),[E,P]),ue=w.useMemo(()=>({reference:D,floating:A}),[D,A]),ie=w.useMemo(()=>{const B={position:n,left:0,top:0};if(!ue.floating)return B;const ne=sR(ue.floating,f.x),Z=sR(ue.floating,f.y);return l?{...B,transform:"translate("+ne+"px, "+Z+"px)",...YP(ue.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ne,top:Z}},[n,l,ue.floating,f.x,f.y]);return w.useMemo(()=>({...f,update:Y,refs:fe,elements:ue,floatingStyles:ie}),[f,Y,fe,ue,ie])}const D6=(e,t)=>({...x6(e),options:[e,t]}),T6=(e,t)=>({...E6(e),options:[e,t]});function A6(e){var t=[];return e.flip&&t.push(D6()),e.align!=="right"&&e.align!=="left"&&t.push(T6({apply:function(r){var i=r.rects,s=r.elements;Object.assign(s.floating.style,{width:"".concat(i.reference.width,"px")})}})),t}function M6(e){var t=e.align==="right"?"end":"start",n=e.dropup?"top":"bottom";return"".concat(n,"-").concat(t)}function k6(e,t){var n=w.useState(null),r=BP(n,2),i=r[0],s=r[1],o=P6({elements:{floating:i,reference:e},middleware:A6(t),placement:M6(t),strategy:t.positionFixed?"fixed":"absolute",whileElementsMounted:R6}),l=o.floatingStyles;return{innerRef:s,style:l}}var I6=["referenceElement","isMenuShown"],O6=typeof Element>"u"?En:Element,L6={align:ge.oneOf(q5),children:ge.func.isRequired,dropup:ge.bool,flip:ge.bool,isMenuShown:ge.bool,positionFixed:ge.bool,referenceElement:ge.instanceOf(O6)},QP=function(t){var n=t.referenceElement,r=t.isMenuShown,i=nn(t,I6),s=k6(n,i);return r?i.children(s):null};QP.propTypes=L6;function N6(e){return e.button===0}function B6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var Ng={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function H6(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:En,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.disabled,i=n.clickTrigger,s=i===void 0?"click":i,o=w.useRef(!1),l=w.useRef(!1),c=w.useCallback(function(p){var m=e.current;In(!!m,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),o.current=!m||B6(p)||!N6(p)||!!m.contains(p.target)||l.current,l.current=!1},[e]),d=oo(function(p){var m=e.current;m!=null&&m.contains(p.target)?l.current=!0:l.current=!1}),f=oo(function(p){o.current||t(p)});w.useEffect(function(){var p,m,C;if(!(r||e==null)){var y=((p=e.current)===null||p===void 0?void 0:p.ownerDocument)||document,b=y.defaultView||window,R=(m=b.event)!==null&&m!==void 0?m:(C=b.parent)===null||C===void 0?void 0:C.event,x=null;Ng[s]&&(y.addEventListener(Ng[s],d,!0),x=function(){y.removeEventListener(Ng[s],d)});var E=function(D){if(D===R){R=void 0;return}f(D)};return y.addEventListener(s,c,!0),y.addEventListener(s,E,!0),function(){var P;(P=x)===null||P===void 0||P(),y.removeEventListener(s,c),y.removeEventListener(s,E)}}},[e,r,s,c,d,f])}function JP(e,t){var n=w.useRef(null),r=e||En;H6(n,r,t);var i=oo(function(s){s.key==="Escape"&&r(s)});return w.useEffect(function(){var s;if(!(t.disabled||n==null)){var o=((s=n.current)===null||s===void 0?void 0:s.ownerDocument)||document,l=(o.defaultView||window).event,c=function(f){if(f===l){l=void 0;return}i(f)};return o.addEventListener("keyup",c),function(){o.removeEventListener("keyup",c)}}},[n,t.disabled,i]),n}var G6=["children","onRootClose"];function V6(e){var t=e.children,n=e.onRootClose,r=nn(e,G6),i=JP(n,r);return t(i)}var W6=["onBlur","onClick","onFocus","onRemove","option"];function oR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function aR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oR(Object(n),!0).forEach(function(r){He(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}ge.func,ge.func,ge.func,ge.func,la.isRequired;function _6(e){var t=e.onBlur,n=e.onClick,r=e.onFocus,i=e.onRemove,s=e.option,o=nn(e,W6),l=w.useState(!1),c=BP(l,2),d=c[0],f=c[1],p=function(E){f(!1),t&&t(E)},m=function(E){f(!0),n&&n(E)},C=function(E){f(!0),r&&r(E)},y=function(){i&&i(s)},b=function(E){E.key==="Backspace"&&d&&(E.preventDefault(),y())},R=JP(p,aR(aR({},o),{},{disabled:!d}));return{active:d,onBlur:p,onClick:m,onFocus:C,onKeyDown:b,onRemove:kn(i)?y:void 0,ref:R}}var z6=["active","children","className","onRemove","tabIndex"],j6=["children","option","readOnly"],U6=["ref"];function lR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lR(Object(n),!0).forEach(function(r){He(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var $6=w.forwardRef(function(e,t){var n=e.active,r=e.children,i=e.className,s=e.onRemove,o=e.tabIndex,l=nn(e,z6);return W.createElement("div",Lt({},l,{className:Ke("rbt-token","rbt-token-removeable",{"rbt-token-active":!!n},i),ref:t,tabIndex:o||0}),r,W.createElement($C,{className:"rbt-token-remove-button",label:"Remove",onClick:s,tabIndex:-1}))}),K6=function(t){var n=t.children,r=t.className,i=t.disabled,s=t.href,o=Ke("rbt-token",{"rbt-token-disabled":i},r);return s&&!i?W.createElement("a",{className:o,href:s},n):W.createElement("div",{className:o},n)},q6=function(t){var n=t.children,r=t.option,i=t.readOnly,s=nn(t,j6),o=_6(uR(uR({},s),{},{option:r})),l=o.ref,c=nn(o,U6),d=W.createElement("div",{className:"rbt-token-label"},n);return!s.disabled&&!i&&kn(c.onRemove)?W.createElement($6,Lt({},s,c,{ref:l}),d):W.createElement(K6,s,d)};function rd(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return n&&(n=n.replace(n[0],n[0].toUpperCase())),["Top","Right","Bottom","Left"].map(function(r){return e["".concat(t).concat(r).concat(n)]}).join(" ")}function Y6(e,t){var n=window.getComputedStyle(e);t.style.borderStyle=rd(n,"border","style"),t.style.borderWidth=rd(n,"border","width"),t.style.fontSize=n.fontSize,t.style.fontWeight=n.fontWeight,t.style.height=n.height,t.style.lineHeight=n.lineHeight,t.style.margin=rd(n,"margin"),t.style.padding=rd(n,"padding")}var Q6=function(){var t=LP(),n=t.hintText,r=t.inputNode,i=w.useRef(null);return w.useEffect(function(){var s=function(){i.current&&r&&(i.current.scrollLeft=r.scrollLeft)};return r==null||r.addEventListener("scroll",s),function(){r==null||r.removeEventListener("scroll",s)}},[r]),w.useEffect(function(){r&&i.current&&Y6(r,i.current)}),{hintRef:i,hintText:n}},XP=function(t){var n=t.children,r=t.className,i=Q6(),s=i.hintRef,o=i.hintText;return W.createElement("div",{className:r,style:{display:"flex",flex:1,height:"100%",position:"relative"}},n,W.createElement("input",{"aria-hidden":!0,className:"rbt-input-hint",ref:s,readOnly:!0,style:{backgroundColor:"transparent",borderColor:"transparent",boxShadow:"none",color:"rgba(0, 0, 0, 0.54)",left:0,pointerEvents:"none",position:"absolute",top:0,width:"100%"},tabIndex:-1,value:o}))},ZP=w.forwardRef(function(e,t){return W.createElement("input",Lt({},e,{className:Ke("rbt-input-main",e.className),ref:t}))}),J6=["children","className","inputClassName","inputRef","referenceElementRef","selected"];function X6(e){var t=W.useRef(null),n=W.useRef(null),r=PP(e),i=r.children,s=r.className,o=r.inputClassName;r.inputRef;var l=r.referenceElementRef,c=r.selected,d=nn(r,J6);function f(C){n.current=C,e.inputRef(C)}function p(C){if(e.disabled){C.currentTarget.blur();return}var y=n.current;!y||C.currentTarget.contains(C.target)&&C.currentTarget!==C.target||(RP(y)&&(y.selectionStart=y.value.length),y.focus())}function m(C){if(C.key==="Backspace"&&c.length&&!e.value){var y;C.preventDefault();var b=(y=t.current)===null||y===void 0?void 0:y.children;if(b!=null&&b.length){var R=b[b.length-2];R==null||R.focus()}}e.onKeyDown&&e.onKeyDown(C)}return W.createElement("div",{className:Ke("rbt-input-multi",{disabled:e.disabled},s),onClick:p,onFocus:p,ref:l,tabIndex:-1},W.createElement("div",{className:"rbt-input-wrapper",ref:t},i,W.createElement(XP,null,W.createElement(ZP,Lt({},d,{className:o,onKeyDown:m,ref:f,style:{backgroundColor:"transparent",border:0,boxShadow:"none",cursor:"inherit",outline:"none",padding:0,width:"100%",zIndex:1}})))))}var Z6=["inputRef","referenceElementRef"],e7=function(t){var n=t.inputRef,r=t.referenceElementRef,i=nn(t,Z6);return W.createElement(XP,null,W.createElement(ZP,Lt({},PP(i),{ref:function(o){n(o),r(o)}})))},t7={children:ge.string.isRequired,highlightClassName:ge.string,search:ge.string.isRequired},XC=function(t){var n=t.children,r=t.highlightClassName,i=r===void 0?"rbt-highlight-text":r,s=t.search;if(!s||!n)return W.createElement(W.Fragment,null,n);for(var o=0,l=n,c=[];l;){var d=xP(l,s);if(!d){c.push(l);break}var f=l.slice(0,d.start);f&&c.push(f);var p=l.slice(d.start,d.end);c.push(W.createElement("mark",{className:i,key:o},p)),o+=1,l=l.slice(d.end)}return W.createElement(W.Fragment,null,c)};XC.propTypes=t7;const cR=e=>typeof e=="object"&&e!=null&&e.nodeType===1,dR=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",Bg=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return dR(n.overflowY,t)||dR(n.overflowX,t)||(r=>{const i=(s=>{if(!s.ownerDocument||!s.ownerDocument.defaultView)return null;try{return s.ownerDocument.defaultView.frameElement}catch{return null}})(r);return!!i&&(i.clientHeight<r.scrollHeight||i.clientWidth<r.scrollWidth)})(e)}return!1},id=(e,t,n,r,i,s,o,l)=>s<e&&o>t||s>e&&o<t?0:s<=e&&l<=n||o>=t&&l>=n?s-e-r:o>t&&l<n||s<e&&l>n?o-t+i:0,n7=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},hR=(e,t)=>{var n,r,i,s;if(typeof document>"u")return[];const{scrollMode:o,block:l,inline:c,boundary:d,skipOverflowHiddenElements:f}=t,p=typeof d=="function"?d:ue=>ue!==d;if(!cR(e))throw new TypeError("Invalid target");const m=document.scrollingElement||document.documentElement,C=[];let y=e;for(;cR(y)&&p(y);){if(y=n7(y),y===m){C.push(y);break}y!=null&&y===document.body&&Bg(y)&&!Bg(document.documentElement)||y!=null&&Bg(y,f)&&C.push(y)}const b=(r=(n=window.visualViewport)==null?void 0:n.width)!=null?r:innerWidth,R=(s=(i=window.visualViewport)==null?void 0:i.height)!=null?s:innerHeight,{scrollX:x,scrollY:E}=window,{height:P,width:D,top:A,right:O,bottom:T,left:G}=e.getBoundingClientRect(),{top:$,right:U,bottom:J,left:K}=(ue=>{const ie=window.getComputedStyle(ue);return{top:parseFloat(ie.scrollMarginTop)||0,right:parseFloat(ie.scrollMarginRight)||0,bottom:parseFloat(ie.scrollMarginBottom)||0,left:parseFloat(ie.scrollMarginLeft)||0}})(e);let Y=l==="start"||l==="nearest"?A-$:l==="end"?T+J:A+P/2-$+J,le=c==="center"?G+D/2-K+U:c==="end"?O+U:G-K;const fe=[];for(let ue=0;ue<C.length;ue++){const ie=C[ue],{height:B,width:ne,top:Z,right:k,bottom:_,left:re}=ie.getBoundingClientRect();if(o==="if-needed"&&A>=0&&G>=0&&T<=R&&O<=b&&A>=Z&&T<=_&&G>=re&&O<=k)return fe;const se=getComputedStyle(ie),me=parseInt(se.borderLeftWidth,10),ye=parseInt(se.borderTopWidth,10),Se=parseInt(se.borderRightWidth,10),ke=parseInt(se.borderBottomWidth,10);let Ve=0,Ze=0;const Yt="offsetWidth"in ie?ie.offsetWidth-ie.clientWidth-me-Se:0,at="offsetHeight"in ie?ie.offsetHeight-ie.clientHeight-ye-ke:0,je="offsetWidth"in ie?ie.offsetWidth===0?0:ne/ie.offsetWidth:0,Ye="offsetHeight"in ie?ie.offsetHeight===0?0:B/ie.offsetHeight:0;if(m===ie)Ve=l==="start"?Y:l==="end"?Y-R:l==="nearest"?id(E,E+R,R,ye,ke,E+Y,E+Y+P,P):Y-R/2,Ze=c==="start"?le:c==="center"?le-b/2:c==="end"?le-b:id(x,x+b,b,me,Se,x+le,x+le+D,D),Ve=Math.max(0,Ve+E),Ze=Math.max(0,Ze+x);else{Ve=l==="start"?Y-Z-ye:l==="end"?Y-_+ke+at:l==="nearest"?id(Z,_,B,ye,ke+at,Y,Y+P,P):Y-(Z+B/2)+at/2,Ze=c==="start"?le-re-me:c==="center"?le-(re+ne/2)+Yt/2:c==="end"?le-k+Se+Yt:id(re,k,ne,me,Se+Yt,le,le+D,D);const{scrollLeft:ze,scrollTop:ct}=ie;Ve=Ye===0?0:Math.max(0,Math.min(ct+Ve/Ye,ie.scrollHeight-B/Ye+at)),Ze=je===0?0:Math.max(0,Math.min(ze+Ze/je,ie.scrollWidth-ne/je+Yt)),Y+=ct-Ve,le+=ze-Ze}fe.push({el:ie,top:Ve,left:Ze})}return fe},r7=e=>e===!1?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&Object.keys(t).length!==0)(e)?e:{block:"start",inline:"nearest"};function i7(e,t){if(!e.isConnected||!(i=>{let s=i;for(;s&&s.parentNode;){if(s.parentNode===document)return!0;s=s.parentNode instanceof ShadowRoot?s.parentNode.host:s.parentNode}return!1})(e))return;const n=(i=>{const s=window.getComputedStyle(i);return{top:parseFloat(s.scrollMarginTop)||0,right:parseFloat(s.scrollMarginRight)||0,bottom:parseFloat(s.scrollMarginBottom)||0,left:parseFloat(s.scrollMarginLeft)||0}})(e);if((i=>typeof i=="object"&&typeof i.behavior=="function")(t))return t.behavior(hR(e,t));const r=typeof t=="boolean"||t==null?void 0:t.behavior;for(const{el:i,top:s,left:o}of hR(e,r7(t))){const l=s-n.top+n.bottom,c=o-n.left+n.right;i.scroll({top:l,left:c,behavior:r})}}var s7=["label","onClick","option","position"];function fR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fR(Object(n),!0).forEach(function(r){He(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}la.isRequired,ge.number;function o7(e){var t=e.label,n=e.onClick,r=e.option,i=e.position,s=nn(e,s7),o=LP(),l=o.activeIndex,c=o.id,d=o.isOnlyResult,f=o.onActiveItemChange,p=o.onInitialItemChange,m=o.onMenuItemClick,C=o.setItem,y=w.useRef(null);w.useEffect(function(){i===0&&p(r)}),w.useEffect(function(){if(i===l){f(r);var x=y.current;x&&i7(x,{boundary:x.parentNode,scrollMode:"if-needed"})}},[l,f,r,i]);var b=w.useCallback(function(x){m(r,x),n&&n(x)},[n,m,r]),R=d||l===i;return C(r,i),pR(pR({},s),{},{active:R,"aria-label":t,"aria-selected":R,id:EP(c,i),onClick:b,onMouseDown:zC,ref:y,role:"option"})}var a7=["active","children","className","disabled","onClick"],eD=w.forwardRef(function(e,t){var n=e.active,r=e.children,i=e.className,s=e.disabled,o=e.onClick,l=nn(e,a7);return W.createElement("a",Lt({},l,{className:Ke("dropdown-item",{active:n,disabled:s},i),href:l.href||"#",onClick:function(d){d.preventDefault(),!s&&o&&o(d)},ref:t}),r)});function Hg(e){return W.createElement(eD,o7(e))}var l7=["emptyLabel","innerRef","maxHeight","style"];function gR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gR(Object(n),!0).forEach(function(r){He(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var u7=function(){return W.createElement("div",{className:"dropdown-divider",role:"separator"})},c7=function(t){return W.createElement("div",Lt({},t,{className:"dropdown-header",role:"heading"}))},d7={"aria-label":ge.string,emptyLabel:ge.node,id:Kr(ge.oneOfType([ge.number,ge.string]),TP),maxHeight:ge.string},du=function(t){var n=t.emptyLabel,r=n===void 0?"No matches found.":n,i=t.innerRef,s=t.maxHeight,o=s===void 0?"300px":s,l=t.style,c=nn(t,l7),d=w.Children.count(c.children)===0?W.createElement(eD,{disabled:!0,role:"option"},r):c.children;return W.createElement("div",Lt({},c,{"aria-label":c["aria-label"]||"menu-options",className:Ke("rbt-menu","dropdown-menu","show",c.className),onMouseDown:zC,ref:i,role:"listbox",style:mR(mR({},l),{},{display:"block",maxHeight:o,overflow:"auto"})}),d)};du.propTypes=d7;du.Divider=u7;du.Header=c7;var h7=["labelKey","newSelectionPrefix","options","paginationText","renderMenuItemChildren","text"],f7={newSelectionPrefix:ge.node,paginationText:ge.node,renderMenuItemChildren:ge.func};function p7(e,t){return W.createElement(XC,{search:t.text},ei(e,t.labelKey))}var tD=function(t){var n=t.labelKey,r=t.newSelectionPrefix,i=r===void 0?"New selection: ":r,s=t.options,o=t.paginationText,l=o===void 0?"Display additional results...":o,c=t.renderMenuItemChildren,d=c===void 0?p7:c,f=t.text,p=nn(t,h7),m=function(y,b){var R=ei(y,n),x={disabled:!!io(y,"disabled"),label:R,option:y,position:b};return io(y,"customOption")?W.createElement(Hg,Lt({},x,{className:"rbt-menu-custom-option",key:b,label:R}),i,W.createElement(XC,{search:f},R)):io(y,"paginationOption")?W.createElement(W.Fragment,{key:"pagination-option-divider"},W.createElement(du.Divider,null),W.createElement(Hg,Lt({},x,{className:"rbt-menu-pagination-option",label:xr(l)?l:""}),l)):W.createElement(Hg,Lt({},x,{key:b}),d(y,t,b))};return W.createElement(du,Lt({},p,{key:f}),s.map(m))};tD.propTypes=f7;function CR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ur(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CR(Object(n),!0).forEach(function(r){He(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function g7(e){var t=m7();return function(){var r=Sa(e),i;if(t){var s=Sa(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return IP(this,i)}}function m7(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var C7={clearButton:ge.bool,inputProps:Kr(ge.object,RK),isInvalid:ge.bool,isLoading:ge.bool,isValid:ge.bool,renderInput:ge.func,renderMenu:ge.func,renderToken:ge.func,size:DP},v7={isLoading:!1},w7=function(t,n,r){return W.createElement(tD,Lt({},n,{labelKey:r.labelKey,options:t,text:r.text}))},y7=function(t,n,r){return W.createElement(q6,{disabled:n.disabled,key:r,onRemove:n.onRemove,option:t,tabIndex:n.tabIndex},ei(t,n.labelKey))},S7=["align","dropup","flip","positionFixed"];function b7(e){return wd(e,S7)}var ZC=function(e){kP(n,e);var t=g7(n);function n(){var r;AP(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=t.call.apply(t,[this].concat(s)),He(ot(r),"_referenceElement",null),He(ot(r),"referenceElementRef",function(l){r._referenceElement=l}),He(ot(r),"_renderInput",function(l,c){var d=r.props,f=d.isInvalid,p=d.isValid,m=d.multiple,C=d.renderInput,y=d.renderToken,b=d.size;if(kn(C))return C(l,c);var R=Ur(Ur({},l),{},{isInvalid:f,isValid:p,size:b});if(!m)return W.createElement(e7,R);var x=c.labelKey,E=c.onRemove,P=c.selected;return W.createElement(X6,Lt({},R,{placeholder:P.length?"":l.placeholder,selected:P}),P.map(function(D,A){return(y||y7)(D,Ur(Ur({},R),{},{labelKey:x,onRemove:E}),A)}))}),He(ot(r),"_renderMenu",function(l,c,d){var f=r.props,p=f.emptyLabel,m=f.id,C=f.maxHeight,y=f.newSelectionPrefix,b=f.paginationText,R=f.renderMenu,x=f.renderMenuItemChildren;return(R||w7)(l,Ur(Ur({},c),{},{emptyLabel:p,id:m,maxHeight:C,newSelectionPrefix:y,paginationText:b,renderMenuItemChildren:x}),d)}),He(ot(r),"_renderAux",function(l){var c=l.onClear,d=l.selected,f=r.props,p=f.clearButton,m=f.disabled,C=f.isLoading,y=f.size,b;return C?b=W.createElement(NP,null):p&&!m&&d.length&&(b=W.createElement($C,{onClick:c,onMouseDown:zC,size:y})),b?W.createElement("div",{className:Ke("rbt-aux",{"rbt-aux-lg":jC(y)})},b):null}),r}return MP(n,[{key:"render",value:function(){var i=this,s=this.props,o=s.children,l=s.className,c=s.instanceRef,d=s.open,f=s.options,p=s.style;return W.createElement(UC,Lt({},this.props,{options:f,ref:c}),function(m){var C=m.hideMenu,y=m.isMenuShown,b=m.results,R=i._renderAux(m);return W.createElement(V6,{disabled:d||!y,onRootClose:C},function(x){return W.createElement("div",{className:Ke("rbt",{"has-aux":!!R,"is-invalid":i.props.isInvalid,"is-valid":i.props.isValid},l),ref:x,style:Ur(Ur({},p),{},{outline:"none",position:"relative"}),tabIndex:-1},i._renderInput(Ur(Ur({},m.getInputProps(i.props.inputProps)),{},{referenceElementRef:i.referenceElementRef}),m),W.createElement(QP,Lt({},b7(i.props),{isMenuShown:y,referenceElement:i._referenceElement}),function(E){return i._renderMenu(b,E,m)}),R,kn(o)?o(m):o)})})}}]),n}(W.Component);He(ZC,"propTypes",C7);He(ZC,"defaultProps",v7);const R7=w.forwardRef(function(e,t){return W.createElement(ZC,Lt({},e,{instanceRef:t}))});var x7=w.forwardRef(function(e,t){return W.createElement(R7,Lt({},PK(e),{ref:t}))});const Mm=e=>{const[t,n]=w.useState(!1),[r,i]=w.useState([]),s=l=>{l.length>0&&e.onNameSelected(l[0].Name)},o=w.useCallback(l=>{n(!0),Dt.get("/namesearch/"+l,Pu).then(c=>{i(c.data),n(!1)})},[]);return I.jsx("div",{className:"row",children:I.jsx("div",{className:"col-md-12 mb-2",children:I.jsxs(Wt,{children:[I.jsx(Wt.Header,{className:"bg-arbor text-white",children:e.caption}),I.jsx(Wt.Body,{className:"ag-theme-balham",style:{height:"50px",marginBottom:"20px"},children:I.jsx(x7,{id:"name-search",isLoading:t,options:r,labelKey:"Name",onSearch:o,onChange:s,placeholder:"Name search...",caseSensitive:!1,minLength:3,renderMenuItemChildren:l=>I.jsx("div",{children:I.jsx("span",{children:l.Name})})})})]})})})},vR=()=>{const e=br(l=>l.name.name),t=br(l=>l.name.results),n=Cu(),r=mn(),i=Di();w.useEffect(()=>{if(e===null){const l=r.pathname.split("/");if(l.length===3){const c=l[2].replace("%20"," ");o(c,!1)}}});const s=l=>{const c=parseInt(l.node.data.RaceID,10);n(Fu(c)),n(Du(c)),i("/event/"+c)},o=(l,c=!0)=>{n(WC(l)),n(_C(l)),c&&i("/person/"+l)};return w.useEffect(()=>{document.title=`Arbor | ${e}`||"Arbor | Name search"},[e]),I.jsxs("div",{children:[I.jsx(Mm,{onNameSelected:o,caption:"Name search"}),I.jsx(W5,{name:e,results:t,onRowSelected:s})]})},E7=e=>{const t=C=>parseInt(C.value,10)===999?"-":C.value,n=C=>C.node.data.Position1<C.node.data.Position2?I.jsx("strong",{children:C.value}):C.value,r=C=>C.node.data.Position2<C.node.data.Position1?I.jsx("strong",{children:C.value}):C.value,i=w.useMemo(()=>[{headerName:"RaceID",field:"RaceID",hide:"true"},{headerName:"Event",field:"Event"},{headerName:"Year",field:"Year",cellClass:"center-text"},{headerName:"Area",field:"Area"},{headerName:"Class",field:"Class",cellClass:"center-text"},{headerName:"Runner 1",field:"Name1",cellRenderer:n},{headerName:"Club",field:"Club1",cellClass:"center-text"},{headerName:"Time",field:"Time1",cellClass:"center-text"},{headerName:"Place",field:"Position1",cellClass:"center-text",cellRenderer:t},{headerName:"Runner 2",field:"Name2",cellRenderer:r},{headerName:"Club",field:"Club2",cellClass:"center-text"},{headerName:"Time",field:"Time2",cellClass:"center-text"},{headerName:"Place",field:"Position2",cellClass:"center-text",cellRenderer:t}],[]),s=w.useMemo(()=>({sortable:!0,filter:!0}),[]),o={type:"fitCellContents"},l=C=>{C.api.autoSizeAllColumns()},c="Fight: "+(e.name1||"Runner 1")+" v. "+(e.name2||"Runner 2");let d=0;e.results.length!==0&&(d=e.results.reduce(function(C,y){return y.Position1<y.Position2?C+1:C},0));let f=0;e.results.length!==0&&(f=e.results.reduce(function(C,y){return y.Position2<y.Position1?C+1:C},0));const p=e.results.length-d-f,m={mode:"singleRow",enableClickSelection:"enableSelection",checkboxes:!1};return I.jsx("div",{className:"row",children:I.jsx("div",{className:"col-md-12",children:I.jsxs(Wt,{className:"mb-3",children:[I.jsxs(Wt.Header,{className:"bg-arbor text-white",children:[c,I.jsxs(Hn,{bg:"warning",text:"dark",children:["Played ",e.results.length]}),I.jsxs(Hn,{bg:"warning",text:"dark",children:[e.name1," Wins: ",d]}),I.jsxs(Hn,{bg:"warning",text:"dark",children:[e.name2," Wins: ",f]}),I.jsxs(Hn,{bg:"warning",text:"dark",children:["Draws: ",p]})]}),I.jsx(Wt.Body,{className:"ag-theme-balham",style:{padding:0,height:"500px"},children:I.jsx(Oa,{onFirstDataRendered:l,onGridSizeChanged:l,autoSizeStrategy:o,suppressColumnVirtualisation:!0,onRowSelected:e.onFightRowSelected,rowData:e.results,columnDefs:i,defaultColDef:s,rowSelection:m})})]})})})},wR=()=>{const e=br(f=>f.fight.name1),t=br(f=>f.fight.name2),n=br(f=>f.fight.results),r=Cu(),i=mn(),s=Di();w.useEffect(()=>{if(e===null&&t===null){const f=i.pathname.split("/");if(f.length===4){const p=f[2].replace("%20"," "),m=f[3].replace("%20"," ");r(Tg(p,m)),o(p,m,!1)}}});const o=(f,p,m=!0)=>{r(H5(f,p)),m&&s("/fight/"+f+"/"+p)},l=f=>{r(Fu(f.data.RaceID)),r(Du(f.data.RaceID)),s("/event/"+f.data.RaceID)},c=f=>{r(Tg(f,t)),t!==null&&o(f,t)},d=f=>{r(Tg(e,f)),e!==null&&o(e,f)};return w.useEffect(()=>{document.title="Arbor | Fight"},[]),I.jsxs("div",{children:[I.jsx(Mm,{onNameSelected:c,caption:"Runner 1"}),I.jsx(Mm,{onNameSelected:d,caption:"Runner 2"}),I.jsx(E7,{name1:e,name2:t,results:n,onFightRowSelected:l})]})},F7=()=>I.jsxs("div",{children:[I.jsx("h1",{children:"About"}),I.jsx("p",{children:"The Maprunner Archive of British Orienteering Records (Arbor) includes results from all major British events dating back to around 2000."}),I.jsxs("p",{children:["The back end is written using the"," ",I.jsx("a",{href:"https://fatfreeframework.com/3.6/home",children:"Fat-Free php framework"})," ","with a SQLite database."]}),I.jsxs("span",{children:["The front end is built using:",I.jsxs("ul",{children:[I.jsx("li",{children:I.jsx("a",{href:"https://facebook.github.io/react/",children:"React"})}),I.jsx("li",{children:I.jsx("a",{href:"https://github.com/reactjs/react-redux",children:"React-redux"})}),I.jsx("li",{children:I.jsx("a",{href:"https://github.com/ReactTraining/react-router",children:"React-router"})}),I.jsx("li",{children:I.jsx("a",{href:"http://getbootstrap.com/",children:"Bootstrap"})}),I.jsx("li",{children:I.jsx("a",{href:"https://react-bootstrap.github.io/",children:"React Bootstrap"})}),I.jsx("li",{children:I.jsx("a",{href:"https://github.com/mzabriskie/axios",children:"axios"})}),I.jsx("li",{children:I.jsx("a",{href:"https://www.ag-grid.com/",children:"ag-grid"})}),I.jsx("li",{children:I.jsx("a",{href:"https://vitejs.dev/",children:"Vite"})})]})]}),I.jsxs("p",{children:["Arbor was written by"," ",I.jsx("a",{href:"https://www.maprunner.co.uk/simon/",children:"Simon Errington"}),". The source code is available from"," ",I.jsx("a",{href:"https://github.com/Maprunner/arbor",children:"Github"}),"."]})]}),P7=()=>(w.useEffect(()=>{document.title="Arbor | About"},[]),I.jsx(F7,{})),D7=e=>{const t=i=>{i.api.autoSizeAllColumns()},n=w.useMemo(()=>[{headerName:"Event",field:"Event"},{headerName:"Year",field:"Year",cellClass:"center-text"},{headerName:"Area",field:"Area"},{headerName:"Date",field:"Date",cellClass:"center-text"},{headerName:"Club",field:"Club",cellClass:"center-text"},{headerName:"Classes",field:"Classes",cellClass:"center-text"},{headerName:"Runners",field:"Runners",cellClass:"center-text"},{headerName:"Link",field:"Link",cellRenderer:wP},{headerName:"Assoc",field:"Association",cellClass:"center-text"}],[]),r={type:"fitCellContents"};return I.jsx("div",{style:{width:"100%"},children:I.jsx(Oa,{rowData:e.rowData,onFirstDataRendered:t,onGridSizeChanged:t,columnDefs:n,autoSizeStrategy:r,suppressColumnVirtualisation:!0,domLayout:"autoHeight"})})},T7=e=>{const t=i=>{e.onClassFilterUpdated([i.target.value])},n=()=>{e.onClassFilterUpdated(e.classes)},r=e.classes.map(function(i,s){return I.jsx(jg,{className:"m-1",bg:"outline-secondary",onClick:t,size:"sm",value:i,children:i},s)});return I.jsx("div",{children:I.jsxs(kx,{children:[I.jsx(jg,{className:"m-1",bg:"info",onClick:n,size:"sm",children:"Show all"}),r]})})},A7=e=>{const t=w.useMemo(()=>[{headerName:"Class",field:"Class",cellClass:"center-text"},{headerName:"Position",field:"Position",cellClass:"center-text",cellRenderer:yP},{headerName:"Name",field:"Name"},{headerName:"Club",field:"Club",cellClass:"center-text"},{headerName:"Time",field:"Time",cellClass:"center-text"}],[]),n=w.useMemo(()=>({sortable:!0,filter:!0}),[]),r={type:"fitCellContents"},i=s=>{s.api.autoSizeAllColumns()};return I.jsxs("div",{children:[I.jsx("div",{style:{padding:"20px"},children:I.jsx(T7,{classes:e.classData,onClassFilterUpdated:e.onClassFilterUpdated})}),I.jsx("div",{style:{height:"600px"},children:I.jsx(Oa,{onFirstDataRendered:i,onGridSizeChanged:i,autoSizeStrategy:r,suppressColumnVirtualisation:!0,rowData:e.resultData,onRowClicked:e.onNameSelected,columnDefs:t,defaultColDef:n})})]})},M7=()=>{const e=Cu(),t=mn(),n=Di();w.useEffect(()=>{if(i===null){const y=t.pathname.lastIndexOf("/"),b=t.pathname.substring(y+1);m(parseInt(b,10))}});const r=br(y=>y.events.currentEventDetails),i=br(y=>y.events.currentRaceID),l=yx([y=>y.results.results,y=>y.results.filteredClasses],(y,b)=>y.filter(function(R){return b.indexOf(R.Class)!==-1})),c=br(l),d=br(y=>y.results.classes),f=y=>{const b=y.node.data.Name;e(WC(b)),e(_C(b)),n("/person/"+b)},p=y=>{e(N5(y))},m=y=>{e(Fu(y)),e(Du(y))},C={mode:"singleRow",enableClickSelection:"enableSelection",checkboxes:!1};return w.useEffect(()=>{document.title=G5(r)||"Arbor | Event results"},[r]),I.jsx("div",{className:"row",children:I.jsxs("div",{className:"col-md-12",children:[I.jsxs(Wt,{className:"mb-3",children:[I.jsx(Wt.Header,{className:"bg-arbor text-white",children:"Event Summary"}),I.jsx(Wt.Body,{className:"ag-theme-balham",style:{padding:0},children:I.jsx(D7,{rowData:r})})]}),I.jsxs(Wt,{className:"mb-3",children:[I.jsx(Wt.Header,{className:"bg-arbor text-white",children:"Results"}),I.jsx(Wt.Body,{className:"ag-theme-balham",style:{padding:0},children:I.jsx(A7,{resultData:c,classData:d,onNameSelected:f,onClassFilterUpdated:p,rowSelection:C})})]})]})})},k7=()=>I.jsxs("div",{children:[I.jsx(U1,{}),I.jsx("div",{className:"container",children:I.jsxs(ix,{children:[I.jsx(vr,{path:"/",element:I.jsx(Bb,{})}),I.jsx(vr,{path:"/person/:name?",element:I.jsx(vR,{})}),I.jsx(vr,{path:"/person",element:I.jsx(vR,{})}),I.jsx(vr,{path:"/fight/:name1?/:name2?",element:I.jsx(wR,{})}),I.jsx(vr,{path:"/fight",element:I.jsx(wR,{})}),I.jsx(vr,{path:"/event/:id",element:I.jsx(M7,{})}),I.jsx(vr,{path:"/about",element:I.jsx(P7,{})}),I.jsx(vr,{path:"/champions",element:I.jsx(V5,{})}),I.jsx(vr,{element:I.jsx(Bb,{})})]})}),I.jsx(K1,{})]}),nD=e=>{if(e.Time){const t=e.Time.split(":");if(t.length===3){const n=parseInt(t[0],10),r=parseInt(t[1],10);e.Time=`${60*n+r}:${t[2]}`}}return e},I7={eventData:[],currentRaceID:null,currentEventDetails:[],champions:[]};function yR(e,t){return e.map(function(r){return parseInt(r.RaceID,10)}).indexOf(t)}function O7(e=I7,t){switch(t.type){case dP:let n;if(e.currentRaceID===null)n=[];else{const i=yR(t.events,e.currentRaceID);n=t.events.slice(i,i+1)}return Object.assign({},e,{eventData:t.events,champions:t.champions,currentEventDetails:n});case hP:const r=yR(e.eventData,parseInt(t.raceID,10));return Object.assign({},e,{currentRaceID:t.raceID,currentEventDetails:e.eventData.slice(r,r+1)});default:return e}}const L7={name:null,results:[]};function N7(e=L7,t){switch(t.type){case fP:return{name:t.name,results:[]};case mP:return t.results.map(n=>nD(n)),{name:e.name,results:t.results};default:return e}}const B7={results:[],classes:[],filteredClasses:[]};function H7(e=B7,t){switch(t.type){case pP:const n=t.results.map(function(r){return r.Class});return t.results.map(r=>nD(r)),{results:t.results,classes:[...new Set(n)],filteredClasses:[...new Set(n)]};case vP:return Object.assign({},e,{filteredClasses:t.filter});default:return e}}const G7={results:[],name1:null,name2:null};function V7(e=G7,t){switch(t.type){case gP:return t.fightResults.forEach(function(n){n.Position1=parseInt(n.Position1,10),n.Position2=parseInt(n.Position2,10)}),Object.assign({},e,{results:t.fightResults});case CP:return Object.assign({},e,{name1:t.name1,name2:t.name2});default:return e}}const W7=vx({events:O7,results:H7,name:N7,fight:V7});pN.registerModules([X$]);O2({theme:"legacy"});const rD=Kk({reducer:W7});rD.dispatch(B5());const _7=qT.createRoot(document.getElementById("root"));_7.render(I.jsx(W.StrictMode,{children:I.jsx(yk,{store:rD,children:I.jsx(ox,{basename:"/arbor",children:I.jsx(k7,{})})})}));
//# sourceMappingURL=index-DIdUHgfS.js.map
